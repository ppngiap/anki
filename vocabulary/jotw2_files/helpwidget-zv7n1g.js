Module.define("vcom/helpwidget",["jquery","vcom/base"],function(){function l(){var c=b.Deferred();VCOM.auth(function(a){var g=window.zESettings={webWidget:{color:{launcher:"#4db538",button:"#4db538",header:"#6182a8",resultLists:"#22558A",articleLinks:"#22558A"},contactForm:{title:{"*":"Contact Us"}},helpCenter:{title:{"*":"Search help articles"}},talk:{suppress:!0,nickname:"phone"},chat:{suppress:!1,hideWhenOffline:!0},contactOptions:{enabled:!0,contactButton:{"*":"Contact Us"},contactFormLabel:{"*":"Contact Us"}}}},
b=!1,h=[],f=location.href.includes("membership/teachers")||location.href.includes("membership/school");g.webWidget.talk.suppress=a.validUser&&a.plan?!1:!0;g.webWidget.chat.suppress=a.validUser&&(a.ima&&"educator"==a.ima||"other"==a.ima)&&(a.paid||f)||!a.validUser&&f?!1:!0;a.validUser&&(a.plan&&h.push(a.plan),a.paid&&h.push("paid"),h.push(a.ima||"user"));g.webWidget.chat.tags=h;d.department&&(g.webWidget.chat.departments={select:d.department});window.zE||function(a,c,d){var e=window.zE=window.zEmbed=
function(){e._.push(arguments)},b=e.s=a.createElement(c);a=a.getElementsByTagName(c)[0];e.set=function(a){e.set._.push(a)};e._=[];e.set._=[];b.async=!0;b.setAttribute("charset","utf-8");b.src="https://static.zdassets.com/ekr/asset_composer.js?key\x3d"+d;e.t=+new Date;b.type="text/javascript";a.parentNode.insertBefore(b,a)}(document,"script","96d8097c-0d6a-42b7-bdd9-38c52eae8451");zE("webWidget:on","open",function(){b||(k(),b=!0);window.ga&&ga("send","event","help","widget-open")});zE("webWidget",
"setLocale","en");d.search?zE("webWidget","helpCenter:setSuggestions",{search:d.search}):d.topics&&zE("webWidget","helpCenter:setSuggestions",{labels:d.topics});(a&&a.auth&&null!=a.auth.email||null!=a.auth.fullname)&&zE("webWidget","identify",{name:a.auth.fullname,email:a.auth.email});c.resolve(zE)});return c}function k(){var c=b("#webWidget").contents();0==c.length&&setTimeout(k,10);0==c.find("#customCss").length&&c.find("head").append('\x3cstyle id\x3d"customCss"\x3e .src-component-submitTicket-SubmitTicketForm-ticketFormTitle { display: none; } .src-component-submitTicket-SubmitTicketForm-formWrapper { padding-top: 2em } \x3c/style\x3e')}
var b=jQuery,f,d={};b(function(b){f=jQuery("meta[name\x3dhelpwidget]");d=f.data()||{};f.length&&l()})});