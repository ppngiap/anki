Module.define("vcom/achievements",["base","jquery","waitforimages","vcom/api"],function(){function n(){return modules.vcom.api.remote("/me/achievements",{data:{limit:500}}).then(function(a){var b={},c=0,G=0;a.achievements.forEach(function(a){a.last_earned_at=new Date(a.last_earned_at);a.first_earned_at=new Date(a.first_earned_at);a.milestone1&&(a.milestone1=new Date(a.milestone1));a.milestone2&&(a.milestone2=new Date(a.milestone2));a.milestone3&&(a.milestone3=new Date(a.milestone3));b[a.id]=a;"MLTR"==
r[a.id].type&&(c+=a.count);"LVL"==r[a.id].type&&null!=a.value&&(G=a.value)});return u.map(function(a){a=q.extend({count:0,milestone:-1},a,b[a.id]);var d=a.milestones.indexOf(a.count+1);a.count&&-1==a.milestone&&(a.milestone=0);a.nextBonus=-1==d?a.bonuses[0]:a.bonuses[d];a.nextMilestoneBonus=a.bonuses[a.milestone+1];a.complete=a.milestone+1==a.milestones.length;!a.complete&&(d=a.milestones[a.milestone+1])&&(a.togo="MCNT"==a.type?a.metric-c:"LVL"==a.type?d-G:d-(a.count||0));return a})})}function f(a){if(a&&
a.id){var b=r[a.id];b?(a=q.extend({},b,a),w.push(a),1==w.length&&d(a)):console.error("unknown achievement type",ac.id)}}function d(a){var b=q("header.page-header"),c=b.find(".achievements");a?q('\x3ca class\x3d"ach-bg '+a.id+'"\x3e\x3cdiv class\x3d"label"\x3e\x3cdiv class\x3d"name"\x3e\x3c/div\x3e\x3cdiv class\x3d"count text-border-color"\x3e\x3c/div\x3e\x3cdiv class\x3d"bonus"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e').attr({title:a.name,href:"/leaderboards/today/"+a.id}).find(".name").text(a.name+
"!").end().find(".count").text(k(a.count)+"x").end().find(".bonus").text("+"+(a.bonus?k(a.bonus):"")+" bonus").end().prepend(q('\x3ci class\x3d"ach '+a.id+(a.milestone?" M"+a.milestone:"")+'"\x3e\x3c/i\x3e').attr("data-progress",a.progress)).on("click",function(){VCOM.showAchievementDetail(a.id);return!1}).appendTo(c.empty()).drawProgress().waitForImages(!0).then(function(){b.addClass("with-achievements");setTimeout(function(){w.shift();d(w[0])},5500)}):b.removeClass("with-achievements")}function h(c){c.each&&
c.each(function(){var c=q(this),d=parseInt(c.data("progress"))||0;d=Math.min(1,Math.max(0,(d||0)/100||0));var e=c.data("milestone");null==e&&(e=c.hasClass("M1")?1:c.hasClass("M2")?2:c.hasClass("M3")?3:0,c.data("milestone",e));c.removeClass("M1 M2 M3");0<e&&c.addClass("M"+e);var m=a[e||0][0];e=m+(a[e||0][1]-m)*d;0<d&&(d=c.find("path"),d.length?d.attr("d",b(p(m),p(e))):(d=l("svg",{viewBox:"0 0 240 240"}),d.appendChild(l("path",{"class":"progress",d:b(p(m),p(e)),fill:"none","stroke-linecap":"round"})),
c.append(d)))})}function p(a){return a*Math.PI/180-1.5*Math.PI}function b(a,c){var b=c-a<Math.PI?" 0 1 ":" 1 1 ";return" M "+[120+90*Math.cos(a),120+90*Math.sin(a)].join(" ")+" A 90 90 0 "+b+[120+90*Math.cos(c),120+90*Math.sin(c)].join(" ")}function l(a,c,b){a=document.createElementNS("http://www.w3.org/2000/svg",a);if(c)for(var d in c)a.setAttribute(d,c[d]);null!=b&&a.appendChild(document.createTextNode(b));return a}function g(a,b,d){d||(d=Math.ceil((b-a)/20),c.addClass("animating"));var e=Math.min(a,
b);e<b?setTimeout(function(){g(a+d,b,d)},40):c.removeClass("animating");c.html(k(e))}function k(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var u=[{name:"1 Day Streak",type:"DSTK",milestones:[1,5,25,50],level:!1,bonuses:[500,2500,12500,25E3],id:"DSTK1"},{name:"2 Day Streak",type:"DSTK",milestones:[1,5,25,50],level:!1,bonuses:[750,3750,18750,37500],id:"DSTK2"},{name:"3 Day Streak",type:"DSTK",milestones:[1,5,25,50],level:!1,bonuses:[1E3,5E3,25E3,5E4],id:"DSTK3"},{name:"4 Day Streak",
type:"DSTK",milestones:[1,5,25,50],level:!1,bonuses:[1500,7500,37500,75E3],id:"DSTK4"},{name:"5 Day Streak",type:"DSTK",milestones:[1,5,25,50],level:!1,bonuses:[2E3,1E4,5E4,1E5],id:"DSTK5"},{name:"6 Day Streak",type:"DSTK",milestones:[1,5,25,50],level:!1,bonuses:[2500,12500,62500,125E3],id:"DSTK6"},{name:"Mastered the Week",type:"DSTK",milestones:[1,5,25,50],level:!1,bonuses:[5E3,25E3,125E3,25E4],id:"DSTK7"},{name:"Novice",type:"LVL",milestones:[0,1250,2500,3750],level:!0,bonuses:[0,50,100,200],id:"L01"},
{name:"Hotshot",type:"LVL",milestones:[5E3,1E4,15E3,2E4],level:!0,bonuses:[250,375,500,1E3],id:"L02"},{name:"Phenom",type:"LVL",milestones:[25E3,31250,37500,43750],level:!0,bonuses:[313,469,625,1250],id:"L03"},{name:"Prodigy",type:"LVL",milestones:[5E4,62500,75E3,87500],level:!0,bonuses:[625,938,1250,2500],id:"L04"},{name:"Brainiac",type:"LVL",milestones:[1E5,125E3,15E4,175E3],level:!0,bonuses:[1250,1875,2500,5E3],id:"L05"},{name:"Savant",type:"LVL",milestones:[2E5,225E3,25E4,275E3],level:!0,bonuses:[1250,
1875,2500,5E3],id:"L06"},{name:"Maven",type:"LVL",milestones:[3E5,325E3,35E4,375E3],level:!0,bonuses:[1250,1875,2500,5E3],id:"L07"},{name:"Verbivore",type:"LVL",milestones:[4E5,425E3,45E4,475E3],level:!0,bonuses:[1250,1875,2500,5E3],id:"L08"},{name:"Logophile",type:"LVL",milestones:[5E5,525E3,55E4,575E3],level:!0,bonuses:[1250,1875,2500,5E3],id:"L09"},{name:"Sage",type:"LVL",milestones:[6E5,625E3,65E4,675E3],level:!0,bonuses:[1250,1875,2500,5E3],id:"L10"},{name:"Maestro",type:"LVL",milestones:[7E5,
725E3,75E4,775E3],level:!0,bonuses:[1250,1875,2500,5E3],id:"L11"},{name:"Guru",type:"LVL",milestones:[8E5,825E3,85E4,875E3],level:!0,bonuses:[1250,1875,2500,5E3],id:"L12"},{name:"Polymath",type:"LVL",milestones:[9E5,925E3,95E4,975E3],level:!0,bonuses:[1250,1875,2500,5E3],id:"L13"},{name:"Sesquipedalianist",type:"LVL",milestones:[1E6,125E4,15E5,175E4],level:!0,bonuses:[12500,18750,25E3,5E4],id:"L14"},{name:"Lexicomaniac",type:"LVL",milestones:[2E6,275E4,35E5,425E4],level:!0,bonuses:[37500,56250,75E3,
15E4],id:"L15"},{name:"Vocabularian",type:"LVL",milestones:[5E6,625E4,75E5,875E4],level:!0,bonuses:[62500,93750,125E3,25E4],id:"L16"},{name:"Walking Dictionary",type:"LVL",milestones:[1E7,1375E4,175E5,2125E4],level:!0,bonuses:[187500,281250,375E3,75E4],id:"L17"},{name:"Running Dictionary",type:"LVL",milestones:[25E6,3125E4,375E5,4375E4],level:!0,bonuses:[312500,468750,625E3,125E4],id:"L18"},{name:"Mastermind",type:"LVL",milestones:[5E7,625E5,75E6,875E5],level:!0,bonuses:[625E3,937500,125E4,25E5],
id:"L19"},{name:"Word Czar",type:"LVL",milestones:[1E8,2E8,3E8,4E8],level:!0,bonuses:[5E6,75E5,1E7,2E7],id:"L20"},{name:"5 Words Mastered ",type:"MCNT",metric:5,milestones:[1],level:!1,bonuses:[500],id:"M5"},{name:"10 Words Mastered",type:"MCNT",metric:10,milestones:[1],level:!1,bonuses:[1E3],id:"M10"},{name:"50 Words Mastered",type:"MCNT",metric:50,milestones:[1],level:!1,bonuses:[5E3],id:"M50"},{name:"100 Words Mastered",type:"MCNT",metric:100,milestones:[1],level:!1,bonuses:[1E4],id:"M100"},{name:"150 Words Mastered",
type:"MCNT",metric:150,milestones:[1],level:!1,bonuses:[15E3],id:"M150"},{name:"200 Words Mastered",type:"MCNT",metric:200,milestones:[1],level:!1,bonuses:[2E4],id:"M200"},{name:"250 Words Mastered",type:"MCNT",metric:250,milestones:[1],level:!1,bonuses:[25E3],id:"M250"},{name:"300 Words Mastered",type:"MCNT",metric:300,milestones:[1],level:!1,bonuses:[3E4],id:"M300"},{name:"400 Words Mastered",type:"MCNT",metric:400,milestones:[1],level:!1,bonuses:[4E4],id:"M400"},{name:"500 Words Mastered",type:"MCNT",
metric:500,milestones:[1],level:!1,bonuses:[5E4],id:"M500"},{name:"1,000 Words Mastered",type:"MCNT",metric:1E3,milestones:[1],level:!1,bonuses:[1E5],id:"M1K"},{name:"2,000 Words Mastered",type:"MCNT",metric:2E3,milestones:[1],level:!1,bonuses:[2E5],id:"M2K"},{name:"3,000 Words Mastered",type:"MCNT",metric:3E3,milestones:[1],level:!1,bonuses:[3E5],id:"M3K"},{name:"4,000 Words Mastered",type:"MCNT",metric:4E3,milestones:[1],level:!1,bonuses:[4E5],id:"M4K"},{name:"5,000 Words Mastered",type:"MCNT",
metric:5E3,milestones:[1],level:!1,bonuses:[5E5],id:"M5K"},{name:"10,000 Words Mastered",type:"MCNT",metric:1E4,milestones:[1],level:!1,bonuses:[1E6],id:"M10K"},{name:"Mastered an 'A' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MA"},{name:"Mastered a 'B' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MB"},{name:"Mastered a 'C' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MC"},{name:"Mastered a 'D' Word",
type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MD"},{name:"Mastered an 'E' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"ME"},{name:"Mastered an 'F' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MF"},{name:"Mastered a 'G' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MG"},{name:"Mastered an 'H' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,
1E4],id:"MH"},{name:"Mastered an 'I' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MI"},{name:"Mastered a 'J' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MJ"},{name:"Mastered a 'K' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MK"},{name:"Mastered an 'L' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"ML"},{name:"Mastered an 'M' Word",type:"MLTR",milestones:[1,
5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MM"},{name:"Mastered an 'N' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MN"},{name:"Mastered an 'O' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MO"},{name:"Mastered a 'P' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MP"},{name:"Mastered a 'Q' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MQ"},{name:"Mastered an 'R' Word",
type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MR"},{name:"Mastered an 'S' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MS"},{name:"Mastered a 'T' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MT"},{name:"Mastered a 'U' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MU"},{name:"Mastered a 'V' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],
id:"MV"},{name:"Mastered a 'W' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MW"},{name:"Mastered an 'X' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MX"},{name:"Mastered a 'Y' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MY"},{name:"Mastered a 'Z' Word",type:"MLTR",milestones:[1,5,50,100],level:!1,bonuses:[1E3,2E3,5E3,1E4],id:"MZ"},{name:"Perfect Round!",type:"RND",milestones:[1,10,100,1E3],
level:!1,bonuses:[100,1E3,1E4,1E5],metric:10,id:"PRND"},{name:"Streak - 5 in a Row",type:"STK",metric:5,milestones:[1,10,100,1E3],level:!1,bonuses:[25,250,2500,25E3],id:"S5"},{name:"Streak - 10 in a Row",type:"STK",metric:10,milestones:[1,10,100,1E3],level:!1,bonuses:[50,500,5E3,5E4],id:"S10"},{name:"Streak - 15 in a Row",type:"STK",metric:15,milestones:[1,10,100,1E3],level:!1,bonuses:[75,750,7500,75E3],id:"S15"},{name:"Streak - 20 in a Row",type:"STK",metric:20,milestones:[1,10,100,1E3],level:!1,
bonuses:[100,1E3,1E4,1E5],id:"S20"},{name:"Streak - 25 in a Row",type:"STK",metric:25,milestones:[1,10,100,1E3],level:!1,bonuses:[250,2500,25E3,25E4],id:"S25"},{name:"Streak - 50 in a Row",type:"STK",metric:50,milestones:[1,10,100,1E3],level:!1,bonuses:[500,5E3,5E4,5E5],id:"S50"},{name:"Streak - 100 in a Row",type:"STK",metric:100,milestones:[1,10,100,1E3],level:!1,bonuses:[1E3,1E4,1E5,1E6],id:"S100"},{id:"JL",level:!1,name:"Leader of the Jam",type:"JAM",bonuses:[1E3,1E4,1E5,1E6],milestones:[1,10,
100,1E3]},{id:"JWT",level:!1,name:"Winning Team",type:"JAM",bonuses:[500,5E3,5E4,5E5],milestones:[1,50,500,5E3]},{id:"JTL",level:!1,name:"Jam Team Leader",type:"JAM",bonuses:[500,5E3,5E4,5E5],milestones:[1,50,500,5E3]}],r=u.reduce(function(a,c){a[c.id]=c;return a},{});this.all=u;this.byId=r;var q=jQuery,e=0,m,c=q(),a=[[5,355],[10,350],[30,330],[40,320]],w=[];this.showAchievement=VCOM.showAchievement=f;this.nextGoal=function(){function a(a){var c=null;a=d(a);for(var e=5;null==c&&50>e;e+=5)c=a.filter(function(a){return a.togo<
("LVL"==a.type?1E3*e:e)})[0];null==c&&(c=a[0]);if(null!=c)if("LVL"==c.type)if(-1==c.milestone){a=c;var H="Score "+c.togo.toLocaleString()+" more points and become ";a:switch((c.name||"").charAt(0).toLowerCase()){case "a":case "e":case "i":case "o":case "u":var m="an";break a;default:m="a"}a.text=H+m+" "+c.name+"."}else c.text="Score "+c.togo.toLocaleString()+" more points and earn your "+b(c.milestone+1)+" "+c.name+" milestone.";else"STK"==c.type?c.text=-1==c.milestone?"Answer "+c.metric+" in a row correct.":
"Answer "+c.metric+" in a row correct "+c.togo+" time"+(1==c.togo?"":"s")+" and earn your "+b(c.milestone+1)+" milestone.":"PRND"==c.id?c.text=-1==c.milestone?"Complete your first perfect round.":"Complete "+c.togo+" perfect round"+(1==c.togo?"":"s")+" and earn your "+b(c.milestone+1)+" milestone.":"MLTR"==c.type?(a=c.id.charAt(1),c.text=-1==c.milestone?'Master your first "'+a+'" word':"Master "+c.togo+' more  \x3ca href\x3d"/words/'+a.toLowerCase()+'"\x3e'+a+" word"+(1==c.togo?"":"s")+"\x3c/a\x3e and earn your "+
b(c.milestone+1)+" milestone."):"MCNT"==c.type&&(c.text="Master "+c.togo+" more word"+(1==c.togo?"":"s")+".");return c}function c(){for(var a="DSTK1",c=6;1<=c;c--){var d=k["DSTK"+c];if(d&&e(d.last_earned_at,l)){a="DSTK"+(c+1);break}}c=k[a];a=parseInt(a.substring(a.length-1));1==a?c.text="Master your first word today and earn your "+b(c.count+1)+" one-day streak.":7>a?c.text="Master a word and extend your mastery streak to "+a+" days.":7==a&&(c.text="Master your first word today and complete a week mastery streak.");
return c}function b(a){var c=["th","st","nd","rd"],b=a%100;return a+(c[(b-20)%10]||c[b]||c[0])}function d(a){var c=!1,b=!1;return a.filter(function(a){if(a.complete)return!1;var d=a.milestone;a.nextMilestoneBonus&&(a.weight="LVL"==a.type?a.nextBonus/(a.togo/100*(a.bonuses[0]|1)):a.nextBonus/(a.togo*(a.bonuses[0]|1)*(a.metric||1)));switch(a.type){case "DSTK":case "JAM":return!1;case "LVL":return 3>d&&!c?c=!0:!1;case "MLTR":if(-1<d&&3>d)return"MX"==a.id||"MY"==a.id&&0<d||"MZ"==a.id&&0<d||"MQ"==a.id&&
1<d||"MK"==a.id&&1<d?!1:!0;case "MCNT":return a.count||b?!1:b=!0;case "STK":return!a.count&&20<a.metric?!1:!0;default:return!0}}).sort(function(a,c){return(c.weight||0)-(a.weight||0)})}function e(a,c){return a&&c&&a.getYear()==c.getYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate()}var m,k={},l=new Date,g=new Date;l.setDate(l.getDate()-1);return n().then(function(b){m=b.filter(function(a){return"MLTR"==a.type}).reduce(function(a,c){return null==a||c.last_earned_at>a?c.last_earned_at:a},
null);k=b.reduce(function(a,c){return a[c.id]=c,a},{});var d=null;m&&!e(g,m)&&(d=c());null==d&&(d=a(b));return d})};this.fetchAllAnnotated=n;q(function(){c=q(".logininfo .points");q("body").on("challenge.update pdata.update",function(a){a.pdata&&a.pdata.points&&a.pdata.points!=e&&(a=a.pdata,VCOM.authCache.update({$set:{points:a.points,level:a.level}}),g(e||a.points,e=a.points),$levelbadge=q(".logininfo .ach").data(a.level),m!=a.level.id&&(m=a.level.id,$levelbadge.attr({"class":"icon ach levelbadge "+
m})),h($levelbadge))})});this.drawProgress=h});
Module.define("vcom/api",["vcom/base","cookie","jquery"],function(){function n(c,a){var b=g.Deferred();h().then(function(e){a=g.extend({method:"GET",cache:"no-store",retries:2,retryDelay:250},a);a.headers=g.extend({Accept:"application/json","X-Time-Zone":modules.cookie.get("tz")},a.headers,{Authorization:"Bearer "+e.access_token});"html"==a.type?a.headers.Accept="text/html":"text"==a.type&&(a.headers.Accept="text/plain");"object"==typeof a.data&&(e=a.data,delete a.data,"PUT"==a.method||"PATCH"==a.method||
"json"==a.type?(a.body=JSON.stringify(e),a.headers["Content-Type"]="application/json"):"POST"==a.method?(a.body=d(e),a.headers["Content-Type"]="application/x-www-form-urlencoded; charset\x3dUTF-8"):c=c+(-1==c.indexOf("?")?"?":"\x26")+d(e));m(u.apiServer+u.apiVersion+c,a).then(function(c){u.link=f(c.headers.link||c.headers.Link);b.resolve("raw"==a.type?c:"html"==a.type||"text"==a.type?c.text:c.json)}).fail(function(d){401==d.status&&l();0<a.retries&&k[a.error]?(a.retries--,a.retryDelay*=2,l(),setTimeout(function(){n(c,
a).then(b.resolve).fail(b.reject)},a.retryDelay||1E3)):b.reject(d)})});return b}function f(c){if(!c||!c.length)return{};var a={};c.split(/,\s+/).forEach(function(c){var b=c.split(/;\s+/);c={uri:b[0].replace(/<(.*)>/,"$1").trim()};for(var d=1;d<b.length;d++){var e=/([^=]*)="([^"]*)"/.exec(b[d].trim());e&&(c[e[1]]=e[2])}b=u.apiServer+u.apiVersion;c.uri.startsWith(b)&&(c.uri=c.uri.substring(b.length));a[c.rel]=c});return a}function d(c){if("object"===typeof c){var a=[],b;for(b in c){var d=c[b];null!=
d&&("object"===typeof d&&"function"===typeof d.map?a.push(d.map(function(a){return encodeURIComponent(b)+"\x3d"+encodeURIComponent(a)}).join("\x26")):null!=d&&a.push(encodeURIComponent(b)+"\x3d"+encodeURIComponent(d)))}return a.join("\x26")}return c}function h(c){var a=Date.now();if(q&&!c){if(q.expiresAt&&q.expiresAt>a)return q;q=null}var e=g.Deferred();e.expiresAt=a+1E4;q=e;b();VCOM.auth(function(b){a=Date.now();var k=JSON.parse(sessionStorage.getItem("api.token")||"null"),l=null==k||!k.expires_at||
a>k.expires_at;c||null==k||l||k.refresh_token!=b.guid?m(u.apiServer+u.apiVersion+"/auth/token",{method:"POST",body:d(null!=b.guid?{refresh_token:b.guid}:l?null:{refresh_token:k.refresh_token}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(c){200==c.status?(c=c.json,c.expires_at=a+1E3*c.expires_in,delete c.expires_in,p(c.expires_at),sessionStorage.setItem("api.token",JSON.stringify(c)),e.expiresAt=c.expires_at,e.resolve(c)):(q=null,e.reject(c))}).fail(function(a){q=
null;e.reject(a)}):(e.expiresAt=k.expires_at,e.resolve(k),p(k.expires_at))});return e}function p(c){b();c=Math.max(1,c-Date.now()-5E3);r=setTimeout(function(){return h(!0)},c)}function b(){r&&(clearTimeout(r),r=null)}function l(){q=null;sessionStorage.removeItem("api.token");b()}var g=jQuery,k={401:!0,403:!0},u=this,r=null,q=null;this.apiVersion="/1.0";this.apiServer=window.VCOM.__api_server||"https://api.vocabulary.com";this.remote=n;this.getAuth=h;var e={requests:0,responses:0,errors:0,totaltime:0,
max:null};this.resetStats=function(){return e={requests:0,responses:0,errors:0,timeouts:0,totaltime:0,max:null}};this.stats=function(){return g.extend({},e)};this.authStatus=function(){var c=null,a=null;try{c=JSON.parse(sessionStorage.getItem("api.token")||"{}")}catch(G){}try{if(c&&c.access_token){var b=c.access_token.split(".")[1].replace("-","+").replace("_","/");a=JSON.parse(window.atob(b))}}catch(G){}return{now:new Date+"",issued_at:a&&a.iat?new Date(1E3*a.iat)+"":null,expires_at:a&&a.exp?new Date(1E3*
a.exp)+"":null,jwt:a,cached:null!=q,cache_ttl:null==q?null:q.expiresAt-Date.now()}};g(window).on("authchange",l);var m=function(){var c={},a=0,b=g.Deferred(),d=u.apiServer+"/proxy.html";g(function(){g('\x3ciframe name\x3d"_vcom_proxy"\x3e').attr("src",d).hide().appendTo("body")});g(window).on("pageshow",function(a){try{var c=g('iframe[name\x3d"_vcom_proxy"]');c[0].contentWindow.location.href!=d&&c.attr("src",d)}catch(A){}});addEventListener("message",function(a){if(a.origin.match(u.apiServer.replace(/\./g,
"\\.")))if(a.data&&c[a.data.id]){var d=c[a.data.id];if(d){var m=Date.now()-d.start;e.totaltime+=m;if(!e.max||m>e.max.time)e.max={url:d.url,time:m};delete c[a.data.id];clearTimeout(d.timeout);"done"==a.data.status&&a.data.response?200<=a.data.response.status&&300>a.data.response.status?(e.responses++,d.promise.resolve(a.data.response)):(e.errors++,d.promise.reject(a.data.response||a.data.error)):(e.errors++,d.promise.reject(a.data.error))}}else a.data&&a.data.ready&&b.resolve(a.source)},!1);return function(m,
k){var l=a++,u=c[l]={promise:g.Deferred(),url:m,start:Date.now()};b.then(function(a){e.requests++;a.postMessage({id:l,url:m,options:k},d)});u.timeout=setTimeout(function(){var a=c[l];a&&(e.timeouts++,delete c[l],a.promise.reject(Error("timeout waiting for proxied API request to: "+m)))},1E4);return u.promise}}();this.progress={getWord:function(c,a){return n("/progress/words/"+c,{data:a,method:"GET"})},getWords:function(c){return n("/progress/words",{data:c,method:"GET"})},getListWords:function(c,
a){return n("/progress/words/list/"+c,{data:a,method:"GET"})},setPriority:function(c,a){return n("/progress/words/"+c,{data:{priority:a},method:"PATCH"})},priority:{NORMAL:0,HIGH:1,LOW:-1}}});
Module.define("vcom/examplebrowser",["jquery","date","vcom/examplebrowser.css"],function(){function n(p,b){function l(d){x.query&&(x.domain=b.domain,y=!0,c(x,function(c){y=!1;t.totalResults=c.totalHits;t.sentences.push.apply(t.sentences,c.sentences);g(!0);"function"===typeof d&&d.call(a,x)}))}function g(a){0==t.sentences.length?k(f('\x3cdiv class\x3d"results"\x3e\x3cdiv class\x3d"messages"\x3eno examples found\x3c/div\x3e\x3c/div\x3e'),a):k(f('\x3cdiv class\x3d"results"\x3e\x3c/div\x3e').append(e(t)),
a);w.toggleClass("hasPrev",t.hasPrev());w.toggleClass("hasNext",t.hasNext());w.trigger("exampleBrowser.load",x.query)}function k(a,c){var b=B.width()+10;B.height(B.height());w.addClass("animating");a.css("left",(c?b:-b)+"px").appendTo(B).animate({left:0},500);B.animate({height:a.height()},500);var d=C;C.animate({left:c?-b:b},500,function(){d.remove();B.css("height","auto");w.removeClass("animating")});C=a}function u(){t.hasNext()&&(t.displayPtr+t.displayWindow>=t.sentences.length?y||(y=!0,x.startOffset=
t.sentences.length,c(x,function(a){y=!1;t.sentences.push.apply(t.sentences,a.sentences);t.displayPtr<t.sentences.length+t.displayWindow&&(t.displayPtr+=t.displayWindow,g(!0))})):t.displayPtr<t.sentences.length+t.displayWindow&&(t.displayPtr+=t.displayWindow,g(!0)))}function r(){t.hasPrev()&&(t.displayPtr-=t.displayWindow,g(!1))}function q(a){var c=f('\x3cdiv class\x3d"sentence"/\x3e'),b=a.sentence;a=a.offsets;for(var d=0,e=0;e<a.length;e+=2)c.append(document.createTextNode(b.substring(d,a[e]))),c.append(f("\x3cstrong/\x3e").text(b.substring(a[e],
a[e+1]))),d=a[e+1];c.append(document.createTextNode(b.substring(d)));return f("\x3cli/\x3e").append(c)}function e(a){for(var c=f("\x3cul/\x3e"),b=a.displayPtr;b<Math.min(a.sentences.length,a.displayPtr+a.displayWindow);b++){var d=a.sentences[b];q(d).append(m(d)).appendTo(c)}return c}function m(a){var c=f('\x3ca target\x3d"_blank" class\x3d"source"\x3e\x3c/a\x3e'),b=f("\x3cspan /\x3e").appendTo(c);"GUT"==a.volume.corpus.id?(c.attr("href","http://www.gutenberg.org/ebooks/"+a.volume.locator),b.addClass("author").text(a.volume.author)):
("LIT"==a.volume.corpus.id?b.addClass("title").text(a.volume.title):(b.addClass("corpus").text(a.volume.corpus.name),a.volume.datePublished&&f('\x3cspan class\x3d"date" /\x3e').text(Date.fromISO(a.volume.datePublished).format("mediumDate")).appendTo(c)),a.volume.asin?c.attr("href","http://www.amazon.com/dp/"+a.volume.asin+"?tag\x3dvocabcom-20"):a.volume.locator&&0==a.volume.locator.indexOf("http")&&c.attr("href",a.volume.locator));return c}function c(a,c){f.get(a.domain?"https://corpus.vocabulary.com/api/1.0/examples.json":
"https://corpus.vocabulary.com/api/1.0/examples/random.json",f.extend({maxResults:a.domain?6*b.displayWindow:16*b.displayWindow},a),function(a){c(a.result)})}var a=this;this.clear=function(){B.empty();t.reset();p.trigger("exampleBrowser.clear")};this.next=u;this.prev=r;b=b||{};b.displayWindow||(b.displayWindow=3);p&&(p=f(p).empty().addClass("vcom_examples").data("examplebrowser",this),p.attr("count")&&(b.displayWindow=parseInt(p.attr("count"))),"false"==p.attr("domains")&&(b.hideDomains=!0));this.options=
b;var w=f('\x3cdiv class\x3d"exampleBrowser"\x3e\x3c/div\x3e');this.element=w[0];var n=f('\x3cdiv class\x3d"example-dropdown-header"\x3e\x3c/div\x3e').appendTo(w);f('\x3cspan class\x3d"header-text"\x3eUsage Examples\x3c/span\x3e').appendTo(n);var z=f('\x3cdiv class\x3d"dropdown-wrapper"\x3e\x3c/div\x3e').appendTo(n),E=f('\x3cdiv class\x3d"dropdown-component"\x3e\x3c/div\x3e').appendTo(z);f('\x3cdiv class\x3d"dropdown-select"\x3e\x3c/div\x3e').appendTo(E).text(h[0]);var A=f("\x3cul\x3e\x3c/ul\x3e").appendTo(E);
h.forEach(function(a,c){a=f("\x3cli\x3e\x3c/li\x3e").text(a).attr("data-code",d[c]).appendTo(A);0===c&&a.addClass("selected");a.on("click",function(){var a=f(this).data("code");a?b.domain=a:delete b.domain;x&&(x.startOffset=0,t.reset(),l())})});z.on("click",function(a){a.stopPropagation();f(this).toggleClass("dropdown-open");a=z.offset().top-f(document).scrollTop();var c=z.height();a+c+A.height()>f(window).height()?A.css("bottom","32px"):A.css("bottom","unset")});f(document).click(function(){z.removeClass("dropdown-open")});
f(A).on("click","li",function(){var a=f(this).html();f(this).addClass("selected");f("li").not(f(this)).removeClass("selected");f(".dropdown-select").html(a)});var B=f('\x3cdiv class\x3d"container"\x3e\x3c/div\x3e').appendTo(w),C=f('\x3cdiv class\x3d"results"\x3e\x3cdiv class\x3d"messages"\x3eloading examples...\x3c/div\x3e\x3c/div\x3e').appendTo(B);f('\x3cdiv class\x3d"buttons"\x3e\x3ca class\x3d"prev" title\x3d"prev"\x3e\x26lt prev\x3c/a\x3e | \x3ca class\x3d"next right" title\x3d"next"\x3enext \x26gt\x3c/a\x3e\x3c/div\x3e').appendTo(n);
n.on("click","a.next, a.prev",function(a){a.preventDefault();w.hasClass("animating")||(f(this).hasClass("next")?u():r())});p&&f(p).empty().append(w);var x=null,F=null;this.search=function(a,c){a!=F&&(F=a.trim(),x={query:a,startOffset:0},t.reset(),l(c));return!1};var t={displayPtr:0,displayWindow:b.displayWindow,sentences:[],totalResults:0,renderHTML:q,hasNext:function(){return this.displayPtr+this.displayWindow<this.totalResults},hasPrev:function(){return 0<this.displayPtr},reset:function(){this.displayPtr=
0;this.sentences=[];this.totalResults=0}},y=!1;p&&p.attr("word")&&this.search(p.attr("word"))}var f=jQuery,d=[null,"F","A","N","B","S","M","T"],h="All Sources;Fiction;Arts / Culture;News;Business;Sports;Science / Med;Technology".split(";");this.construct=function(){$this=f(this);return $this.data("examplebrowser")||new n(this)};this.ExampleBrowser=n});
Module.define("vcom/listtools",["vcom/base","jquery","dotimeout","vcom/api"],function(){var n=modules.vcom.api,f=jQuery;this.masteryWidget=function(){var d=f(this),h=d.data();h.parsed||(h.listId=parseInt(h.listId),h.parsed=!0,h.listId?VCOM.auth(function(p){p.validUser?n.remote("/progress/lists/"+h.listId).then(function(b){f("a[data-action\x3dbookmark]").trigger("bookmarkchange",b);if(b&&b.learnable_word_count){var l=function(){g.empty();b.learning&&g.append('\x3cbutton class\x3d"outline" data-action\x3d"stop-learning" title\x3d"Remove from learning program"\x3eStop Learning\x3c/button\x3e');
0==b.progress?g.append('\x3cbutton class\x3d"outline" data-action\x3d"finish-mastery" title\x3d"Add to learning program and start mastering the words on this list."\x3eStart Mastery\x3c/button\x3e'):1>b.progress&&g.append('\x3cbutton class\x3d"outline" data-action\x3d"finish-mastery" title\x3d"Add to learning program and finish mastering the words on this list."\x3eFinish Mastery\x3c/button\x3e')};d.append("\x3ch3\x3eList Mastery\x3c/h3\x3e");d.append('\x3cdiv class\x3d"row"\x3e\x3cdiv class\x3d"label"\x3eYour progress towards mastering all the words in this list.\x3c/div\x3e\x3cdiv class\x3d"actions"\x3e\x3c/div\x3e\x3ccanvas data-action\x3d"finish-mastery" class\x3d"progress"\x3e\x3c/div\x3e');
d.find("canvas").attr("data-progress",Math.floor(100*b.progress));var g=d.find(".actions");l();VCOM.parse(d);d.on("click",'*[data-action\x3d"stop-learning"]',function(){var d=f(this).prop("disabled",!0);f.post("/lists/"+h.listId+"/stop.json",function(){b.learning=!1;l();d.prop("disabled",!1)});return!1});d.on("click",'*[data-action\x3d"finish-mastery"]',function(){document.location.href="/play/"+h.listId;return!1})}}):d.hide()}):d.hide())};jQuery(function(d){function f(){var b=d(".page_wordlist ol.wordlist li.entry.learnable");
if(b.length){var g=function(b){n.remote("/progress/words",{data:{words:b,limit:b.length}}).then(function(b){b&&b.forEach&&b.forEach(function(b){var e=Math.floor(100*b.progress.progress);k[b.word].attr("prog",e).find("i.progress").remove().end().append(d('\x3ci class\x3d"progress"/\x3e').attr({"data-prg":e,title:e+"% Mastered"}))})})},k={};b.map(function(b){b=d(this);k[b.attr("word")]=b});b=Object.keys(k);if(250>=b.length)g(b);else for(var u=0;u<b.length;u+=250)g(b.slice(u,u+250));d(".page_wordlist select#wlOrder").find('option[value\x3d"progress"]').remove().end().append('\x3coption value\x3d"progress"\x3ein progress order\x3c/option\x3e')}else b.find("i.progress").remove(),
d('.page_wordlist select#wlOrder option[value\x3d"progress"]').remove()}function p(b,g,k){function u(a){d.contains(b[0],a.target)||a.target===b[0]||f()}function f(){b.off("hide",f);d("body").off("click",u);b.fadeOut(function(){b.trigger("hidden").remove()})}var l=g.offset();b.css("position","absolute").appendTo("body");var e=b.outerHeight(),m=b.outerWidth();b.hide();var c=g[0].getBoundingClientRect().top+e+30>d(window).height();k=d.extend({alignX:0,alignY:c?0:1,anchorX:0,anchorY:c?1:0,offsetX:0,offsetY:c?
-4:4},k);b.on("hide",f);l.top+=g.height()*k.alignY+-e*k.anchorY+k.offsetY;l.left+=g.width()*k.alignX+-m*k.anchorX+k.offsetX;b.offset(l);d("body").doTimeout("popupclick",1,"on","click",u)}var b=d('meta[name\x3d"vocab:wordlist:id"]').attr("content");VCOM.auth(function(l){l.validUser?(VCOM.recentLists(b),f()):d('.page_wordlist select#wlOrder option[value\x3d"progress"]').remove()});d("body").on("click",'*[data-action\x3d"restart-practice"]',function(d){confirm("Are you sure you would like to restart your Practice session?")&&
(document.location.href="/lists/"+b+"/reset");d.preventDefault();d.stopPropagation();return!1}).on("click",'*[data-action\x3d"restart-bee"]',function(d){confirm("Are you sure you would like to restart your Spelling Bee session?")&&(document.location.href="/lists/"+b+"/bee/reset");d.preventDefault();d.stopPropagation();return!1});d("a[data-action\x3dbookmark]").on("click",function(){var f=d(this);f.hasClass("bookmarked")?(window.ga&&ga("send","event","tools","removefavorite"),d.post("/lists/deletefavorite.json",
{wordlistid:b},function(){f.trigger("bookmarkchange",{starred:!1})})):(window.ga&&ga("send","event","tools","addfavorite"),d.post("/lists/addfavorite.json",{wordlistid:b},function(){f.trigger("bookmarkchange",{starred:!0})}))}).on("bookmarkchange",function(b,g){d(this).toggleClass("bookmarked",!!g.starred).find("span").text(g.starred?"Remove Bookmark":"Bookmark this List")});d("a[data-action\x3dprint]").on("click",function(){if(d(".page_wordlist #wordlist").length)window.print();else d('\x3ciframe src\x3d"/lists/'+
b+'" style\x3d"display:none" /\x3e').appendTo("body").on("load",function(){var b=d(this);setTimeout(function(){b[0].contentWindow.print()},10);setTimeout(function(){b.remove()},500)})});d("a[data-action\x3dcopy]").on("click",function(){function f(k){g.trigger("hide");VCOM.auth(function(f){d.post("/lists/load.json",{id:b},function(b){var g=b.result.words.map(function(b){var c={word:b.word};b.synsetid&&(c.synsetid=b.synsetid);b.example&&(c.example=b.example);b.description&&(c.description=b.description);
return c});if(f.validUser){var e=d('\x3cform method\x3d"post" /\x3e');d('\x3cinput type\x3d"hidden" name\x3d"wordlist.name" /\x3e').val(b.result.name).appendTo(e);d('\x3cinput type\x3d"hidden" name\x3d"wordlist.description" /\x3e').val(b.result.description).appendTo(e);d('\x3cinput type\x3d"hidden" name\x3d"wordlist.sourceid" /\x3e').val(b.result.wordlistid||"").appendTo(e);d('\x3cinput type\x3d"hidden" name\x3d"addwords" /\x3e').val(JSON.stringify(g)).appendTo(e);e.attr("action",null==k?"/lists/new":
"/lists/"+k.wordlistid+"/edit");e.appendTo(document.body).submit()}else sessionStorage.setItem("listmakerdata",JSON.stringify({action:"edit",shared:!0,words:g,name:b.result.name,sourceid:b.result.wordlistid,description:b.result.description})),document.location.href="/lists/new"})})}$button=d(this);if(!$button.hasClass("showing")){$button.addClass("showing");window.ga&&ga("send","event","tools","copylist");var g=d('\x3cdiv class\x3d"vcom_popup copylist"/\x3e').on("click",".option",function(){f(d(this).data("wl"))}).on("hidden",
function(){$button.removeClass("showing")}).hide();d('\x3ca class\x3d"option" role\x3d"button"\x3eNew List...\x3c/a\x3e').attr("title","Copy to a new vocabulary list").appendTo(g);p(g,$button);VCOM.auth(function(k){k.validUser?d.post("/lists/byprofile.json",{display:"created",orderby:"activitydate",pageSize:11},function(k){if(k.result){var f=0;k.result.wordlists.forEach(function(k){10>++f&&k.wordlistid!=b&&d('\x3ca role\x3d"button" class\x3d"option" /\x3e').text(k.name+" ("+k.wordcount+")").attr("title",
'Add these words to "'+k.name+'"').data("wl",k).appendTo(g)});g.appendTo(document.body).fadeIn()}}):g.appendTo(document.body).fadeIn()});return!1}}).css("user-select","none")})});
Module.define("vcom/lti",["vcom/base","vcom/units/viewer","params","jquery"],function(){function n(){var k=b('\x3cfooter class\x3d"lti"\x3e\x3cnav class\x3d"limited-width"\x3e\n\t\x3ca href\x3d"/" target\x3d"_blank" title\x3d"Vocabulary.com" class\x3d"logo"\x3e\x3cimg src\x3d"/images/header/logo.png" alt\x3d"Vocabulary.com" class\x3d"screen-only"\x3e\x3c/a\x3e\n\t\x3ca href\x3d"/terms/" target\x3d"_blank" \x3eTerms of Use\x3c/a\x3e\n\t\x3ca href\x3d"/privacy/" target\x3d"_blank" \x3ePrivacy Policy\x3c/a\x3e\t\t\n\t\t\t\t\x3c/nav\x3e\t\t\t\t\t\n\t\t   \x3c/footer\x3e');if("link"==
g)k.append(d());else if("assign"==g){var f=parseInt(b('meta[name\x3d"vocab:wordlist:id"]').attr("content"))||void 0;if(f)b(".page_wordlist section.explore").before(h(f));else{f=b('meta[name\x3d"vocab:unit:id"]').attr("content");f=b(".units \x3e .unit, .unit-list \x3e li").length+(f?1:0);var l=b(".list-list \x3e li,.page-unit .items *[data-list-id]").length;b(".page-unit .items *[data-list-id]").each(function(){var d=b(this);b('\x3cdiv class\x3d"lti-actions"\x3e\x3ca class\x3d"button outline"\x3eAssign\x3c/a\x3e\x3c/div\x3e').find("a").attr("href",
"/lists/"+d.data("listId")).end().insertAfter(d.find(".actions"))});(0<f||0<l)&&k.append('\x3cform\x3e\x3cdiv class\x3d"limited-width"\x3e\x3ch3\x3eSelect a collection or list to assign...\x3c/h3\x3e\x3c/div\x3e\x3c/form\x3e')}}b("footer.page-footer").replaceWith(k)}function f(){var b=document.location.protocol+"//"+document.location.host;document.location.port&&(b+=":"+document.location.port);return b+"/login/lti"}function d(){var d=b('meta[name\x3d"title"]').attr("content")||document.title,g=b('meta[name\x3d"vocab:share:noun"]').attr("content"),
h=f()+"?success\x3d",p=encodeURIComponent;var e=(e=b('link[rel\x3d"canonical"]').attr("href"))?e.replace(/^.*\/\/[^\/]+/,""):document.location.pathname;h+=p(e);d.endsWith(": Vocabulary.com")&&(d=d.substring(0,d.length-16).trim());"/lists/"==document.location.pathname&&(d="Featured Lists on Vocabulary.com");g&&(d=d+" : "+g+" on Vocabulary.com");p=g=d;e=b(".page_wordlist .titleblock img.cover, .page-unit .titleblock img.cover");e=e.length?{"@id":e.attr("src"),width:Math.round(e.width()),height:Math.round(e.height())}:
void 0;g={"@context":"http://purl.imsglobal.org/ctx/lti/v1/ContentItem","@graph":[{"@type":"LtiLinkItem",url:h,title:g,text:p,mediaType:"application/vnd.ims.lti.v1.ltilink",placementAdvice:{presentationDocumentTarget:"frame"},thumbnail:e}]};return b('\x3cform method\x3d"post"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"limited-width"\x3e\n\t\t\t\t\t\x3cbutton type\x3d"submit" class\x3d"green"\x3eCreate Link\x3c/button\x3e\n\t\t\t\t\t\x3cdiv class\x3d"title"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"lti_message_type" value\x3d"ContentItemSelection"/\x3e\n\t\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"lti_version" value\x3d"LTI-1p0"/\x3e\n\t\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"content_items" value\x3d""/\x3e\n\t\t\t\t\x3c/form\x3e').attr("action",
l.content_item_return_url).find(".title").text(d).end().find('input[name\x3d"content_items"]').val(JSON.stringify(g)).end().find("form").attr("action",l.content_item_return_url).end()}function h(d){return b('\x3cdiv class\x3d"lti_assignment_picker"\x3e\n\t\t\x3ch3\x3eChoose an activity to assign...\x3c/h3\x3e\n\t\t\x3cul\x3e\n\t\t\t\x3cli class\x3d"practice" data-type\x3d"p"\x3e\n\t\t\t\t\x3ci class\x3d"icon"\x3e\x3c/i\x3e\x3clabel\x3ePractice\x3c/label\x3e\n\t\t\t\t\x3cblockquote\x3eAn adaptive activity where students answer a few questions on each word in this list. If a student struggles with a word, we follow-up with additional questions.\x3c/blockquote\x3e\n\t\t\t\x3c/li\x3e\n\t\t\t\x3cli class\x3d"spelling" data-type\x3d"s"\x3e\n\t\t\t\t\x3ci class\x3d"icon"\x3e\x3c/i\x3e\x3clabel\x3eSpelling Bee\x3c/label\x3e\n\t\t\t\t\x3cblockquote\x3eStudents are required to spell every word on the list. If they get a word wrong, we follow up until they learn the spelling.\x3c/blockquote\x3e\n\t\t\t\x3c/li\x3e\n\t\t\t\x3cli class\x3d"quiz" data-type\x3d"q"\x3e\n\t\t\t\t\x3ci class\x3d"icon"\x3e\x3c/i\x3e\x3clabel\x3eQuiz\x3c/label\x3e\n\t\t\t\t\x3cblockquote\x3eQuiz your students on this list. Easily customize your quiz by choosing specific words, question-types, and meanings to include.\x3c/blockquote\x3e\n\t\t\t\x3c/li\x3e\n\t\t\x3c/ul\x3e\n\t\t\x3c/div\x3e').on("click",
"li",function(){var k=b(this).data("type"),f=b('meta[name\x3d"title"]').attr("content")||document.title;f.endsWith(": Vocabulary.com")&&(f=f.substring(0,f.length-16).trim());f=b(this).find("label").text()+": "+f+" on Vocabulary.com";"q"==k?document.location.href="/quiz/new?listid\x3d"+d+"\x26callback\x3dpostLtiQuiz":p({type:k,wordlist_id:d},f)})}function p(d,g){d={"@context":"http://purl.imsglobal.org/ctx/lti/v1/ContentItem","@graph":[{"@type":"LtiLinkItem",url:f()+"?activity_data\x3d"+btoa(JSON.stringify(d)).replace("+",
"-").replace("/","_").replace("\x3d",""),title:g,text:g,mediaType:"application/vnd.ims.lti.v1.ltilink",placementAdvice:{presentationDocumentTarget:"frame"}}]};b('\x3cform method\x3d"post"\x3e\n\t\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"lti_message_type" value\x3d"ContentItemSelection"/\x3e\n\t\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"lti_version" value\x3d"LTI-1p0"/\x3e\n\t\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"content_items" value\x3d""/\x3e\n\t\t\t\t\x3c/form\x3e').attr("action",l.content_item_return_url).find('input[name\x3d"content_items"]').val(JSON.stringify(d)).end().appendTo("body").submit()}
var b=jQuery,l=this.ltiParams=function(){var b=new URLSearchParams(document.location.search);if(b.has("lti")){var d={};b.forEach(function(b,f){return d[f]=b});sessionStorage.setItem("lti.params",JSON.stringify(d));return d}return JSON.parse(sessionStorage.getItem("lti.params")||"{}")}(),g=this.ltiMode=b("html").data("lti-mode");this.getLaunchUrl=f;g&&(VCOM.displayWord=function(b,d){window.open("/dictionary"+("en"!=d&&d?d+"/":"/")+escape(b),"_blank")},b("body").on("click","a",function(b){"play"==g||
"outcome"==g?this.href.startsWith("javascript:")||(this.target="_blank"):this.pathname.startsWith("/account/lists")||this.pathname.startsWith("/lists")||this.href.startsWith("javascript:")||(this.target="_blank")}),"play"!=g&&n());window.postLtiQuiz=function(b,d){p({type:"q",quiz_id:b.quizid},"Quiz: "+d.name+" on Vocabulary.com")}});
Module.define("vcom/npswidget",["jquery","vcom/api"],function(){function n(g,k){null==b&&(b=h('\x3cdiv class\x3d"npssurvey hidden"\x3e\x3cdiv class\x3d"limited-width"\x3e\x3cform\x3e\n\t\t\t\t\x3cheader\x3e\x3ch2\x3eQuick Survey\x3c/h2\x3e\x3cbutton data-action\x3d"close" class\x3d"ss-delete" \x3e\x3c/button\x3e\x3c/header\x3e\n\t\t\t\t\x3cdiv class\x3d"content"\x3e\n\t\t\t\t\x3cdiv class\x3d"field rating"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"label"\x3eHow likely are you to recommend Vocabulary.com to a friend or colleague?\x3c/div\x3e\n\t\t\t\t\t\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"rating" value\x3d"1"\x3e\x3cspan\x3e1\x3c/span\x3e\x3c/label\x3e\n\t\t\t\t\t\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"rating" value\x3d"2"\x3e\x3cspan\x3e2\x3c/span\x3e\x3c/label\x3e\n\t\t\t\t\t\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"rating" value\x3d"3"\x3e\x3cspan\x3e3\x3c/span\x3e\x3c/label\x3e\n\t\t\t\t\t\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"rating" value\x3d"4"\x3e\x3cspan\x3e4\x3c/span\x3e\x3c/label\x3e\n\t\t\t\t\t\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"rating" value\x3d"5"\x3e\x3cspan\x3e5\x3c/span\x3e\x3c/label\x3e\n\t\t\t\t\t\x3cdiv class\x3d"likely"\x3e\n\t\t\t\t\t\x3cspan \x3eNot Likely\x3c/span\x3e\n\t\t\t\t\t\x3cspan \x3eVery Likely\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e \n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"field comments"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"label"\x3eAny comments or suggestions?\x3c/div\x3e\n\t\t\t\t\t\x3ctextarea name\x3d"comments"\x3e\x3c/textarea\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"actions"\x3e\n\t\t\t\t\t\x3cbutton type\x3d"submit" disabled\x3eSubmit Survey\x3c/button\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/form\x3e\x3c/div\x3e\x3c/div\x3e').appendTo("body"),setTimeout(function(){return b.removeClass("hidden")},
1500),b.on("change","input[name\x3drating]",function(){return b.find("button[type\x3dsubmit]").prop("disabled",!1)}).on("click","button[data-action\x3dclose]",function(){b&&(f(),l||p.remote("/nps/"+g,{method:"DELETE"}).then(function(){d(1)}));return!1}).on("submit",function(){try{if(!l){l=!0;b.find("button[type\x3dsubmit]").prop("disabled",!0);var h={rating:b.find("input[name\x3drating]:checked").val(),plan:k},r=b.find("textarea[name\x3dcomments]").val().trim();r.length&&(h.comments=r);p.remote("/nps/"+
g,{method:"POST",data:h}).then(function(){b.find(".content").empty().append('\x3cp class\x3d"thanks"\x3eThank you for your feedback!\x3c/p\x3e');d(30);setTimeout(f,5E3)})}}catch(q){}return!1}))}function f(){b&&!b.hasClass("hidden")&&(b.addClass("hidden"),setTimeout(function(){b.remove();b=null},500))}function d(b){try{localStorage.setItem("npsdata",JSON.stringify({v:1,next:Date.now()+864E5*(b||1)}))}catch(k){}}var h=jQuery,p=modules.vcom.api,b,l=!1;this.show=function(){VCOM.auth(function(b){if("educator"==
b.ima){var f=JSON.parse(localStorage.getItem("npsdata")||"null");(!f||!f.next||f.next<Date.now()||1!=f.v)&&p.remote("/nps").then(function(f){f&&f.id?n(f.id,b.plan):d(1)})}})}});
Module.define("vcom/qpreview",["jquery","vcom/usermenu","vcom/qpreview.css"],function(n){function f(f){function b(){h.post("/challenge/preview.json",{word:l},function(b){function g(){h('\x3cform method\x3d"post" action\x3d"/challenge/preview/" \x3e\x3c/form\x3e').append(h('\x3cinput type\x3d"hidden" name\x3d"secret"\x3e').val(b.secret)).append(h('\x3cinput type\x3d"hidden" name\x3d"nonce"\x3e').val(q)).appendTo(f).submit()}var q="";if(b.code){f.empty();var e=h('\x3cdiv class\x3d"vcom-challenge"/\x3e').append(d(b.code));
e.find(".tools").remove();e.find(".choices a").one("click",function(){q=h(this).attr("nonce");e.find(".choices a").off("click");window.ga&&window.ga.create?ga("send","event","convert","question",{hitCallback:g}):g()});l==b.word?f.append("\x3ch4\x3eThink you know \x3cstrong\x3e"+b.word+"\x3c/strong\x3e? Test your word knowledge now:\x3c/h4\x3e"):f.append("\x3ch4\x3eThink you’ve got a good vocabulary? Take our quiz.\x3c/h4\x3e");k?f.append(e).slideDown():f.append(e).show()}else f.remove()})}f=h(f).addClass("vcom_qpreview nocontent robots-nocontent").empty().hide();
var l=f.attr("word"),g="number"===typeof f.data("delay")?f.data("delay"):1E3,k=!!f.data("slide");VCOM.authCache.get().then(function(d){d.validUser?f.remove():0<g?setTimeout(function(){Module.after("vcom/qpreview.css",b)},g):Module.after("vcom/qpreview.css",b)})}function d(d){var b={},f,g=0,k,h=0,r,q="",e=String.fromCharCode,m=d.length;for(f=0;64>f;f++)b["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f)]=f;for(k=0;k<m;k++)for(f=b[d.charAt(k)],g=(g<<6)+f,h+=6;8<=h;)((r=g>>>
(h-=8)&255)||k<m-2)&&(q+=e(r));return decodeURIComponent(escape(q))}var h=jQuery;this.construct=function(){$this=h(this);return $this.data("QPreview")||new f(this)}});
Module.define("vcom/schoolfinder",["jquery","dotimeout"],function(n){n.SchoolFinder=function(d,h){function p(){var a=v.find("li.selected");if(a.length){var b=a.next("li");b.length?(a.removeClass("selected"),g(b.addClass("selected"))):q(function(){g(v.find("li.selected").removeClass("selected").next("li").addClass("selected"))})}else g(v.find("li").first().addClass("selected"))}function b(){a.trigger({type:"schoolselect",id:null,name:null})}function l(b){b||(b=v.find("li.selected"));b&&b.length&&a.trigger({type:"schoolselect",
id:b.attr("id"),name:b.find(".name").text(),city:b.find(".city").text(),state:b.data("state"),country:b.data("country")});v.slideUp()}function g(a){if(a&&a.length){var b=v.offset().top,c=b+v.outerHeight(),d=a.offset().top;a=d+a.outerHeight();d<b?v.scrollTop(v.scrollTop()+(d-b)):a>c&&v.scrollTop(v.scrollTop()+(a-c))}}function k(a){null!=z&&(window.clearTimeout(z),z=null);var b={search:y.val().trim(),state:E,country:A,grade:B};a?z=window.setTimeout(function(){u(b)},a):u(b)}function u(a){m(a,C)||(C=
e(a),r(),a.search&&0!=a.search.length?t=f.ajax({type:"POST",url:"/ui/findschool",data:a,success:function(a){v.html(a).scrollTop(0);x=!0;a=v.find("li");(lastCount=a.length)?a.first().addClass("selected"):v.html('\x3cdiv class\x3d"noresults"\x3eNo schools were found that match your search.  Try searching by postal code or city.\x3c/div\x3e');y.is(":focus")&&!v.is(":visible")&&v.slideDown(400,function(){v.css("overflow","auto")})}}):(v.empty(),v.is(":visible")&&v.slideUp(),x=!1,lastCount=0,v.scrollTop(0)))}
function r(){F=!1;null!=z&&window.clearTimeout(z);z=null;null!=t&&(t.abort(),t=null)}function q(a){if(x){r();var b=e(C);b.skip||(b.skip=0);b.skip+=10;C=b;F=!0;t=f.ajax({url:"/ui/findschool",type:"POST",data:b,success:function(b){F=!1;v.find("ul").append(f(b).find("li"));b=v.find("li").length;x=b>lastCount;lastCount=b;a&&a()}})}}function e(a){var b={},c;for(c in a)b[c]=a[c];return b}function m(a,b){if(a&&!b||b&&!a)return!1;for(var c in a)if(a[c]!=b[c])return!1;for(c in b)if(a[c]!=b[c])return!1;return!0}
var c={USA:!0,CAN:!0},a=jQuery('\x3cdiv class\x3d"schoolfinder"\x3e\x3c/div\x3e'),w=jQuery('\x3cinput type\x3d"hidden"\x3e').attr("name",h).appendTo(a),n=jQuery('\x3ca class\x3d"remove"\x3e\x3c/a\x3e').attr("title","Remove your school").appendTo(a).hide().on("click",function(a){b();y.focus()}),z=null,E=null,A=null,B=null,C,x,F=!1,t,y=jQuery('\x3cinput type\x3d"text" /\x3e').attr("autocorrect","off").attr("autocomplete","new-password").attr("spellcheck","false").attr("placeholder","Search for your school by name, city or zip code...").appendTo(a).on("blur",
function(){y.doTimeout("blur",1,function(){r();C=null;if(!D){var a=v.find("li:first-of-type");a.length&&a.find(".name").text().toLowerCase()==y.val().trim().toLowerCase()&&l(a)}D&&D.toLowerCase()!=y.val().trim().toLowerCase()&&b();w.val().length?n.show():b()});v.slideUp()}).on("input",function(a){k(250)}).on("keydown",function(a){if(40==a.keyCode)return a.preventDefault(),p(),!1;if(38==a.keyCode)return a.preventDefault(),a=v.find("li.selected"),a.length&&g(a.removeClass("selected").prev("li").addClass("selected")),
!1;if(13==a.keyCode)return a.preventDefault(),l(),!1}),v=jQuery('\x3cdiv class\x3d"resultsPane"\x3e\x3cdiv\x3e').appendTo(a).on("mousedown","li",function(a){jQuery(this).addClass("selected").siblings("selected").removeClass("selected");l(jQuery(this));return!1}).on("mouseenter","li",function(a){jQuery(this).addClass("selected").siblings("selected").removeClass("selected")}).on("mouseleave","li",function(a){jQuery(this).removeClass("selected")}).hide();this.clear=b;d=jQuery(d).empty().append(a);w.val(d.attr("schoolid"));
var D=d.attr("title");D&&D.length&&(y.val(D),n.show(),a.addClass("found"));d.attr("title","").attr("schoolid","");a.on("schoolselect",function(b){b.name?(D=b.name,y.val(b.name),a.addClass("found"),n.show(),w.val(b.id)):(a.removeClass("found"),y.val(""),n.hide(),w.val(""),D=null)});this.setState=function(a){null!=a&&(0<a.length&&(a=a.trim()),0==a.length&&(a=null));a!=E&&(E=a,k())};this.setCountry=function(a){null!=a&&(0<a.length&&(a=a.trim()),0==a.length&&(a=null));a!=A&&(A=a,E=null,c[A]?k():b())};
this.countrySupported=function(a){return!!c[A]};this.setGrade=function(a){a!=B&&(B=a,k())};this.show=function(){f(d).closest("form").addClass("schoolfinder-enabled")};v.hide();v.on("scroll",function(){x&&this.scrollTop+this.clientHeight+200>this.scrollHeight&&!F&&q()})};var f=window.jQuery;jQuery("head").append("\x3cstyle\x3e\n\t.schoolfinder .resultsPane {\n\t\toverflow: auto;\n\t\twidth: 100%;\n\t\theight: 149px;\n\t\tfont-size: 12px;\n\t   -webkit-overflow-scrolling: touch;\n\t   \tposition: absolute;\n\t\tz-index: 1000; background-color: white; border: 1px solid #ccc;\n\t\tbox-shadow: 1px 1px 5px rgba(0,0,0,0.3);\n\t}\n\t.schoolfinder .resultsPane ul {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tlist-style: none;\n\t\tbackground-color: white;\n\t}\n\t.schoolfinder .resultsPane li {\n\t\tmargin: 0;\n\t\tborder-bottom: 1px solid #ccc;\n\t\tpadding: 5px 10px 5px 20px;\n\t\tcursor: pointer;\n\t}\n\t.schoolfinder .resultsPane li.selected {\n\t\tbackground-color: #eee;\n\t}\n\t.schoolfinder {\n\t\tposition: relative;\n\t}\n\t.schoolfinder input[type\x3dtext] {\n\t    padding-left: 24px;\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t\tbackground-image: url('/images/icons/search.gif');\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: 6px 50%;\n\t}\n\t.schoolfinder .resultsPane .noresults { text-align: center; padding: 35px 20px 0 20px; font-size: 16px; font-weight: 300; line-height: 175%; font-style: italic; color: #666; } \n\t.schoolfinder a.remove { display: block; cursor: pointer; position: absolute; left: 7px; margin-top: -7px; top: 50%; width: 14px; height: 14px; background-repeat: no-repeat; background-image: url('/images/icons/x-circle.png') } \n\t.schoolfinder .resultsPane .address { display: block; font-size: 11px; color: #999; } \n\x3c/style\x3e")});
Module.define("vcom/tools",["jquery","dotimeout"],function(n){function f(b,d,f){function g(c){h.contains(b[0],c.target)||c.target===b[0]||l()}function l(){b.off("hide",l);h("body").off("click",g);b.fadeOut(function(){b.trigger("hidden").remove()})}var r=d.offset();b.css("position","absolute").appendTo("body").on("hide",l);var q=b.outerHeight(),e=b.outerWidth(),m=d[0].getBoundingClientRect().top+q+30>h(window).height();f=h.extend({alignX:0,alignY:m?0:1,anchorX:0,anchorY:m?1:0,offsetX:0,offsetY:m?-4:
4},f);r.top+=d.height()*f.alignY+-q*f.anchorY+f.offsetY;r.left+=d.width()*f.alignX+-e*f.anchorX+f.offsetX;b.show().offset(r);d=b[0].getBoundingClientRect();d.right+20>h(window).width()&&(r.left-=d.right+20-h(window).width(),b.offset(r));b.hide();h("body").doTimeout("popupclick",1,"on","click",g)}function d(b){b&&b.length&&(b=b.trim());return b&&b.length?b:null}var h=jQuery,p=window.loginData||{};VCOM.auth(function(b){p=b});this.share=function(){function b(){g.addClass("showing");var b=h('\x3cdiv class\x3d"vcom_popup share"\x3e\x3ca data-action\x3d"facebook" class\x3d"ss-facebook"\x3eFacebook\x3c/a\x3e\x3ca data-action\x3d"twitter" class\x3d"ss-twitter"\x3eTwitter\x3c/a\x3e\x3ca data-action\x3d"linkedin" class\x3d"ss-linkedin"\x3eLinkedIn\x3c/a\x3e\x3ca data-action\x3d"reddit" class\x3d"ss-reddit"\x3eReddit\x3c/a\x3e\x3ca data-action\x3d"tumblr"  class\x3d"ss-tumblr"\x3eTumblr\x3c/a\x3e\x3ca data-action\x3d"mail" class\x3d"ss-mail"\x3eEmail\x3c/a\x3e\x3c/div\x3e').on("hidden",
function(){g.removeClass("showing")});b.find("a").attr("href","javascript:void(0)").addClass("ss-social-circle").on("click",function(){var b=h(this).data("action");var f=l,g=f.closest(".wordPage");if(g.length){var e=h.extend({},g.data());e.lang=e.lang||"en";e.description=g.find(".blurb p.short").text().trim();0==e.description.length&&(f=h("\x3cdiv/\x3e").html(g.find("h3.definition").first().html()),f.find("a").remove(),e.description=f.text().trim());f=("en"==e.lang?"":e.lang+"/")+escape(e.word).replace(/ /g,
"+");e.url="http://vocabulary.com/dictionary/"+f;e.title=e.word+" - Definition from Vocabulary.com";e.shortUrl="http://vocab.com/d/"+f;e.tweet=escape(e.word+" - "+e.shortUrl);e.mailBody=e.word+" : "+e.shortUrl+"\n\n"+e.description+"\n\nFinally, a dictionary with a soul: http://vocab.com/d/"}else e={},e.url=d(h('link[rel\x3d"canonical"]').attr("href"))||d(e.url=h('meta[property\x3d"og:url"]').attr("content"))||document.location.href,e.shortUrl=d(h('link[rel\x3d"shorturl"]').attr("href"))||0==e.url.indexOf("https://www.vocabulary.com/")?
"https://vocab.com/"+e.url.substring(26):e.url,e.title=d(h('meta[property\x3d"og:title"]').attr("content"))||d(h("head \x3e title").text()),e.description=d(h('meta[property\x3d"og:description"]').attr("content"))||d(h('meta[name\x3d"description"]').attr("content")),e.tweet=d(h('meta[property\x3d"share:tweet"]').attr("content"))||e.title+" - "+e.shortUrl,e.mailBody=d(h('meta[property\x3d"share:mailbody"]').attr("content"))||"Here's a "+f.attr("itemtype")+" I saw on Vocabulary.com:\n\n"+e.title+"\n\n"+
e.description+"\n\nRead more at: \n"+e.url;switch(b){case "facebook":window.open("https://www.facebook.com/sharer/sharer.php?u\x3d"+escape(e.url)+"\x26name\x3d"+escape(e.title)+"\x26description\x3d"+escape(e.description),"share","menubar\x3dno,toolbar\x3dno,resizable\x3dyes,scrollbars\x3dyes,height\x3d360,width\x3d700").focus();break;case "twitter":window.open("https://twitter.com/home?status\x3d"+e.tweet,"share","menubar\x3dno,toolbar\x3dno,resizable\x3dyes,scrollbars\x3dyes,height\x3d360,width\x3d700").focus();
break;case "reddit":window.open("http://www.reddit.com/submit?url\x3d"+escape(e.url),"share","menubar\x3dno,toolbar\x3dno,resizable\x3dyes,scrollbars\x3dyes,height\x3d610,width\x3d860").focus();break;case "tumblr":window.open("http://www.tumblr.com/share/link?url\x3d"+escape(e.url)+"\x26name\x3d"+escape(e.title)+"\x26description\x3d"+escape(e.description),"share","menubar\x3dno,toolbar\x3dno,resizable\x3dyes,scrollbars\x3dyes,height\x3d450,width\x3d550").focus();break;case "linkedin":window.open("https://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+
escape(e.url)+"\x26title\x3d"+escape(e.title)+"\x26summary\x3d"+escape(e.description),"share","menubar\x3dno,toolbar\x3dno,resizable\x3dyes,scrollbars\x3dyes,height\x3d450,width\x3d550").focus();break;case "mail":window.open("mailto:?subject\x3d"+encodeURIComponent(e.title)+"\x26body\x3d"+encodeURIComponent(e.mailBody),"share","menubar\x3dno,toolbar\x3dno,resizable\x3dyes,scrollbars\x3dyes,height\x3d450,width\x3d600").focus()}window.ga&&ga("send","event","tools","share",b)});f(b,g);b.fadeIn()}var l=
h(this).empty().addClass("vcom_share"),g=h('\x3ca class\x3d"button share" title\x3d"Share this" href\x3d"javascript:void(0)"\x3e\x3ci class\x3d"ss-link icon"\x3e\x3c/i\x3e \x3cspan\x3eShare It\x3c/span\x3e\x3c/a\x3e').on("click",function(){g.hasClass("showing")||b()}).appendTo(l);l.attr("itemtype")&&g.attr("title","Share this "+l.attr("itemtype"));l.attr("label")&&g.find("span").text(l.attr("label"))};this.addToList=function(){var b=h(this).empty().addClass("vcom_addtolist").css("user-select","none"),
d=b.attr("label")||"Add to List...",g=b.data("buttonclass")||"button addtolist",k=h('\x3ca title\x3d"Add to Vocabulary List"\x3e\x3ci class\x3d"ss-list icon"\x3e\x3c/i\x3e\x3cspan\x3e'+d+"\x3c/span\x3e\x3c/a\x3e").addClass(g).on("click",function(){function d(){e.trigger("hide")}function g(b){b?h.post("/lists/save.json",{addwords:JSON.stringify([l]),id:b.wordlistid},function(){h('\x3cdiv class\x3d"confirm"\x3eAdded \x3cstrong\x3e\x3c/strong\x3e to list \x3ca\x3e\x3c/a\x3e\x3c/div\x3e').append(h("\x3cimg/\x3e").attr("src",
Module.getResource("/images/icons/close.gif")).on("click",d)).find("strong").text(l.word).end().find("a").attr("href","/lists/"+b.wordlistid).text(b.name).end().appendTo(e.empty())}):(d(),h('\x3cform method\x3d"post"\x3e\x3cinput type\x3d"hidden" name\x3d"addwords"/\x3e\x3c/form\x3e').find("input").val(JSON.stringify([l])).end().attr("action",null==b?"/lists/new":"/lists/"+b.wordlistid+"/edit").appendTo(document.body).submit())}var l={word:b.attr("word"),lang:b.attr("lang")||"en"};if(p.validUser){if(window.ga&&
ga("send","event","tools","addtolist","validuser"),!k.hasClass("showing")){k.addClass("showing");var e=h('\x3cdiv class\x3d"vcom_popup addlist"/\x3e').on("click",".option",function(){g(h(this).data("wl"))}).on("hidden",function(){k.removeClass("showing")}).hide();h('\x3ca class\x3d"option" role\x3d"button"\x3eNew List...\x3c/a\x3e').attr("title",'Add "'+l.word+'" to a new vocabulary list').appendTo(e);h.post("/lists/byprofile.json",{uid:p.uid,orderby:"activitydate",pageSize:500},function(b){if(b.result){var c=
0;b.result.wordlists.forEach(function(a){a.owner&&10>++c&&h('\x3ca role\x3d"button" class\x3d"option" /\x3e').text(a.name+" ("+a.wordcount+")").attr("title",'Add "'+l.word+'" to "'+a.name+'"').data("wl",a).appendTo(e)});f(e,k);e.appendTo(document.body).fadeIn()}})}}else window.ga&&ga("send","event","tools","addtolist","login"),confirm("You must be logged in to create lists. Would you like to log in now?")&&VCOM.login()}).appendTo(b)}});
Module.define("vcom/topnotes",["jquery"],function(n){function f(b){return 1<b.length?b.substring(0,b.indexOf("/",1)+1):""}var d=jQuery,h=d("body"),p=["/account/","/play/","/lists/","/jam/"];VCOM.authCache.get().then(function(b){if("teacher-trial"==b.stage&&b.promo&&"teacher-trial"===b.promo.type&&p.contains(f(location.pathname))){var l=d('\x3cdiv class\x3d"top-notes"/\x3e'),g=d('\x3cspan class\x3d"note"/\x3e');0>b.promo.expdays?g.append("Your trial has expired."):!0===b.promo.legacy?g.append('You\'ve been upgraded! Enjoy your free trial of Vocabulary.com\'s \x3ca href\x3d"https://help.vocabulary.com/hc/en-us/articles/214501267-Introduction-to-the-Premium-Subscription" class\x3d"nowrap"\x3epremium subscription\x3c/a\x3e for the next '+
b.promo.expdays+" days. Ready to join?"):g.append("Welcome to your Vocabulary.com trial! You have "+b.promo.expdays+" days remaining. Ready to join?");g.append(' \x3ca href\x3d"/membership/teachers/" class\x3d"nowrap"\x3ePurchase now!\x3c/a\x3e');g.appendTo(l);h.addClass("with-top-notes").prepend(l)}})});
Module.define("vcom/touchscroll",["jquery"],function(){var n=jQuery,f=null;n.fn.touchScroll=function(){var d=this,h=!1,p,b,l=0,g=parseFloat(d.data("speed"))||1;d.on("mouseenter",function(){d.focus();f=d});d.on("click","a",function(){if(10<l)return!1});d.on("mousedown",function(f){h=!0;d.addClass("panning");p=f.pageX-this.offsetLeft;b=this.scrollLeft;l=0});d.on("mouseleave",function(b){h=!1;d.removeClass("panning");f==d&&(f=d)});d.on("mouseup",function(b){h=!1;d.removeClass("panning")});d.on("mousemove",
function(d){h&&this.scrollLeft<this.scrollWidth-this.clientWidth&&(d.preventDefault(),d=(d.pageX-this.offsetLeft-p)*g,l+=Math.abs(d),this.scrollLeft=b-d)})};n(function(){n(".touch-scroll").touchScroll()})});Module.define("vcom/trimtext",["jquery"],function(n){n.trimtext=function(f){f=document.getElementsByClassName(f);Array.from(f).forEach(function(d){for(;d.scrollHeight>d.offsetHeight;){var f=d.textContent.split(" ");f.pop();f[f.length-1]+="...";d.innerText=f.join(" ")}})}});
Module.define("vcom/wordfamily",["jquery"],function(){function n(d){function h(b){for(var c=null,a=0;a<k.length;a++)if(k[a].word===b){c=k[a];break}if(c){for(b=c;!b.hw&&null!=b.parentWord;)b=b.parentWord;document.location.href=c===b?"/dictionary/"+escape(c.word):"/dictionary/"+escape(b.word)+"?family\x3d"+c.word}}function p(){var e=d.attr("word"),c=k;if(c&&c.length){for(var a=0;a<c.length;a++)c[a].selected=c[a].word==e,c[a].inPath=!1;n.empty();var g={};e=null;for(a=0;a<c.length;a++)g[c[a].word]=c[a],
c[a].children=[],c[a].selected&&(e=c[a]);for(a=0;a<c.length;a++){var h=c[a].parent;h&&(h=g[h],c[a].parentWord=h,h.children.push(c[a]))}c=0;for(g=e;null!=g;g=g.parentWord)c++,g.inPath=!0;g=e;for(a=c;null!=g;g=g.parentWord,a--)g.depth=a;b(e,c);f(".bar span").each(function(){var a=f(this),b=a.outerWidth();b+4>a.parent().innerWidth()?a.hide():a.show().css("margin-left",-b/2+"px")})}}function b(d,c){for(var a=f("\x3cli/\x3e").data(d).appendTo(n),e=l(d,r,r),h=f('\x3cdiv class\x3d"row"\x3e\x3c/div\x3e').appendTo(a),
k=g(d,d.word,d.freq,h,e,c),m=0;m<d.children.length;m++)1==d.children[m].type&&(k=g(d.children[m],d.children[m].word,d.children[m].ffreq,h,e,c)||k);for(m=0;m<d.children.length;m++)1<d.children[m].type&&(k=g(d.children[m],d.children[m].word,d.children[m].ffreq,h,e,c)||k);e=k;d.parentWord?(d=b(d.parentWord,c-1),c=f("\x3ccanvas/\x3e").attr("width",r).attr("height",20).appendTo(a)[0],c.getContext&&(a=c.getContext("2d"),a.fillStyle="rgba(227,235,241)",a.beginPath(),a.moveTo(0,0),a.lineTo(c.width,0),a.bezierCurveTo(c.width,
c.height,d.offsetLeft+d.clientWidth,0,d.offsetLeft+d.clientWidth,c.height),a.lineTo(d.offsetLeft,c.height),a.bezierCurveTo(d.offsetLeft,0,0,c.height,0,0),a.closePath(),a.fill())):(c=f("\x3ccanvas/\x3e").attr("width",r).attr("height",20).appendTo(a)[0],c.getContext&&(a=c.getContext("2d"),a.fillStyle="rgba(227,235,241)",a.fillRect(0,0,c.width,c.height)),f('\x3cli\x3e\x3cdiv class\x3d"row"\x3e\x3c/div\x3e\x3c/li\x3e').appendTo(n).find(".row").append(f('\x3ca class\x3d"bar"/\x3e').css("width","100%").data(d).append(f("\x3cspan/\x3e").text('the "'+
d.word+'" family'))));return e}function l(b,c,a){for(var d=c/b.ffreq,f=Math.round(b.freq*d),e=0;e<b.children.length;e++)f+=Math.max(2,Math.round(d*b.children[e].ffreq));return f>a?l(b,c-(f-c)):d}function g(b,c,a,d,e,g){e=Math.max(2,Math.round(e*a));0==a&&b.depth==g&&(e=r);c=f("\x3ca/\x3e").addClass("bar type"+b.type).data(b).width(e).append(f("\x3cspan/\x3e").text(c)).appendTo(d);b.hw&&c.addClass("hw");return b.selected||b.inPath&&b.depth==g+1?(c.addClass("selected"),b.selected&&b.depth==g&&c.addClass("current"),
c[0]):c}d=f(d).addClass("vcom_wordfamily resizable").empty().on("resized",function(){n.hide();var b=d.innerWidth();r!=b?(r=b,n.show(),p()):n.show()});var k=eval("("+d.attr("data")+")"),n=f("\x3cul/\x3e").appendTo(d),r=d.innerWidth()-2,q=null,e=f('\x3cdiv class\x3d"tooltip"\x3e\x3cp\x3e\x3c/p\x3e\x3cspan class\x3d"nub"\x3e\x3c/span\x3e\x3c/div\x3e').hide().appendTo(d);d.removeAttr("data").on("mouseenter",".bar",function(){q=f(this).data();var b=q.word,c=q,a=q.ffreq;if(a){var d=(1+parseInt(""+1/(a/
4E3))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");b=a==c.freq?"You'll encounter the word \x3cstrong\x3e"+b+"\x3c/strong\x3e about once every "+d+" pages .":"You'll encounter some form of the word \x3cstrong\x3e"+b+"\x3c/strong\x3e about once every "+d+" pages."}else b="\x3cstrong\x3e"+b+"\x3cstrong\x3e is extremely rare.";e.find("p").html(b);b=this.offsetLeft+this.clientWidth/2;c=this.offsetParent.clientWidth-e.width()+10;c=Math.min(Math.max(-10,b-e.width()/2),c);a=e.find(".nub");a.css("left",
b-c-a.width()/2+"px");e.css({left:c+"px",bottom:this.offsetParent.clientHeight-this.offsetTop+15+"px"}).show()}).on("mouseleave",".bar",function(){e.hide()}).on("click",".bar",function(){h(f(this).data().word)}).on("click",".tooltip",function(){h(q.word)});p()}var f=jQuery;document.createElement("canvas");this.construct=function(){$this=f(this);var d=$this.data("wordfamily");d||(d=$this.data("wordfamily",d=new n(this)));return d};this.WordFamilyDisplay=n});