/*! jQuery UI - v1.10.4 - 2014-01-23
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.sortable.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(b,g){var a=0,f=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:(function(h){return function(j,k){return typeof j==="number"?this.each(function(){var l=this;setTimeout(function(){b(l).focus();if(k){k.call(l)}},j)}):h.apply(this,arguments)}})(b.fn.focus),scrollParent:function(){var h;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){h=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{h=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!h.length?b(document):h},zIndex:function(l){if(l!==g){return this.css("zIndex",l)}if(this.length){var j=b(this[0]),h,k;while(j.length&&j[0]!==document){h=j.css("position");if(h==="absolute"||h==="relative"||h==="fixed"){k=parseInt(j.css("zIndex"),10);if(!isNaN(k)&&k!==0){return k}}j=j.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(f.test(this.id)){b(this).removeAttr("id")}})}});function d(k,h){var m,l,j,n=k.nodeName.toLowerCase();if("area"===n){m=k.parentNode;l=m.name;if(!k.href||!l||m.nodeName.toLowerCase()!=="map"){return false}j=b("img[usemap=#"+l+"]")[0];return !!j&&c(j)}return(/input|select|textarea|button|object/.test(n)?!k.disabled:"a"===n?k.href||h:h)&&c(k)}function c(h){return b.expr.filters.visible(h)&&!b(h).parents().addBack().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(h){return function(j){return !!b.data(j,h)}}):function(k,j,h){return !!b.data(k,h[3])},focusable:function(h){return d(h,!isNaN(b.attr(h,"tabindex")))},tabbable:function(k){var h=b.attr(k,"tabindex"),j=isNaN(h);return(j||h>=0)&&d(k,!j)}});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(k,h){var j=h==="Width"?["Left","Right"]:["Top","Bottom"],l=h.toLowerCase(),n={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function m(q,p,o,r){b.each(j,function(){p-=parseFloat(b.css(q,"padding"+this))||0;if(o){p-=parseFloat(b.css(q,"border"+this+"Width"))||0}if(r){p-=parseFloat(b.css(q,"margin"+this))||0}});return p}b.fn["inner"+h]=function(o){if(o===g){return n["inner"+h].call(this)}return this.each(function(){b(this).css(l,m(this,o)+"px")})};b.fn["outer"+h]=function(o,p){if(typeof o!=="number"){return n["outer"+h].call(this,o)}return this.each(function(){b(this).css(l,m(this,o,true,p)+"px")})}})}if(!b.fn.addBack){b.fn.addBack=function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(h){return function(j){if(arguments.length){return h.call(this,b.camelCase(j))}else{return h.call(this)}}})(b.fn.removeData)}b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart" in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(h){h.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(j,k,m){var h,l=b.ui[j].prototype;for(h in m){l.plugins[h]=l.plugins[h]||[];l.plugins[h].push([k,m[h]])}},call:function(h,k,j){var l,m=h.plugins[k];if(!m||!h.element[0].parentNode||h.element[0].parentNode.nodeType===11){return}for(l=0;l<m.length;l++){if(h.options[m[l][0]]){m[l][1].apply(h.element,j)}}}},hasScroll:function(l,j){if(b(l).css("overflow")==="hidden"){return false}var h=(j&&j==="left")?"scrollLeft":"scrollTop",k=false;if(l[h]>0){return true}l[h]=1;k=(l[h]>0);l[h]=0;return k}})})(jQuery);(function(b,f){var a=0,d=Array.prototype.slice,c=b.cleanData;b.cleanData=function(g){for(var h=0,j;(j=g[h])!=null;h++){try{b(j).triggerHandler("remove")}catch(k){}}c(g)};b.widget=function(g,h,p){var m,n,k,o,j={},l=g.split(".")[0];g=g.split(".")[1];m=l+"-"+g;if(!p){p=h;h=b.Widget}b.expr[":"][m.toLowerCase()]=function(q){return !!b.data(q,m)};b[l]=b[l]||{};n=b[l][g];k=b[l][g]=function(q,r){if(!this._createWidget){return new k(q,r)}if(arguments.length){this._createWidget(q,r)}};b.extend(k,n,{version:p.version,_proto:b.extend({},p),_childConstructors:[]});o=new h();o.options=b.widget.extend({},o.options);b.each(p,function(r,q){if(!b.isFunction(q)){j[r]=q;return}j[r]=(function(){var s=function(){return h.prototype[r].apply(this,arguments)},t=function(u){return h.prototype[r].apply(this,u)};return function(){var w=this._super,u=this._superApply,v;this._super=s;this._superApply=t;v=q.apply(this,arguments);this._super=w;this._superApply=u;return v}})()});k.prototype=b.widget.extend(o,{widgetEventPrefix:n?(o.widgetEventPrefix||g):g},j,{constructor:k,namespace:l,widgetName:g,widgetFullName:m});if(n){b.each(n._childConstructors,function(r,s){var q=s.prototype;b.widget(q.namespace+"."+q.widgetName,k,s._proto)});delete n._childConstructors}else{h._childConstructors.push(k)}b.widget.bridge(g,k)};b.widget.extend=function(m){var h=d.call(arguments,1),l=0,g=h.length,j,k;for(;l<g;l++){for(j in h[l]){k=h[l][j];if(h[l].hasOwnProperty(j)&&k!==f){if(b.isPlainObject(k)){m[j]=b.isPlainObject(m[j])?b.widget.extend({},m[j],k):b.widget.extend({},k)}else{m[j]=k}}}}return m};b.widget.bridge=function(h,g){var j=g.prototype.widgetFullName||h;b.fn[h]=function(m){var k=typeof m==="string",l=d.call(arguments,1),n=this;m=!k&&l.length?b.widget.extend.apply(null,[m].concat(l)):m;if(k){this.each(function(){var p,o=b.data(this,j);if(!o){return b.error("cannot call methods on "+h+" prior to initialization; attempted to call method '"+m+"'")}if(!b.isFunction(o[m])||m.charAt(0)==="_"){return b.error("no such method '"+m+"' for "+h+" widget instance")}p=o[m].apply(o,l);if(p!==o&&p!==f){n=p&&p.jquery?n.pushStack(p.get()):p;return false}})}else{this.each(function(){var o=b.data(this,j);if(o){o.option(m||{})._init()}else{b.data(this,j,new g(m,this))}})}return n}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(g,h){h=b(h||this.defaultElement||this)[0];this.element=b(h);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),g);this.bindings=b();this.hoverable=b();this.focusable=b();if(h!==this){b.data(h,this.widgetFullName,this);this._on(true,this.element,{remove:function(j){if(j.target===h){this.destroy()}}});this.document=b(h.style?h.ownerDocument:h.document||h);this.window=b(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(k,l){var g=k,m,j,h;if(arguments.length===0){return b.widget.extend({},this.options)}if(typeof k==="string"){g={};m=k.split(".");k=m.shift();if(m.length){j=g[k]=b.widget.extend({},this.options[k]);for(h=0;h<m.length-1;h++){j[m[h]]=j[m[h]]||{};j=j[m[h]]}k=m.pop();if(arguments.length===1){return j[k]===f?null:j[k]}j[k]=l}else{if(arguments.length===1){return this.options[k]===f?null:this.options[k]}g[k]=l}}this._setOptions(g);return this},_setOptions:function(g){var h;for(h in g){this._setOption(h,g[h])}return this},_setOption:function(g,h){this.options[g]=h;if(g==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(k,j,h){var l,g=this;if(typeof k!=="boolean"){h=j;j=k;k=false}if(!h){h=j;j=this.element;l=this.widget()}else{j=l=b(j);this.bindings=this.bindings.add(j)}b.each(h,function(r,q){function o(){if(!k&&(g.options.disabled===true||b(this).hasClass("ui-state-disabled"))){return}return(typeof q==="string"?g[q]:q).apply(g,arguments)}if(typeof q!=="string"){o.guid=q.guid=q.guid||o.guid||b.guid++}var p=r.match(/^(\w+)\s*(.*)$/),n=p[1]+g.eventNamespace,m=p[2];if(m){l.delegate(m,n,o)}else{j.bind(n,o)}})},_off:function(h,g){g=(g||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;h.unbind(g).undelegate(g)},_delay:function(k,j){function h(){return(typeof k==="string"?g[k]:k).apply(g,arguments)}var g=this;return setTimeout(h,j||0)},_hoverable:function(g){this.hoverable=this.hoverable.add(g);this._on(g,{mouseenter:function(h){b(h.currentTarget).addClass("ui-state-hover")},mouseleave:function(h){b(h.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(g){this.focusable=this.focusable.add(g);this._on(g,{focusin:function(h){b(h.currentTarget).addClass("ui-state-focus")},focusout:function(h){b(h.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(g,h,j){var m,l,k=this.options[g];j=j||{};h=b.Event(h);h.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase();h.target=this.element[0];l=h.originalEvent;if(l){for(m in l){if(!(m in h)){h[m]=l[m]}}}this.element.trigger(h,j);return !(b.isFunction(k)&&k.apply(this.element[0],[h].concat(j))===false||h.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(h,g){b.Widget.prototype["_"+h]=function(l,k,n){if(typeof k==="string"){k={effect:k}}var m,j=!k?h:k===true||typeof k==="number"?g:k.effect||g;k=k||{};if(typeof k==="number"){k={duration:k}}m=!b.isEmptyObject(k);k.complete=n;if(k.delay){l.delay(k.delay)}if(m&&b.effects&&b.effects.effect[j]){l[h](k)}else{if(j!==h&&l[j]){l[j](k.duration,k.easing,n)}else{l.queue(function(o){b(this)[h]();if(n){n.call(l[0])}o()})}}}})})(jQuery);(function(b,c){var a=false;b(document).mouseup(function(){a=false});b.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(f){return d._mouseDown(f)}).bind("click."+this.widgetName,function(f){if(true===b.data(f.target,d.widgetName+".preventClickEvent")){b.removeData(f.target,d.widgetName+".preventClickEvent");f.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(g){if(a){return}(this._mouseStarted&&this._mouseUp(g));this._mouseDownEvent=g;var f=this,h=(g.which===1),d=(typeof this.options.cancel==="string"&&g.target.nodeName?b(g.target).closest(this.options.cancel).length:false);if(!h||d||!this._mouseCapture(g)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=(this._mouseStart(g)!==false);if(!this._mouseStarted){g.preventDefault();return true}}if(true===b.data(g.target,this.widgetName+".preventClickEvent")){b.removeData(g.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(j){return f._mouseMove(j)};this._mouseUpDelegate=function(j){return f._mouseUp(j)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);g.preventDefault();a=true;return true},_mouseMove:function(d){if(b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!d.button){return this._mouseUp(d)}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d))}return !this._mouseStarted},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target===this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(c);if(!this.handle){return false}a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));this._setContainment();if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this._mouseDrag(c,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,c)}return true},_mouseDrag:function(c,f){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!f){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(d){var c=this,f=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){f=a.ui.ddmanager.drop(this,d)}if(this.dropped){f=this.dropped;this.dropped=false}if(this.options.helper==="original"&&!a.contains(this.element[0].ownerDocument,this.element[0])){return false}if((this.options.revert==="invalid"&&!f)||(this.options.revert==="valid"&&f)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,f))){a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(c._trigger("stop",d)!==false){c._clear()}})}else{if(this._trigger("stop",d)!==false){this._clear()}}return false},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c)}return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){return this.options.handle?!!a(c.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(d){var f=this.options,c=a.isFunction(f.helper)?a(f.helper.apply(this.element[0],[d])):(f.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!c.parents("body").length){c.appendTo((f.appendTo==="parent"?this.element[0].parentNode:f.appendTo))}if(c[0]!==this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c==="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){var c=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]===document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&a.ui.ie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,h,d,g=this.options;if(!g.containment){this.containment=null;return}if(g.containment==="window"){this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(g.containment==="document"){this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(g.containment.constructor===Array){this.containment=g.containment;return}if(g.containment==="parent"){g.containment=this.helper[0].parentNode}h=a(g.containment);d=h[0];if(!d){return}f=h.css("overflow")!=="hidden";this.containment=[(parseInt(h.css("borderLeftWidth"),10)||0)+(parseInt(h.css("paddingLeft"),10)||0),(parseInt(h.css("borderTopWidth"),10)||0)+(parseInt(h.css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(h.css("borderRightWidth"),10)||0)-(parseInt(h.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(h.css("borderBottomWidth"),10)||0)-(parseInt(h.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=h},_convertPositionTo:function(g,h){if(!h){h=this.position}var f=g==="absolute"?1:-1,c=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:c.scrollTop(),left:c.scrollLeft()}}return{top:(h.top+this.offset.relative.top*f+this.offset.parent.top*f-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*f)),left:(h.left+this.offset.relative.left*f+this.offset.parent.left*f-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*f))}},_generatePosition:function(d){var c,k,l,g,f=this.options,m=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=d.pageX,h=d.pageY;if(!this.offset.scroll){this.offset.scroll={top:m.scrollTop(),left:m.scrollLeft()}}if(this.originalPosition){if(this.containment){if(this.relative_container){k=this.relative_container.offset();c=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+k.left,this.containment[3]+k.top]}else{c=this.containment}if(d.pageX-this.offset.click.left<c[0]){j=c[0]+this.offset.click.left}if(d.pageY-this.offset.click.top<c[1]){h=c[1]+this.offset.click.top}if(d.pageX-this.offset.click.left>c[2]){j=c[2]+this.offset.click.left}if(d.pageY-this.offset.click.top>c[3]){h=c[3]+this.offset.click.top}}if(f.grid){l=f.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/f.grid[1])*f.grid[1]:this.originalPageY;h=c?((l-this.offset.click.top>=c[1]||l-this.offset.click.top>c[3])?l:((l-this.offset.click.top>=c[1])?l-f.grid[1]:l+f.grid[1])):l;g=f.grid[0]?this.originalPageX+Math.round((j-this.originalPageX)/f.grid[0])*f.grid[0]:this.originalPageX;j=c?((g-this.offset.click.left>=c[0]||g-this.offset.click.left>c[2])?g:((g-this.offset.click.left>=c[0])?g-f.grid[0]:g+f.grid[0])):g}}return{top:(h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)),left:(j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,f){f=f||this._uiHash();a.ui.plugin.call(this,c,[d,f]);if(c==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,g){var f=a(this).data("ui-draggable"),h=f.options,c=a.extend({},g,{item:f.element});f.sortables=[];a(h.connectToSortable).each(function(){var j=a.data(this,"ui-sortable");if(j&&!j.options.disabled){f.sortables.push({instance:j,shouldRevert:j.options.revert});j.refreshPositions();j._trigger("activate",d,c)}})},stop:function(d,g){var f=a(this).data("ui-draggable"),c=a.extend({},g,{item:f.element});a.each(f.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;f.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(f.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,g){var f=a(this).data("ui-draggable"),c=this;a.each(f.sortables,function(){var h=false,j=this;this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){h=true;a.each(f.sortables,function(){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this!==j&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(j.instance.element[0],this.instance.element[0])){h=false}return h})}if(h){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}f._trigger("fromSortable",d);f.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),d=a(this).data("ui-draggable").options;if(c.css("cursor")){d._cursor=c.css("cursor")}c.css("cursor",d.cursor)},stop:function(){var c=a(this).data("ui-draggable").options;if(c._cursor){a("body").css("cursor",c._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(d,f){var c=a(f.helper),g=a(this).data("ui-draggable").options;if(c.css("opacity")){g._opacity=c.css("opacity")}c.css("opacity",g.opacity)},stop:function(c,d){var f=a(this).data("ui-draggable").options;if(f._opacity){a(d.helper).css("opacity",f._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(){var c=a(this).data("ui-draggable");if(c.scrollParent[0]!==document&&c.scrollParent[0].tagName!=="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(f){var d=a(this).data("ui-draggable"),g=d.options,c=false;if(d.scrollParent[0]!==document&&d.scrollParent[0].tagName!=="HTML"){if(!g.axis||g.axis!=="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-f.pageY<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+g.scrollSpeed}else{if(f.pageY-d.overflowOffset.top<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-g.scrollSpeed}}}if(!g.axis||g.axis!=="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-f.pageX<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+g.scrollSpeed}else{if(f.pageX-d.overflowOffset.left<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-g.scrollSpeed}}}}else{if(!g.axis||g.axis!=="x"){if(f.pageY-a(document).scrollTop()<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed)}else{if(a(window).height()-(f.pageY-a(document).scrollTop())<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)}}}if(!g.axis||g.axis!=="y"){if(f.pageX-a(document).scrollLeft()<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed)}else{if(a(window).width()-(f.pageX-a(document).scrollLeft())<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,f)}}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),d=c.options;c.snapElements=[];a(d.snap.constructor!==String?(d.snap.items||":data(ui-draggable)"):d.snap).each(function(){var g=a(this),f=g.offset();if(this!==c.element[0]){c.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:f.top,left:f.left})}})},drag:function(v,q){var c,A,k,m,u,p,n,B,w,j,h=a(this).data("ui-draggable"),s=h.options,z=s.snapTolerance,y=q.offset.left,x=y+h.helperProportions.width,g=q.offset.top,f=g+h.helperProportions.height;for(w=h.snapElements.length-1;w>=0;w--){u=h.snapElements[w].left;p=u+h.snapElements[w].width;n=h.snapElements[w].top;B=n+h.snapElements[w].height;if(x<u-z||y>p+z||f<n-z||g>B+z||!a.contains(h.snapElements[w].item.ownerDocument,h.snapElements[w].item)){if(h.snapElements[w].snapping){(h.options.snap.release&&h.options.snap.release.call(h.element,v,a.extend(h._uiHash(),{snapItem:h.snapElements[w].item})))}h.snapElements[w].snapping=false;continue}if(s.snapMode!=="inner"){c=Math.abs(n-f)<=z;A=Math.abs(B-g)<=z;k=Math.abs(u-x)<=z;m=Math.abs(p-y)<=z;if(c){q.position.top=h._convertPositionTo("relative",{top:n-h.helperProportions.height,left:0}).top-h.margins.top}if(A){q.position.top=h._convertPositionTo("relative",{top:B,left:0}).top-h.margins.top}if(k){q.position.left=h._convertPositionTo("relative",{top:0,left:u-h.helperProportions.width}).left-h.margins.left}if(m){q.position.left=h._convertPositionTo("relative",{top:0,left:p}).left-h.margins.left}}j=(c||A||k||m);if(s.snapMode!=="outer"){c=Math.abs(n-g)<=z;A=Math.abs(B-f)<=z;k=Math.abs(u-y)<=z;m=Math.abs(p-x)<=z;if(c){q.position.top=h._convertPositionTo("relative",{top:n,left:0}).top-h.margins.top}if(A){q.position.top=h._convertPositionTo("relative",{top:B-h.helperProportions.height,left:0}).top-h.margins.top}if(k){q.position.left=h._convertPositionTo("relative",{top:0,left:u}).left-h.margins.left}if(m){q.position.left=h._convertPositionTo("relative",{top:0,left:p-h.helperProportions.width}).left-h.margins.left}}if(!h.snapElements[w].snapping&&(c||A||k||m||j)){(h.options.snap.snap&&h.options.snap.snap.call(h.element,v,a.extend(h._uiHash(),{snapItem:h.snapElements[w].item})))}h.snapElements[w].snapping=(c||A||k||m||j)}}});a.ui.plugin.add("draggable","stack",{start:function(){var c,f=this.data("ui-draggable").options,d=a.makeArray(a(f.stack)).sort(function(h,g){return(parseInt(a(h).css("zIndex"),10)||0)-(parseInt(a(g).css("zIndex"),10)||0)});if(!d.length){return}c=parseInt(a(d[0]).css("zIndex"),10)||0;a(d).each(function(g){a(this).css("zIndex",c+g)});this.css("zIndex",(c+d.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(d,f){var c=a(f.helper),g=a(this).data("ui-draggable").options;if(c.css("zIndex")){g._zIndex=c.css("zIndex")}c.css("zIndex",g.zIndex)},stop:function(c,d){var f=a(this).data("ui-draggable").options;if(f._zIndex){a(d.helper).css("zIndex",f._zIndex)}}})})(jQuery);(function(b,c){function a(f,d,g){return(f>d)&&(f<(d+g))}b.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var f,g=this.options,d=g.accept;this.isover=false;this.isout=true;this.accept=b.isFunction(d)?d:function(h){return h.is(d)};this.proportions=function(){if(arguments.length){f=arguments[0]}else{return f?f:f={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};b.ui.ddmanager.droppables[g.scope]=b.ui.ddmanager.droppables[g.scope]||[];b.ui.ddmanager.droppables[g.scope].push(this);(g.addClasses&&this.element.addClass("ui-droppable"))},_destroy:function(){var f=0,d=b.ui.ddmanager.droppables[this.options.scope];for(;f<d.length;f++){if(d[f]===this){d.splice(f,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,f){if(d==="accept"){this.accept=b.isFunction(f)?f:function(g){return g.is(f)}}b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(f){var d=b.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(d){this._trigger("activate",f,this.ui(d))}},_deactivate:function(f){var d=b.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(d){this._trigger("deactivate",f,this.ui(d))}},_over:function(f){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",f,this.ui(d))}},_out:function(f){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",f,this.ui(d))}},_drop:function(f,g){var d=g||b.ui.ddmanager.current,h=false;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var j=b.data(this,"ui-droppable");if(j.options.greedy&&!j.options.disabled&&j.options.scope===d.options.scope&&j.accept.call(j.element[0],(d.currentItem||d.element))&&b.ui.intersect(d,b.extend(j,{offset:j.element.offset()}),j.options.tolerance)){h=true;return false}});if(h){return false}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",f,this.ui(d));return this.element}return false},ui:function(d){return{draggable:(d.currentItem||d.element),helper:d.helper,position:d.position,offset:d.positionAbs}}});b.ui.intersect=function(u,m,q){if(!m.offset){return false}var j,k,g=(u.positionAbs||u.position.absolute).left,p=(u.positionAbs||u.position.absolute).top,f=g+u.helperProportions.width,o=p+u.helperProportions.height,h=m.offset.left,s=m.offset.top,d=h+m.proportions().width,n=s+m.proportions().height;switch(q){case"fit":return(h<=g&&f<=d&&s<=p&&o<=n);case"intersect":return(h<g+(u.helperProportions.width/2)&&f-(u.helperProportions.width/2)<d&&s<p+(u.helperProportions.height/2)&&o-(u.helperProportions.height/2)<n);case"pointer":j=((u.positionAbs||u.position.absolute).left+(u.clickOffset||u.offset.click).left);k=((u.positionAbs||u.position.absolute).top+(u.clickOffset||u.offset.click).top);return a(k,s,m.proportions().height)&&a(j,h,m.proportions().width);case"touch":return((p>=s&&p<=n)||(o>=s&&o<=n)||(p<s&&o>n))&&((g>=h&&g<=d)||(f>=h&&f<=d)||(g<h&&f>d));default:return false}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(h,l){var g,f,d=b.ui.ddmanager.droppables[h.options.scope]||[],k=l?l.type:null,n=(h.currentItem||h.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(g=0;g<d.length;g++){if(d[g].options.disabled||(h&&!d[g].accept.call(d[g].element[0],(h.currentItem||h.element)))){continue}for(f=0;f<n.length;f++){if(n[f]===d[g].element[0]){d[g].proportions().height=0;continue droppablesLoop}}d[g].visible=d[g].element.css("display")!=="none";if(!d[g].visible){continue}if(k==="mousedown"){d[g]._activate.call(d[g],l)}d[g].offset=d[g].element.offset();d[g].proportions({width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight})}},drop:function(d,f){var g=false;b.each((b.ui.ddmanager.droppables[d.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&b.ui.intersect(d,this,this.options.tolerance)){g=this._drop.call(this,f)||g}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(d.currentItem||d.element))){this.isout=true;this.isover=false;this._deactivate.call(this,f)}});return g},dragStart:function(d,f){d.element.parentsUntil("body").bind("scroll.droppable",function(){if(!d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,f)}})},drag:function(d,f){if(d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,f)}b.each(b.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var k,h,g,j=b.ui.intersect(d,this,this.options.tolerance),l=!j&&this.isover?"isout":(j&&!this.isover?"isover":null);if(!l){return}if(this.options.greedy){h=this.options.scope;g=this.element.parents(":data(ui-droppable)").filter(function(){return b.data(this,"ui-droppable").options.scope===h});if(g.length){k=b.data(g[0],"ui-droppable");k.greedyChild=(l==="isover")}}if(k&&l==="isover"){k.isover=false;k.isout=true;k._out.call(k,f)}this[l]=true;this[l==="isout"?"isover":"isout"]=false;this[l==="isover"?"_over":"_out"].call(this,f);if(k&&l==="isout"){k.isout=false;k.isover=true;k._over.call(k,f)}})},dragStop:function(d,f){d.element.parentsUntil("body").unbind("scroll.droppable");if(!d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,f)}}}})(jQuery);(function(b,d){function a(g,f,h){return(g>f)&&(g<(f+h))}function c(f){return(/left|right/).test(f.css("float"))||(/inline|table-cell/).test(f.css("display"))}b.widget("ui.sortable",b.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var f=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?f.axis==="x"||c(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var f=this.items.length-1;f>=0;f--){this.items[f].item.removeData(this.widgetName+"-item")}return this},_setOption:function(f,g){if(f==="disabled"){this.options[f]=g;this.widget().toggleClass("ui-sortable-disabled",!!g)}else{b.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(h,j){var f=null,k=false,g=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(h);b(h.target).parents().each(function(){if(b.data(this,g.widgetName+"-item")===g){f=b(this);return false}});if(b.data(h.target,g.widgetName+"-item")===g){f=b(h.target)}if(!f){return false}if(this.options.handle&&!j){b(this.options.handle,f).find("*").addBack().each(function(){if(this===h.target){k=true}});if(!k){return false}}this.currentItem=f;this._removeCurrentsFromItems();return true},_mouseStart:function(j,k,g){var h,f,l=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(j);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:j.pageX-this.offset.left,top:j.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(j);this.originalPageX=j.pageX;this.originalPageY=j.pageY;(l.cursorAt&&this._adjustOffsetFromHelper(l.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(l.containment){this._setContainment()}if(l.cursor&&l.cursor!=="auto"){f=this.document.find("body");this.storedCursor=f.css("cursor");f.css("cursor",l.cursor);this.storedStylesheet=b("<style>*{ cursor: "+l.cursor+" !important; }</style>").appendTo(f)}if(l.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",l.opacity)}if(l.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",l.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",j,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!g){for(h=this.containers.length-1;h>=0;h--){this.containers[h]._trigger("activate",j,this._uiHash(this))}}if(b.ui.ddmanager){b.ui.ddmanager.current=this}if(b.ui.ddmanager&&!l.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,j)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(j);return true},_mouseDrag:function(k){var h,j,g,m,l=this.options,f=false;this.position=this._generatePosition(k);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-k.pageY<l.scrollSensitivity){this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+l.scrollSpeed}else{if(k.pageY-this.overflowOffset.top<l.scrollSensitivity){this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-l.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-k.pageX<l.scrollSensitivity){this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+l.scrollSpeed}else{if(k.pageX-this.overflowOffset.left<l.scrollSensitivity){this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-l.scrollSpeed}}}else{if(k.pageY-b(document).scrollTop()<l.scrollSensitivity){f=b(document).scrollTop(b(document).scrollTop()-l.scrollSpeed)}else{if(b(window).height()-(k.pageY-b(document).scrollTop())<l.scrollSensitivity){f=b(document).scrollTop(b(document).scrollTop()+l.scrollSpeed)}}if(k.pageX-b(document).scrollLeft()<l.scrollSensitivity){f=b(document).scrollLeft(b(document).scrollLeft()-l.scrollSpeed)}else{if(b(window).width()-(k.pageX-b(document).scrollLeft())<l.scrollSensitivity){f=b(document).scrollLeft(b(document).scrollLeft()+l.scrollSpeed)}}}if(f!==false&&b.ui.ddmanager&&!l.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,k)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(h=this.items.length-1;h>=0;h--){j=this.items[h];g=j.item[0];m=this._intersectsWithPointer(j);if(!m){continue}if(j.instance!==this.currentContainer){continue}if(g!==this.currentItem[0]&&this.placeholder[m===1?"next":"prev"]()[0]!==g&&!b.contains(this.placeholder[0],g)&&(this.options.type==="semi-dynamic"?!b.contains(this.element[0],g):true)){this.direction=m===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(j)){this._rearrange(k,j)}else{break}this._trigger("change",k,this._uiHash());break}}this._contactContainers(k);if(b.ui.ddmanager){b.ui.ddmanager.drag(this,k)}this._trigger("sort",k,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(h,k){if(!h){return}if(b.ui.ddmanager&&!this.options.dropBehaviour){b.ui.ddmanager.drop(this,h)}if(this.options.revert){var g=this,l=this.placeholder.offset(),f=this.options.axis,j={};if(!f||f==="x"){j.left=l.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!f||f==="y"){j.top=l.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;b(this.helper).animate(j,parseInt(this.options.revert,10)||500,function(){g._clear(h)})}else{this._clear(h,k)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var f=this.containers.length-1;f>=0;f--){this.containers[f]._trigger("deactivate",null,this._uiHash(this));if(this.containers[f].containerCache.over){this.containers[f]._trigger("out",null,this._uiHash(this));this.containers[f].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){b(this.domPosition.prev).after(this.currentItem)}else{b(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(h){var f=this._getItemsAsjQuery(h&&h.connected),g=[];h=h||{};b(f).each(function(){var j=(b(h.item||this).attr(h.attribute||"id")||"").match(h.expression||(/(.+)[\-=_](.+)/));if(j){g.push((h.key||j[1]+"[]")+"="+(h.key&&h.expression?j[1]:j[2]))}});if(!g.length&&h.key){g.push(h.key+"=")}return g.join("&")},toArray:function(h){var f=this._getItemsAsjQuery(h&&h.connected),g=[];h=h||{};f.each(function(){g.push(b(h.item||this).attr(h.attribute||"id")||"")});return g},_intersectsWith:function(u){var h=this.positionAbs.left,g=h+this.helperProportions.width,q=this.positionAbs.top,p=q+this.helperProportions.height,j=u.left,f=j+u.width,v=u.top,o=v+u.height,w=this.offset.click.top,n=this.offset.click.left,m=(this.options.axis==="x")||((q+w)>v&&(q+w)<o),s=(this.options.axis==="y")||((h+n)>j&&(h+n)<f),k=m&&s;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>u[this.floating?"width":"height"])){return k}else{return(j<h+(this.helperProportions.width/2)&&g-(this.helperProportions.width/2)<f&&v<q+(this.helperProportions.height/2)&&p-(this.helperProportions.height/2)<o)}},_intersectsWithPointer:function(h){var j=(this.options.axis==="x")||a(this.positionAbs.top+this.offset.click.top,h.top,h.height),g=(this.options.axis==="y")||a(this.positionAbs.left+this.offset.click.left,h.left,h.width),l=j&&g,f=this._getDragVerticalDirection(),k=this._getDragHorizontalDirection();if(!l){return false}return this.floating?(((k&&k==="right")||f==="down")?2:1):(f&&(f==="down"?2:1))},_intersectsWithSides:function(j){var g=a(this.positionAbs.top+this.offset.click.top,j.top+(j.height/2),j.height),h=a(this.positionAbs.left+this.offset.click.left,j.left+(j.width/2),j.width),f=this._getDragVerticalDirection(),k=this._getDragHorizontalDirection();if(this.floating&&k){return((k==="right"&&h)||(k==="left"&&!h))}else{return f&&((f==="down"&&g)||(f==="up"&&!g))}},_getDragVerticalDirection:function(){var f=this.positionAbs.top-this.lastPositionAbs.top;return f!==0&&(f>0?"down":"up")},_getDragHorizontalDirection:function(){var f=this.positionAbs.left-this.lastPositionAbs.left;return f!==0&&(f>0?"right":"left")},refresh:function(f){this._refreshItems(f);this.refreshPositions();return this},_connectWith:function(){var f=this.options;return f.connectWith.constructor===String?[f.connectWith]:f.connectWith},_getItemsAsjQuery:function(f){var h,g,o,l,m=[],k=[],n=this._connectWith();if(n&&f){for(h=n.length-1;h>=0;h--){o=b(n[h]);for(g=o.length-1;g>=0;g--){l=b.data(o[g],this.widgetFullName);if(l&&l!==this&&!l.options.disabled){k.push([b.isFunction(l.options.items)?l.options.items.call(l.element):b(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}}}}k.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function p(){m.push(this)}for(h=k.length-1;h>=0;h--){k[h][0].each(p)}return b(m)},_removeCurrentsFromItems:function(){var f=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(h){for(var g=0;g<f.length;g++){if(f[g]===h.item[0]){return false}}return true})},_refreshItems:function(f){this.items=[];this.containers=[this];var l,h,q,m,p,g,s,r,n=this.items,k=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],f,{item:this.currentItem}):b(this.options.items,this.element),this]],o=this._connectWith();if(o&&this.ready){for(l=o.length-1;l>=0;l--){q=b(o[l]);for(h=q.length-1;h>=0;h--){m=b.data(q[h],this.widgetFullName);if(m&&m!==this&&!m.options.disabled){k.push([b.isFunction(m.options.items)?m.options.items.call(m.element[0],f,{item:this.currentItem}):b(m.options.items,m.element),m]);this.containers.push(m)}}}}for(l=k.length-1;l>=0;l--){p=k[l][1];g=k[l][0];for(h=0,r=g.length;h<r;h++){s=b(g[h]);s.data(this.widgetName+"-item",p);n.push({item:s,instance:p,width:0,height:0,left:0,top:0})}}},refreshPositions:function(f){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var h,j,g,k;for(h=this.items.length-1;h>=0;h--){j=this.items[h];if(j.instance!==this.currentContainer&&this.currentContainer&&j.item[0]!==this.currentItem[0]){continue}g=this.options.toleranceElement?b(this.options.toleranceElement,j.item):j.item;if(!f){j.width=g.outerWidth();j.height=g.outerHeight()}k=g.offset();j.left=k.left;j.top=k.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(h=this.containers.length-1;h>=0;h--){k=this.containers[h].element.offset();this.containers[h].containerCache.left=k.left;this.containers[h].containerCache.top=k.top;this.containers[h].containerCache.width=this.containers[h].element.outerWidth();this.containers[h].containerCache.height=this.containers[h].element.outerHeight()}}return this},_createPlaceholder:function(g){g=g||this;var f,h=g.options;if(!h.placeholder||h.placeholder.constructor===String){f=h.placeholder;h.placeholder={element:function(){var k=g.currentItem[0].nodeName.toLowerCase(),j=b("<"+k+">",g.document[0]).addClass(f||g.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(k==="tr"){g.currentItem.children().each(function(){b("<td>&#160;</td>",g.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(j)})}else{if(k==="img"){j.attr("src",g.currentItem.attr("src"))}}if(!f){j.css("visibility","hidden")}return j},update:function(j,k){if(f&&!h.forcePlaceholderSize){return}if(!k.height()){k.height(g.currentItem.innerHeight()-parseInt(g.currentItem.css("paddingTop")||0,10)-parseInt(g.currentItem.css("paddingBottom")||0,10))}if(!k.width()){k.width(g.currentItem.innerWidth()-parseInt(g.currentItem.css("paddingLeft")||0,10)-parseInt(g.currentItem.css("paddingRight")||0,10))}}}}g.placeholder=b(h.placeholder.element.call(g.element,g.currentItem));g.currentItem.after(g.placeholder);h.placeholder.update(g,g.placeholder)},_contactContainers:function(f){var m,k,q,n,o,s,g,t,l,p,h=null,r=null;for(m=this.containers.length-1;m>=0;m--){if(b.contains(this.currentItem[0],this.containers[m].element[0])){continue}if(this._intersectsWith(this.containers[m].containerCache)){if(h&&b.contains(this.containers[m].element[0],h.element[0])){continue}h=this.containers[m];r=m}else{if(this.containers[m].containerCache.over){this.containers[m]._trigger("out",f,this._uiHash(this));this.containers[m].containerCache.over=0}}}if(!h){return}if(this.containers.length===1){if(!this.containers[r].containerCache.over){this.containers[r]._trigger("over",f,this._uiHash(this));this.containers[r].containerCache.over=1}}else{q=10000;n=null;p=h.floating||c(this.currentItem);o=p?"left":"top";s=p?"width":"height";g=this.positionAbs[o]+this.offset.click[o];for(k=this.items.length-1;k>=0;k--){if(!b.contains(this.containers[r].element[0],this.items[k].item[0])){continue}if(this.items[k].item[0]===this.currentItem[0]){continue}if(p&&!a(this.positionAbs.top+this.offset.click.top,this.items[k].top,this.items[k].height)){continue}t=this.items[k].item.offset()[o];l=false;if(Math.abs(t-g)>Math.abs(t+this.items[k][s]-g)){l=true;t+=this.items[k][s]}if(Math.abs(t-g)<q){q=Math.abs(t-g);n=this.items[k];this.direction=l?"up":"down"}}if(!n&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[r]){return}n?this._rearrange(f,n,null,true):this._rearrange(f,null,this.containers[r].element,true);this._trigger("change",f,this._uiHash());this.containers[r]._trigger("change",f,this._uiHash(this));this.currentContainer=this.containers[r];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[r]._trigger("over",f,this._uiHash(this));this.containers[r].containerCache.over=1}},_createHelper:function(g){var h=this.options,f=b.isFunction(h.helper)?b(h.helper.apply(this.element[0],[g,this.currentItem])):(h.helper==="clone"?this.currentItem.clone():this.currentItem);if(!f.parents("body").length){b(h.appendTo!=="parent"?h.appendTo:this.currentItem[0].parentNode)[0].appendChild(f[0])}if(f[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!f[0].style.width||h.forceHelperSize){f.width(this.currentItem.width())}if(!f[0].style.height||h.forceHelperSize){f.height(this.currentItem.height())}return f},_adjustOffsetFromHelper:function(f){if(typeof f==="string"){f=f.split(" ")}if(b.isArray(f)){f={left:+f[0],top:+f[1]||0}}if("left" in f){this.offset.click.left=f.left+this.margins.left}if("right" in f){this.offset.click.left=this.helperProportions.width-f.right+this.margins.left}if("top" in f){this.offset.click.top=f.top+this.margins.top}if("bottom" in f){this.offset.click.top=this.helperProportions.height-f.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var f=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])){f.left+=this.scrollParent.scrollLeft();f.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&b.ui.ie)){f={top:0,left:0}}return{top:f.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:f.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var f=this.currentItem.position();return{top:f.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:f.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g,j,f,h=this.options;if(h.containment==="parent"){h.containment=this.helper[0].parentNode}if(h.containment==="document"||h.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(h.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(h.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(h.containment)){g=b(h.containment)[0];j=b(h.containment).offset();f=(b(g).css("overflow")!=="hidden");this.containment=[j.left+(parseInt(b(g).css("borderLeftWidth"),10)||0)+(parseInt(b(g).css("paddingLeft"),10)||0)-this.margins.left,j.top+(parseInt(b(g).css("borderTopWidth"),10)||0)+(parseInt(b(g).css("paddingTop"),10)||0)-this.margins.top,j.left+(f?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(b(g).css("borderLeftWidth"),10)||0)-(parseInt(b(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,j.top+(f?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(b(g).css("borderTopWidth"),10)||0)-(parseInt(b(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(h,k){if(!k){k=this.position}var g=h==="absolute"?1:-1,f=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(f[0].tagName);return{top:(k.top+this.offset.relative.top*g+this.offset.parent.top*g-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(j?0:f.scrollTop()))*g)),left:(k.left+this.offset.relative.left*g+this.offset.parent.left*g-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():j?0:f.scrollLeft())*g))}},_generatePosition:function(j){var l,k,m=this.options,h=j.pageX,g=j.pageY,f=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,n=(/(html|body)/i).test(f[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(j.pageX-this.offset.click.left<this.containment[0]){h=this.containment[0]+this.offset.click.left}if(j.pageY-this.offset.click.top<this.containment[1]){g=this.containment[1]+this.offset.click.top}if(j.pageX-this.offset.click.left>this.containment[2]){h=this.containment[2]+this.offset.click.left}if(j.pageY-this.offset.click.top>this.containment[3]){g=this.containment[3]+this.offset.click.top}}if(m.grid){l=this.originalPageY+Math.round((g-this.originalPageY)/m.grid[1])*m.grid[1];g=this.containment?((l-this.offset.click.top>=this.containment[1]&&l-this.offset.click.top<=this.containment[3])?l:((l-this.offset.click.top>=this.containment[1])?l-m.grid[1]:l+m.grid[1])):l;k=this.originalPageX+Math.round((h-this.originalPageX)/m.grid[0])*m.grid[0];h=this.containment?((k-this.offset.click.left>=this.containment[0]&&k-this.offset.click.left<=this.containment[2])?k:((k-this.offset.click.left>=this.containment[0])?k-m.grid[0]:k+m.grid[0])):k}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(n?0:f.scrollTop())))),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():n?0:f.scrollLeft())))}},_rearrange:function(k,j,g,h){g?g[0].appendChild(this.placeholder[0]):j.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?j.item[0]:j.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var f=this.counter;this._delay(function(){if(f===this.counter){this.refreshPositions(!h)}})},_clear:function(g,j){this.reverting=false;var f,k=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(f in this._storedCSS){if(this._storedCSS[f]==="auto"||this._storedCSS[f]==="static"){this._storedCSS[f]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!j){k.push(function(l){this._trigger("receive",l,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!j){k.push(function(l){this._trigger("update",l,this._uiHash())})}if(this!==this.currentContainer){if(!j){k.push(function(l){this._trigger("remove",l,this._uiHash())});k.push((function(l){return function(m){l._trigger("receive",m,this._uiHash(this))}}).call(this,this.currentContainer));k.push((function(l){return function(m){l._trigger("update",m,this._uiHash(this))}}).call(this,this.currentContainer))}}function h(n,l,m){return function(o){m._trigger(n,o,l._uiHash(l))}}for(f=this.containers.length-1;f>=0;f--){if(!j){k.push(h("deactivate",this,this.containers[f]))}if(this.containers[f].containerCache.over){k.push(h("out",this,this.containers[f]));this.containers[f].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!j){this._trigger("beforeStop",g,this._uiHash());for(f=0;f<k.length;f++){k[f].call(this,g)}this._trigger("stop",g,this._uiHash())}this.fromOutside=false;return false}if(!j){this._trigger("beforeStop",g,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!j){for(f=0;f<k.length;f++){k[f].call(this,g)}this._trigger("stop",g,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(b.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(f){var g=f||this;return{helper:g.helper,placeholder:g.placeholder||b([]),position:g.position,originalPosition:g.originalPosition,offset:g.positionAbs,item:g.currentItem,sender:f?f.element:null}}})})(jQuery);if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}var ua={toString:function(){return navigator.userAgent},test:function(a){return this.toString().toLowerCase().indexOf(a.toLowerCase())>-1}};ua.version=(ua.toString().toLowerCase().match(/[\s\S]+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1];ua.webkit=ua.test("webkit");ua.gecko=ua.test("gecko")&&!ua.webkit;ua.opera=ua.test("opera");ua.ie=ua.test("msie")&&!ua.opera;ua.ie6=ua.ie&&document.compatMode&&typeof document.documentElement.style.maxHeight==="undefined";ua.ie7=ua.ie&&document.documentElement&&typeof document.documentElement.style.maxHeight!=="undefined"&&typeof XDomainRequest==="undefined";ua.ie8=ua.ie&&typeof XDomainRequest!=="undefined";var domReady=function(){var b=[];var a=function(){if(!arguments.callee.done){arguments.callee.done=true;for(var c=0;c<b.length;c++){b[c]()}}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",a,false)}if(ua.ie){(function(){try{document.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,50);return}a()})();document.onreadystatechange=function(){if(document.readyState==="complete"){document.onreadystatechange=null;a()}}}if(ua.webkit&&document.readyState){(function(){if(document.readyState!=="loading"){a()}else{setTimeout(arguments.callee,10)}})()}window.onload=a;return function(c){if(typeof c==="function"){b[b.length]=c}return c}}();var cssHelper=function(){var o={BLOCKS:/[^\s{][^{]*\{(?:[^{}]*\{[^{}]*\}[^{}]*|[^{}]*)*\}/g,BLOCKS_INSIDE:/[^\s{][^{]*\{[^{}]*\}/g,DECLARATIONS:/[a-zA-Z\-]+[^;]*:[^;]+;/g,RELATIVE_URLS:/url\(['"]?([^\/\)'"][^:\)'"]+)['"]?\)/g,REDUNDANT_COMPONENTS:/(?:\/\*([^*\\\\]|\*(?!\/))+\*\/|@import[^;]+;)/g,REDUNDANT_WHITESPACE:/\s*(,|:|;|\{|\})\s*/g,MORE_WHITESPACE:/\s{2,}/g,FINAL_SEMICOLONS:/;\}/g,NOT_WHITESPACE:/\S+/g};var m,l=false;var j=[];var h=function(v){if(typeof v==="function"){j[j.length]=v}};var f=function(){for(var v=0;v<j.length;v++){j[v](m)}};var d={};var p=function(z,w){if(d[z]){var x=d[z].listeners;if(x){for(var y=0;y<x.length;y++){x[y](w)}}}};var n=function(w,v,A){if(ua.ie&&!window.XMLHttpRequest){window.XMLHttpRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}if(!XMLHttpRequest){return""}var x=new XMLHttpRequest();try{x.open("get",w,true);x.setRequestHeader("X_REQUESTED_WITH","XMLHttpRequest")}catch(y){A();return}var z=false;setTimeout(function(){z=true},5000);document.documentElement.style.cursor="progress";x.onreadystatechange=function(){if(x.readyState===4&&!z){if(!x.status&&location.protocol==="file:"||(x.status>=200&&x.status<300)||x.status===304||navigator.userAgent.indexOf("Safari")>-1&&typeof x.status==="undefined"){v(x.responseText)}else{A()}document.documentElement.style.cursor="";x=null}};x.send("")};var k=function(v){v=v.replace(o.REDUNDANT_COMPONENTS,"");v=v.replace(o.REDUNDANT_WHITESPACE,"$1");v=v.replace(o.MORE_WHITESPACE," ");v=v.replace(o.FINAL_SEMICOLONS,"}");return v};var g={mediaQueryList:function(D){var v={};var C=D.indexOf("{");var z=D.substring(0,C);D=D.substring(C+1,D.length-1);var y=[],x=[];var w=z.toLowerCase().substring(7).split(",");for(var B=0;B<w.length;B++){y[y.length]=g.mediaQuery(w[B],v)}var A=D.match(o.BLOCKS_INSIDE);if(A!==null){for(B=0;B<A.length;B++){x[x.length]=g.rule(A[B],v)}}v.getMediaQueries=function(){return y};v.getRules=function(){return x};v.getListText=function(){return z};v.getCssText=function(){return D};return v},mediaQuery:function(E,D){E=E||"";var x=false,B;var A=[];var z=true;var y=E.match(o.NOT_WHITESPACE);for(var C=0;C<y.length;C++){var w=y[C];if(!B&&(w==="not"||w==="only")){if(w==="not"){x=true}}else{if(!B){B=w}else{if(w.charAt(0)==="("){var v=w.substring(1,w.length-1).split(":");A[A.length]={mediaFeature:v[0],value:v[1]||null}}}}}return{getList:function(){return D||null},getValid:function(){return z},getNot:function(){return x},getMediaType:function(){return B},getExpressions:function(){return A}}},rule:function(C,z){var v={};var A=C.indexOf("{");var B=C.substring(0,A);var D=B.split(",");var w=[];var x=C.substring(A+1,C.length-1).split(";");for(var y=0;y<x.length;y++){w[w.length]=g.declaration(x[y],v)}v.getMediaQueryList=function(){return z||null};v.getSelectors=function(){return D};v.getSelectorText=function(){return B};v.getDeclarations=function(){return w};v.getPropertyValue=function(F){for(var E=0;E<w.length;E++){if(w[E].getProperty()===F){return w[E].getValue()}}return null};return v},declaration:function(y,z){var w=y.indexOf(":");var A=y.substring(0,w);var x=y.substring(w+1);return{getRule:function(){return z||null},getProperty:function(){return A},getValue:function(){return x}}}};var a=function(y){if(typeof y.cssHelperText!=="string"){return}var x={mediaQueryLists:[],rules:[],selectors:{},declarations:[],properties:{}};var D=x.mediaQueryLists;var F=x.rules;var C=y.cssHelperText.match(o.BLOCKS);if(C!==null){for(var E=0;E<C.length;E++){if(C[E].substring(0,7)==="@media "){D[D.length]=g.mediaQueryList(C[E]);F=x.rules=F.concat(D[D.length-1].getRules())}else{F[F.length]=g.rule(C[E])}}}var v=x.selectors;var A=function(I){var H=I.getSelectors();for(var G=0;G<H.length;G++){var J=H[G];if(!v[J]){v[J]=[]}v[J][v[J].length]=I}};for(E=0;E<F.length;E++){A(F[E])}var B=x.declarations;for(E=0;E<F.length;E++){B=x.declarations=B.concat(F[E].getDeclarations())}var w=x.properties;for(E=0;E<B.length;E++){var z=B[E].getProperty();if(!w[z]){w[z]=[]}w[z][w[z].length]=B[E]}y.cssHelperParsed=x;m[m.length]=y;return x};var c=function(w,v){w.cssHelperText=k(v||w.innerHTML);return a(w)};var b=function(){l=true;m=[];var v=[];var w=function(){for(var E=0;E<v.length;E++){a(v[E])}var D=document.getElementsByTagName("style");for(E=0;E<D.length;E++){c(D[E])}l=false;f()};var C=document.getElementsByTagName("link");for(var x=0;x<C.length;x++){var A=C[x];if(A.getAttribute("rel").indexOf("style")>-1&&A.href&&A.href.length!==0&&!A.disabled){v[v.length]=A}}if(v.length>0){var B=0;var z=function(){B++;if(B===v.length){w()}};var y=function(E){var D=E.href;n(D,function(F){F=k(F).replace(o.RELATIVE_URLS,"url("+D.substring(0,D.lastIndexOf("/"))+"/$1)");E.cssHelperText=F;z()},z)};for(x=0;x<v.length;x++){y(v[x])}}else{w()}};var q={mediaQueryLists:"array",rules:"array",selectors:"object",declarations:"array",properties:"object"};var u={mediaQueryLists:null,rules:null,selectors:null,declarations:null,properties:null};var t=function(x,w){if(u[x]!==null){if(q[x]==="array"){return(u[x]=u[x].concat(w))}else{var z=u[x];for(var y in w){if(w.hasOwnProperty(y)){if(!z[y]){z[y]=w[y]}else{z[y]=z[y].concat(w[y])}}}return z}}};var s=function(v){u[v]=(q[v]==="array")?[]:{};for(var w=0;w<m.length;w++){t(v,m[w].cssHelperParsed[v])}return u[v]};domReady(function(){var w=document.body.getElementsByTagName("*");for(var v=0;v<w.length;v++){w[v].checkedByCssHelper=true}if(document.implementation.hasFeature("MutationEvents","2.0")||window.MutationEvent){document.body.addEventListener("DOMNodeInserted",function(y){var x=y.target;if(x.nodeType===1){p("DOMElementInserted",x);x.checkedByCssHelper=true}},false)}else{setInterval(function(){var y=document.body.getElementsByTagName("*");for(var x=0;x<y.length;x++){if(!y[x].checkedByCssHelper){p("DOMElementInserted",y[x]);y[x].checkedByCssHelper=true}}},1000)}});var r=function(v){if(typeof window.innerWidth!="undefined"){return window["inner"+v]}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){return document.documentElement["client"+v]}}};return{addStyle:function(x,v){var w=document.createElement("style");w.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(w);if(w.styleSheet){w.styleSheet.cssText=x}else{w.appendChild(document.createTextNode(x))}w.addedWithCssHelper=true;if(typeof v==="undefined"||v===true){cssHelper.parsed(function(y){var z=c(w,x);for(var A in z){if(z.hasOwnProperty(A)){t(A,z[A])}}p("newStyleParsed",w)})}else{w.parsingDisallowed=true}return w},removeStyle:function(v){return v.parentNode.removeChild(v)},parsed:function(v){if(l){h(v)}else{if(typeof m!=="undefined"){if(typeof v==="function"){v(m)}}else{h(v);b()}}},mediaQueryLists:function(v){cssHelper.parsed(function(w){v(u.mediaQueryLists||s("mediaQueryLists"))})},rules:function(v){cssHelper.parsed(function(w){v(u.rules||s("rules"))})},selectors:function(v){cssHelper.parsed(function(w){v(u.selectors||s("selectors"))})},declarations:function(v){cssHelper.parsed(function(w){v(u.declarations||s("declarations"))})},properties:function(v){cssHelper.parsed(function(w){v(u.properties||s("properties"))})},broadcast:p,addListener:function(w,v){if(typeof v==="function"){if(!d[w]){d[w]={listeners:[]}}d[w].listeners[d[w].listeners.length]=v}},removeListener:function(y,x){if(typeof x==="function"&&d[y]){var v=d[y].listeners;for(var w=0;w<v.length;w++){if(v[w]===x){v.splice(w,1);w-=1}}}},getViewportWidth:function(){return r("Width")},getViewportHeight:function(){return r("Height")}}}();domReady(function enableCssMediaQueries(){var l;var j={LENGTH_UNIT:/[0-9]+(em|ex|px|in|cm|mm|pt|pc)$/,RESOLUTION_UNIT:/[0-9]+(dpi|dpcm)$/,ASPECT_RATIO:/^[0-9]+\/[0-9]+$/,ABSOLUTE_VALUE:/^[0-9]*(\.[0-9]+)*$/};var h=[];var o=function(){var t="css3-mediaqueries-test";var r=document.createElement("div");r.id=t;var s=cssHelper.addStyle("@media all and (width) { #"+t+" { width: 1px !important; } }",false);document.body.appendChild(r);var q=r.offsetWidth===1;s.parentNode.removeChild(s);r.parentNode.removeChild(r);o=function(){return q};return q};var n=function(){l=document.createElement("div");l.style.cssText="position:absolute;top:-9999em;left:-9999em;margin:0;border:none;padding:0;width:1em;font-size:1em;";document.body.appendChild(l);if(l.offsetWidth!==16){l.style.fontSize=16/l.offsetWidth+"em"}l.style.width=""};var m=function(r){l.style.width=r;var q=l.offsetWidth;l.style.width="";return q};var k=function(A,z){var v=A.length;var y=(A.substring(0,4)==="min-");var C=(!y&&A.substring(0,4)==="max-");if(z!==null){var x;var w;if(j.LENGTH_UNIT.exec(z)){x="length";w=m(z)}else{if(j.RESOLUTION_UNIT.exec(z)){x="resolution";w=parseInt(z,10);var u=z.substring((w+"").length)}else{if(j.ASPECT_RATIO.exec(z)){x="aspect-ratio";w=z.split("/")}else{if(j.ABSOLUTE_VALUE){x="absolute";w=z}else{x="unknown"}}}}}var t,s;if("device-width"===A.substring(v-12,v)){t=screen.width;if(z!==null){if(x==="length"){return((y&&t>=w)||(C&&t<w)||(!y&&!C&&t===w))}else{return false}}else{return t>0}}else{if("device-height"===A.substring(v-13,v)){s=screen.height;if(z!==null){if(x==="length"){return((y&&s>=w)||(C&&s<w)||(!y&&!C&&s===w))}else{return false}}else{return s>0}}else{if("width"===A.substring(v-5,v)){t=document.documentElement.clientWidth||document.body.clientWidth;if(z!==null){if(x==="length"){return((y&&t>=w)||(C&&t<w)||(!y&&!C&&t===w))}else{return false}}else{return t>0}}else{if("height"===A.substring(v-6,v)){s=document.documentElement.clientHeight||document.body.clientHeight;if(z!==null){if(x==="length"){return((y&&s>=w)||(C&&s<w)||(!y&&!C&&s===w))}else{return false}}else{return s>0}}else{if("device-aspect-ratio"===A.substring(v-19,v)){return x==="aspect-ratio"&&screen.width*w[1]===screen.height*w[0]}else{if("color-index"===A.substring(v-11,v)){var r=Math.pow(2,screen.colorDepth);if(z!==null){if(x==="absolute"){return((y&&r>=w)||(C&&r<w)||(!y&&!C&&r===w))}else{return false}}else{return r>0}}else{if("color"===A.substring(v-5,v)){var q=screen.colorDepth;if(z!==null){if(x==="absolute"){return((y&&q>=w)||(C&&q<w)||(!y&&!C&&q===w))}else{return false}}else{return q>0}}else{if("resolution"===A.substring(v-10,v)){var B;if(u==="dpcm"){B=m("1cm")}else{B=m("1in")}if(z!==null){if(x==="resolution"){return((y&&B>=w)||(C&&B<w)||(!y&&!C&&B===w))}else{return false}}else{return B>0}}else{return false}}}}}}}}};var g=function(s){var v=s.getValid();var u=s.getExpressions();var q=u.length;if(q>0){for(var r=0;r<q&&v;r++){v=k(u[r].mediaFeature,u[r].value)}var t=s.getNot();return(v&&!t||t&&!v)}};var f=function(q){var v=q.getMediaQueries();var u={};for(var r=0;r<v.length;r++){if(g(v[r])){u[v[r].getMediaType()]=true}}var w=[],y=0;for(var x in u){if(u.hasOwnProperty(x)){if(y>0){w[y++]=","}w[y++]=x}}if(w.length>0){h[h.length]=cssHelper.addStyle("@media "+w.join("")+"{"+q.getCssText()+"}",false)}};var d=function(r){for(var q=0;q<r.length;q++){f(r[q])}if(ua.ie){document.documentElement.style.display="block";setTimeout(function(){document.documentElement.style.display=""},0);setTimeout(function(){cssHelper.broadcast("cssMediaQueriesTested")},100)}else{cssHelper.broadcast("cssMediaQueriesTested")}};var c=function(){for(var q=0;q<h.length;q++){cssHelper.removeStyle(h[q])}h=[];cssHelper.mediaQueryLists(d)};var b=0;var a=function(){var t=cssHelper.getViewportWidth();var s=cssHelper.getViewportHeight();if(ua.ie){var u=document.createElement("div");u.style.position="absolute";u.style.top="-9999em";u.style.overflow="scroll";document.body.appendChild(u);b=u.offsetWidth-u.clientWidth;document.body.removeChild(u)}var r;var q=function(){var v=cssHelper.getViewportWidth();var w=cssHelper.getViewportHeight();if(Math.abs(v-t)>b||Math.abs(w-s)>b){t=v;s=w;clearTimeout(r);r=setTimeout(function(){if(!o()){c()}else{cssHelper.broadcast("cssMediaQueriesTested")}},500)}};window.onresize=function(){var v=window.onresize||function(){};return function(){v();q()}}()};var p=document.documentElement;p.style.marginLeft="-32767px";setTimeout(function(){p.style.marginTop=""},20000);return function(){if(!o()){cssHelper.addListener("newStyleParsed",function(q){d(q.cssHelperParsed.mediaQueryLists)});cssHelper.addListener("cssMediaQueriesTested",function(){if(ua.ie){p.style.width="1px"}setTimeout(function(){p.style.width="";p.style.marginLeft=""},0);cssHelper.removeListener("cssMediaQueriesTested",arguments.callee)});n();c()}else{p.style.marginLeft=""}a()}}());try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}!function(a){a(function(){a.support.transition=(function(){var b=(function(){var f=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in d){if(f.style[c]!==undefined){return d[c]}}}());return b&&{end:b}})()})}(window.jQuery);!function(d){var c='[data-dismiss="alert"]',b=function(f){d(f).on("click",c,this.close)};b.prototype.close=function(k){var j=d(this),g=j.attr("data-target"),h;if(!g){g=j.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}h=d(g);k&&k.preventDefault();h.length||(h=j.hasClass("alert")?j:j.parent());h.trigger(k=d.Event("close"));if(k.isDefaultPrevented()){return}h.removeClass("in");function f(){h.trigger("closed").remove()}d.support.transition&&h.hasClass("fade")?h.on(d.support.transition.end,f):f()};var a=d.fn.alert;d.fn.alert=function(f){return this.each(function(){var h=d(this),g=h.data("alert");if(!g){h.data("alert",(g=new b(this)))}if(typeof f=="string"){g[f].call(h)}})};d.fn.alert.Constructor=b;d.fn.alert.noConflict=function(){d.fn.alert=a;return this};d(document).on("click.alert.data-api",c,b.prototype.close)}(window.jQuery);!function(c){var b=function(f,d){this.$element=c(f);this.options=c.extend({},c.fn.button.defaults,d)};b.prototype.setState=function(h){var k="disabled",f=this.$element,g=f.data(),j=f.is("input")?"val":"html";h=h+"Text";g.resetText||f.data("resetText",f[j]());f[j](g[h]||this.options[h]);setTimeout(function(){h=="loadingText"?f.addClass(k).attr(k,k):f.removeClass(k).removeAttr(k)},0)};b.prototype.toggle=function(){var d=this.$element.closest('[data-toggle="buttons-radio"]');d&&d.find(".active").removeClass("active");this.$element.toggleClass("active")};var a=c.fn.button;c.fn.button=function(d){return this.each(function(){var h=c(this),g=h.data("button"),f=typeof d=="object"&&d;if(!g){h.data("button",(g=new b(this,f)))}if(d=="toggle"){g.toggle()}else{if(d){g.setState(d)}}})};c.fn.button.defaults={loadingText:"loading..."};c.fn.button.Constructor=b;c.fn.button.noConflict=function(){c.fn.button=a;return this};c(document).on("click.button.data-api","[data-toggle^=button]",function(f){var d=c(f.target);if(!d.hasClass("btn")){d=d.closest(".btn")}d.button("toggle")})}(window.jQuery);!function(b){var c=function(f,d){this.$element=b(f);this.$indicators=this.$element.find(".carousel-indicators");this.options=d;this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};c.prototype={cycle:function(d){if(!d){this.paused=false}if(this.interval){clearInterval(this.interval)}this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this},getActiveIndex:function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)},to:function(g){var d=this.getActiveIndex(),f=this;if(g>(this.$items.length-1)||g<0){return}if(this.sliding){return this.$element.one("slid",function(){f.to(g)})}if(d==g){return this.pause().cycle()}return this.slide(g>d?"next":"prev",b(this.$items[g]))},pause:function(d){if(!d){this.paused=true}if(this.$element.find(".next, .prev").length&&b.support.transition.end){this.$element.trigger(b.support.transition.end);this.cycle(true)}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(l,f){var n=this.$element.find(".item.active"),d=f||n[l](),k=this.interval,m=l=="next"?"left":"right",g=l=="next"?"first":"last",h=this,j;this.sliding=true;k&&this.pause();d=d.length?d:this.$element.find(".item")[g]();j=b.Event("slide",{relatedTarget:d[0],direction:m});if(d.hasClass("active")){return}if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var o=b(h.$indicators.children()[h.getActiveIndex()]);o&&o.addClass("active")})}if(b.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented()){return}d.addClass(l);d[0].offsetWidth;n.addClass(m);d.addClass(m);this.$element.one(b.support.transition.end,function(){d.removeClass([l,m].join(" ")).addClass("active");n.removeClass(["active",m].join(" "));h.sliding=false;setTimeout(function(){h.$element.trigger("slid")},0)})}else{this.$element.trigger(j);if(j.isDefaultPrevented()){return}n.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid")}k&&this.cycle();return this}};var a=b.fn.carousel;b.fn.carousel=function(d){return this.each(function(){var j=b(this),h=j.data("carousel"),f=b.extend({},b.fn.carousel.defaults,typeof d=="object"&&d),g=typeof d=="string"?d:f.slide;if(!h){j.data("carousel",(h=new c(this,f)))}if(typeof d=="number"){h.to(d)}else{if(g){h[g]()}else{if(f.interval){h.pause().cycle()}}}})};b.fn.carousel.defaults={interval:5000,pause:"hover"};b.fn.carousel.Constructor=c;b.fn.carousel.noConflict=function(){b.fn.carousel=a;return this};b(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(k){var j=b(this),f,d=b(j.attr("data-target")||(f=j.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")),g=b.extend({},d.data(),j.data()),h;d.carousel(g);if(h=j.attr("data-slide-to")){d.data("carousel").pause().to(h).cycle()}k.preventDefault()})}(window.jQuery);!function(b){var c=function(f,d){this.$element=b(f);this.options=b.extend({},b.fn.collapse.defaults,d);if(this.options.parent){this.$parent=b(this.options.parent)}this.options.toggle&&this.toggle()};c.prototype={constructor:c,dimension:function(){var d=this.$element.hasClass("width");return d?"width":"height"},show:function(){var h,d,g,f;if(this.transitioning||this.$element.hasClass("in")){return}h=this.dimension();d=b.camelCase(["scroll",h].join("-"));g=this.$parent&&this.$parent.find("> .accordion-group > .in");if(g&&g.length){f=g.data("collapse");if(f&&f.transitioning){return}g.collapse("hide");f||g.data("collapse",null)}this.$element[h](0);this.transition("addClass",b.Event("show"),"shown");b.support.transition&&this.$element[h](this.$element[0][d])},hide:function(){var d;if(this.transitioning||!this.$element.hasClass("in")){return}d=this.dimension();this.reset(this.$element[d]());this.transition("removeClass",b.Event("hide"),"hidden");this.$element[d](0)},reset:function(d){var f=this.dimension();this.$element.removeClass("collapse")[f](d||"auto")[0].offsetWidth;this.$element[d!==null?"addClass":"removeClass"]("collapse");return this},transition:function(j,f,g){var h=this,d=function(){if(f.type=="show"){h.reset()}h.transitioning=0;h.$element.trigger(g)};this.$element.trigger(f);if(f.isDefaultPrevented()){return}this.transitioning=1;this.$element[j]("in");b.support.transition&&this.$element.hasClass("collapse")?this.$element.one(b.support.transition.end,d):d()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var a=b.fn.collapse;b.fn.collapse=function(d){return this.each(function(){var h=b(this),g=h.data("collapse"),f=b.extend({},b.fn.collapse.defaults,h.data(),typeof d=="object"&&d);if(!g){h.data("collapse",(g=new c(this,f)))}if(typeof d=="string"){g[d]()}})};b.fn.collapse.defaults={toggle:true};b.fn.collapse.Constructor=c;b.fn.collapse.noConflict=function(){b.fn.collapse=a;return this};b(document).on("click.collapse.data-api","[data-toggle=collapse]",function(j){var h=b(this),d,g=h.attr("data-target")||j.preventDefault()||(d=h.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=b(g).data("collapse")?"toggle":h.data();h[b(g).hasClass("in")?"addClass":"removeClass"]("collapsed");b(g).collapse(f)})}(window.jQuery);!function(g){var b="[data-toggle=dropdown]",a=function(j){var h=g(j).on("click.dropdown.data-api",this.toggle);g("html").on("click.dropdown.data-api",function(){h.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(l){var k=g(this),j,h;if(k.is(".disabled, :disabled")){return}j=f(k);h=j.hasClass("open");d();if(!h){j.toggleClass("open")}k.focus();return false},keydown:function(n){var m,o,h,l,k,j;if(!/(38|40|27)/.test(n.keyCode)){return}m=g(this);n.preventDefault();n.stopPropagation();if(m.is(".disabled, :disabled")){return}l=f(m);k=l.hasClass("open");if(!k||(k&&n.keyCode==27)){if(n.which==27){l.find(b).focus()}return m.click()}o=g("[role=menu] li:not(.divider):visible a",l);if(!o.length){return}j=o.index(o.filter(":focus"));if(n.keyCode==38&&j>0){j--}if(n.keyCode==40&&j<o.length-1){j++}if(!~j){j=0}o.eq(j).focus()}};function d(){g(b).each(function(){f(g(this)).removeClass("open")})}function f(k){var h=k.attr("data-target"),j;if(!h){h=k.attr("href");h=h&&/#/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,"")}j=h&&g(h);if(!j||!j.length){j=k.parent()}return j}var c=g.fn.dropdown;g.fn.dropdown=function(h){return this.each(function(){var k=g(this),j=k.data("dropdown");if(!j){k.data("dropdown",(j=new a(this)))}if(typeof h=="string"){j[h].call(k)}})};g.fn.dropdown.Constructor=a;g.fn.dropdown.noConflict=function(){g.fn.dropdown=c;return this};g(document).on("click.dropdown.data-api",d).on("click.dropdown.data-api",".dropdown form",function(h){h.stopPropagation()}).on("click.dropdown-menu",function(h){h.stopPropagation()}).on("click.dropdown.data-api",b,a.prototype.toggle).on("keydown.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)}(window.jQuery);!function(c){var b=function(f,d){this.options=d;this.$element=c(f).delegate('[data-dismiss="modal"]',"click.dismiss.modal",c.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var d=this,f=c.Event("show");this.$element.trigger(f);if(this.isShown||f.isDefaultPrevented()){return}this.isShown=true;this.escape();this.backdrop(function(){var g=c.support.transition&&d.$element.hasClass("fade");if(!d.$element.parent().length){d.$element.appendTo(document.body)}d.$element.show();if(g){d.$element[0].offsetWidth}d.$element.addClass("in").attr("aria-hidden",false);d.enforceFocus();g?d.$element.one(c.support.transition.end,function(){d.$element.focus().trigger("shown")}):d.$element.focus().trigger("shown")})},hide:function(f){f&&f.preventDefault();var d=this;f=c.Event("hide");this.$element.trigger(f);if(!this.isShown||f.isDefaultPrevented()){return}this.isShown=false;this.escape();c(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);c.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var d=this;c(document).on("focusin.modal",function(f){if(d.$element[0]!==f.target&&!d.$element.has(f.target).length){d.$element.focus()}})},escape:function(){var d=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(f){f.which==27&&d.hide()})}else{if(!this.isShown){this.$element.off("keyup.dismiss.modal")}}},hideWithTransition:function(){var d=this,f=setTimeout(function(){d.$element.off(c.support.transition.end);d.hideModal()},500);this.$element.one(c.support.transition.end,function(){clearTimeout(f);d.hideModal()})},hideModal:function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(h){var g=this,f=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=c.support.transition&&f;this.$backdrop=c('<div class="modal-backdrop '+f+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?c.proxy(this.$element[0].focus,this.$element[0]):c.proxy(this.hide,this));if(d){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!h){return}d?this.$backdrop.one(c.support.transition.end,h):h()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,h):h()}else{if(h){h()}}}}};var a=c.fn.modal;c.fn.modal=function(d){return this.each(function(){var h=c(this),g=h.data("modal"),f=c.extend({},c.fn.modal.defaults,h.data(),typeof d=="object"&&d);if(!g){h.data("modal",(g=new b(this,f)))}if(typeof d=="string"){g[d]()}else{if(f.show){g.show()}}})};c.fn.modal.defaults={backdrop:true,keyboard:true,show:true};c.fn.modal.Constructor=b;c.fn.modal.noConflict=function(){c.fn.modal=a;return this};c(document).on("click.modal.data-api",'[data-toggle="modal"]',function(j){var h=c(this),f=h.attr("href"),d=c(h.attr("data-target")||(f&&f.replace(/.*(?=#[^\s]+$)/,""))),g=d.data("modal")?"toggle":c.extend({remote:!/#/.test(f)&&f},d.data(),h.data());j.preventDefault();d.modal(g).one("hide",function(){h.focus()})})}(window.jQuery);!function(c){var b=function(f,d){this.init("tooltip",f,d)};b.prototype={constructor:b,init:function(l,j,g){var m,d,k,f,h;this.type=l;this.$element=c(j);this.options=this.getOptions(g);this.enabled=true;k=this.options.trigger.split(" ");for(h=k.length;h--;){f=k[h];if(f=="click"){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))}else{if(f!="manual"){m=f=="hover"?"mouseenter":"focus";d=f=="hover"?"mouseleave":"blur";this.$element.on(m+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))}}}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(d){d=c.extend({},c.fn[this.type].defaults,this.$element.data(),d);if(d.delay&&typeof d.delay=="number"){d.delay={show:d.delay,hide:d.delay}}return d},enter:function(h){var g=c.fn[this.type].defaults,f={},d;this._options&&c.each(this._options,function(j,k){if(g[j]!=k){f[j]=k}},this);d=c(h.currentTarget)[this.type](f).data(this.type);if(!d.options.delay||!d.options.delay.show){return d.show()}clearTimeout(this.timeout);d.hoverState="in";this.timeout=setTimeout(function(){if(d.hoverState=="in"){d.show()}},d.options.delay.show)},leave:function(f){var d=c(f.currentTarget)[this.type](this._options).data(this.type);if(this.timeout){clearTimeout(this.timeout)}if(!d.options.delay||!d.options.delay.hide){return d.hide()}d.hoverState="out";this.timeout=setTimeout(function(){if(d.hoverState=="out"){d.hide()}},d.options.delay.hide)},show:function(){var j,l,g,k,d,h,f=c.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(f);if(f.isDefaultPrevented()){return}j=this.tip();this.setContent();if(this.options.animation){j.addClass("fade")}d=typeof this.options.placement=="function"?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement;j.detach().css({top:0,left:0,display:"block"});this.options.container?j.appendTo(this.options.container):j.insertAfter(this.$element);l=this.getPosition();g=j[0].offsetWidth;k=j[0].offsetHeight;switch(d){case"bottom":h={top:l.top+l.height,left:l.left+l.width/2-g/2};break;case"top":h={top:l.top-k,left:l.left+l.width/2-g/2};break;case"left":h={top:l.top+l.height/2-k/2,left:l.left-g};break;case"right":h={top:l.top+l.height/2-k/2,left:l.left+l.width};break}this.applyPlacement(h,d);this.$element.trigger("shown")}},applyPlacement:function(h,j){var k=this.tip(),f=k[0].offsetWidth,n=k[0].offsetHeight,d,l,m,g;k.offset(h).addClass(j).addClass("in");d=k[0].offsetWidth;l=k[0].offsetHeight;if(j=="top"&&l!=n){h.top=h.top+n-l;g=true}if(j=="bottom"||j=="top"){m=0;if(h.left<0){m=h.left*-2;h.left=0;k.offset(h);d=k[0].offsetWidth;l=k[0].offsetHeight}this.replaceArrow(m-f+d,d,"left")}else{this.replaceArrow(l-n,l,"top")}if(g){k.offset(h)}},replaceArrow:function(g,f,d){this.arrow().css(d,g?(50*(1-g/f)+"%"):"")},setContent:function(){var f=this.tip(),d=this.getTitle();f.find(".tooltip-inner")[this.options.html?"html":"text"](d);f.removeClass("fade in top bottom left right")},hide:function(){var d=this,g=this.tip(),f=c.Event("hide");this.$element.trigger(f);if(f.isDefaultPrevented()){return}g.removeClass("in");function h(){var j=setTimeout(function(){g.off(c.support.transition.end).detach()},500);g.one(c.support.transition.end,function(){clearTimeout(j);g.detach()})}c.support.transition&&this.$tip.hasClass("fade")?h():g.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var d=this.$element;if(d.attr("title")||typeof(d.attr("data-original-title"))!="string"){d.attr("data-original-title",d.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var d=this.$element[0];return c.extend({},(typeof d.getBoundingClientRect=="function")?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},this.$element.offset())},getTitle:function(){var g,d=this.$element,f=this.options;g=d.attr("data-original-title")||(typeof f.title=="function"?f.title.call(d[0]):f.title);return g},tip:function(){return this.$tip=this.$tip||c(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(f){var d=f?c(f.currentTarget)[this.type](this._options).data(this.type):this;d.tip().hasClass("in")?d.hide():d.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var a=c.fn.tooltip;c.fn.tooltip=function(d){return this.each(function(){var h=c(this),g=h.data("tooltip"),f=typeof d=="object"&&d;if(!g){h.data("tooltip",(g=new b(this,f)))}if(typeof d=="string"){g[d]()}})};c.fn.tooltip.Constructor=b;c.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};c.fn.tooltip.noConflict=function(){c.fn.tooltip=a;return this}}(window.jQuery);!function(c){var b=function(f,d){this.init("popover",f,d)};b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var g=this.tip(),f=this.getTitle(),d=this.getContent();g.find(".popover-title")[this.options.html?"html":"text"](f);g.find(".popover-content")[this.options.html?"html":"text"](d);g.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var f,d=this.$element,g=this.options;f=(typeof g.content=="function"?g.content.call(d[0]):g.content)||d.attr("data-content");return f},tip:function(){if(!this.$tip){this.$tip=c(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var a=c.fn.popover;c.fn.popover=function(d){return this.each(function(){var h=c(this),g=h.data("popover"),f=typeof d=="object"&&d;if(!g){h.data("popover",(g=new b(this,f)))}if(typeof d=="string"){g[d]()}})};c.fn.popover.Constructor=b;c.fn.popover.defaults=c.extend({},c.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.fn.popover.noConflict=function(){c.fn.popover=a;return this}}(window.jQuery);!function(c){function b(h,g){var j=c.proxy(this.process,this),d=c(h).is("body")?c(window):c(h),f;this.options=c.extend({},c.fn.scrollspy.defaults,g);this.$scrollElement=d.on("scroll.scroll-spy.data-api",j);this.selector=(this.options.target||((f=c(h).attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.$body=c("body");this.refresh();this.process()}b.prototype={constructor:b,refresh:function(){var d=this,f;this.offsets=c([]);this.targets=c([]);f=this.$body.find(this.selector).map(function(){var h=c(this),g=h.data("target")||h.attr("href"),j=/^#\w/.test(g)&&c(g);return(j&&j.length&&[[j.position().top+(!c.isWindow(d.$scrollElement.get(0))&&d.$scrollElement.scrollTop()),g]])||null}).sort(function(h,g){return h[0]-g[0]}).each(function(){d.offsets.push(this[0]);d.targets.push(this[1])})},process:function(){var k=this.$scrollElement.scrollTop()+this.options.offset,g=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,j=g-this.$scrollElement.height(),h=this.offsets,d=this.targets,l=this.activeTarget,f;if(k>=j){return l!=(f=d.last()[0])&&this.activate(f)}for(f=h.length;f--;){l!=d[f]&&k>=h[f]&&(!h[f+1]||k<=h[f+1])&&this.activate(d[f])}},activate:function(g){var f,d;this.activeTarget=g;c(this.selector).parent(".active").removeClass("active");d=this.selector+'[data-target="'+g+'"],'+this.selector+'[href="'+g+'"]';f=c(d).parent("li").addClass("active");if(f.parent(".dropdown-menu").length){f=f.closest("li.dropdown").addClass("active")}f.trigger("activate")}};var a=c.fn.scrollspy;c.fn.scrollspy=function(d){return this.each(function(){var h=c(this),g=h.data("scrollspy"),f=typeof d=="object"&&d;if(!g){h.data("scrollspy",(g=new b(this,f)))}if(typeof d=="string"){g[d]()}})};c.fn.scrollspy.Constructor=b;c.fn.scrollspy.defaults={offset:10};c.fn.scrollspy.noConflict=function(){c.fn.scrollspy=a;return this};c(window).on("load",function(){c('[data-spy="scroll"]').each(function(){var d=c(this);d.scrollspy(d.data())})})}(window.jQuery);!function(c){var b=function(d){this.element=c(d)};b.prototype={constructor:b,show:function(){var k=this.element,g=k.closest("ul:not(.dropdown-menu)"),f=k.attr("data-target"),h,d,j;if(!f){f=k.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}if(k.parent("li").hasClass("active")){return}h=g.find(".active:last a")[0];j=c.Event("show",{relatedTarget:h});k.trigger(j);if(j.isDefaultPrevented()){return}d=c(f);this.activate(k.parent("li"),g);this.activate(d,d.parent(),function(){k.trigger({type:"shown",relatedTarget:h})})},activate:function(g,f,k){var d=f.find("> .active"),j=k&&c.support.transition&&d.hasClass("fade");function h(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");g.addClass("active");if(j){g[0].offsetWidth;g.addClass("in")}else{g.removeClass("fade")}if(g.parent(".dropdown-menu")){g.closest("li.dropdown").addClass("active")}k&&k()}j?d.one(c.support.transition.end,h):h();d.removeClass("in")}};var a=c.fn.tab;c.fn.tab=function(d){return this.each(function(){var g=c(this),f=g.data("tab");if(!f){g.data("tab",(f=new b(this)))}if(typeof d=="string"){f[d]()}})};c.fn.tab.Constructor=b;c.fn.tab.noConflict=function(){c.fn.tab=a;return this};c(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();c(this).tab("show")})}(window.jQuery);!function(b){var c=function(f,d){this.$element=b(f);this.options=b.extend({},b.fn.typeahead.defaults,d);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=b(this.options.menu);this.shown=false;this.listen()};c.prototype={constructor:c,select:function(){var d=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(d)).change();return this.hide()},updater:function(d){return d},show:function(){var d=b.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:d.top+d.height,left:d.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(f){var d;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength){return this.shown?this.hide():this}d=b.isFunction(this.source)?this.source(this.query,b.proxy(this.process,this)):this.source;return d?this.process(d):this},process:function(d){var f=this;d=b.grep(d,function(g){return f.matcher(g)});d=this.sorter(d);if(!d.length){return this.shown?this.hide():this}return this.render(d.slice(0,this.options.items)).show()},matcher:function(d){return ~d.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(g){var h=[],f=[],d=[],j;while(j=g.shift()){if(!j.toLowerCase().indexOf(this.query.toLowerCase())){h.push(j)}else{if(~j.indexOf(this.query)){f.push(j)}else{d.push(j)}}}return h.concat(f,d)},highlighter:function(d){var f=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return d.replace(new RegExp("("+f+")","ig"),function(g,h){return"<strong>"+h+"</strong>"})},render:function(d){var f=this;d=b(d).map(function(g,h){g=b(f.options.item).attr("data-value",h);g.find("a").html(f.highlighter(h));return g[0]});d.first().addClass("active");this.$menu.html(d);return this},next:function(f){var g=this.$menu.find(".active").removeClass("active"),d=g.next();if(!d.length){d=b(this.$menu.find("li")[0])}d.addClass("active")},prev:function(f){var g=this.$menu.find(".active").removeClass("active"),d=g.prev();if(!d.length){d=this.$menu.find("li").last()}d.addClass("active")},listen:function(){this.$element.on("focus",b.proxy(this.focus,this)).on("blur",b.proxy(this.blur,this)).on("keypress",b.proxy(this.keypress,this)).on("keyup",b.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",b.proxy(this.keydown,this))}this.$menu.on("click",b.proxy(this.click,this)).on("mouseenter","li",b.proxy(this.mouseenter,this)).on("mouseleave","li",b.proxy(this.mouseleave,this))},eventSupported:function(d){var f=d in this.$element;if(!f){this.$element.setAttribute(d,"return;");f=typeof this.$element[d]==="function"}return f},move:function(d){if(!this.shown){return}switch(d.keyCode){case 9:case 13:case 27:d.preventDefault();break;case 38:d.preventDefault();this.prev();break;case 40:d.preventDefault();this.next();break}d.stopPropagation()},keydown:function(d){this.suppressKeyPressRepeat=~b.inArray(d.keyCode,[40,38,9,13,27]);this.move(d)},keypress:function(d){if(this.suppressKeyPressRepeat){return}this.move(d)},keyup:function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}d.stopPropagation();d.preventDefault()},focus:function(d){this.focused=true},blur:function(d){this.focused=false;if(!this.mousedover&&this.shown){this.hide()}},click:function(d){d.stopPropagation();d.preventDefault();this.select();this.$element.focus()},mouseenter:function(d){this.mousedover=true;this.$menu.find(".active").removeClass("active");b(d.currentTarget).addClass("active")},mouseleave:function(d){this.mousedover=false;if(!this.focused&&this.shown){this.hide()}}};var a=b.fn.typeahead;b.fn.typeahead=function(d){return this.each(function(){var h=b(this),g=h.data("typeahead"),f=typeof d=="object"&&d;if(!g){h.data("typeahead",(g=new c(this,f)))}if(typeof d=="string"){g[d]()}})};b.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};b.fn.typeahead.Constructor=c;b.fn.typeahead.noConflict=function(){b.fn.typeahead=a;return this};b(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(f){var d=b(this);if(d.data("typeahead")){return}d.typeahead(d.data())})}(window.jQuery);!function(c){var b=function(f,d){this.options=c.extend({},c.fn.affix.defaults,d);this.$window=c(window).on("scroll.affix.data-api",c.proxy(this.checkPosition,this)).on("click.affix.data-api",c.proxy(function(){setTimeout(c.proxy(this.checkPosition,this),1)},this));this.$element=c(f);this.checkPosition()};b.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var j=c(document).height(),l=this.$window.scrollTop(),d=this.$element.offset(),m=this.options.offset,g=m.bottom,h=m.top,k="affix affix-top affix-bottom",f;if(typeof m!="object"){g=h=m}if(typeof h=="function"){h=m.top()}if(typeof g=="function"){g=m.bottom()}f=this.unpin!=null&&(l+this.unpin<=d.top)?false:g!=null&&(d.top+this.$element.height()>=j-g)?"bottom":h!=null&&l<=h?"top":false;if(this.affixed===f){return}this.affixed=f;this.unpin=f=="bottom"?d.top-l:null;this.$element.removeClass(k).addClass("affix"+(f?"-"+f:""))};var a=c.fn.affix;c.fn.affix=function(d){return this.each(function(){var h=c(this),g=h.data("affix"),f=typeof d=="object"&&d;if(!g){h.data("affix",(g=new b(this,f)))}if(typeof d=="string"){g[d]()}})};c.fn.affix.Constructor=b;c.fn.affix.defaults={offset:0};c.fn.affix.noConflict=function(){c.fn.affix=a;return this};c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var f=c(this),d=f.data();d.offset=d.offset||{};d.offsetBottom&&(d.offset.bottom=d.offsetBottom);d.offsetTop&&(d.offset.top=d.offsetTop);f.affix(d)})})}(window.jQuery);(function(){var y=this;var m=y._;var F={};var E=Array.prototype,g=Object.prototype,t=Function.prototype;var J=E.push,q=E.slice,A=E.concat,d=g.toString,l=g.hasOwnProperty;var N=E.forEach,s=E.map,G=E.reduce,c=E.reduceRight,b=E.filter,D=E.every,r=E.some,p=E.indexOf,n=E.lastIndexOf,w=Array.isArray,f=Object.keys,H=t.bind;var O=function(P){if(P instanceof O){return P}if(!(this instanceof O)){return new O(P)}this._wrapped=P};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=O}exports._=O}else{y._=O}O.VERSION="1.6.0";var K=O.each=O.forEach=function(U,R,Q){if(U==null){return U}if(N&&U.forEach===N){U.forEach(R,Q)}else{if(U.length===+U.length){for(var P=0,T=U.length;P<T;P++){if(R.call(Q,U[P],P,U)===F){return}}}else{var S=O.keys(U);for(var P=0,T=S.length;P<T;P++){if(R.call(Q,U[S[P]],S[P],U)===F){return}}}}return U};O.map=O.collect=function(S,R,Q){var P=[];if(S==null){return P}if(s&&S.map===s){return S.map(R,Q)}K(S,function(V,T,U){P.push(R.call(Q,V,T,U))});return P};var h="Reduce of empty array with no initial value";O.reduce=O.foldl=O.inject=function(T,S,P,R){var Q=arguments.length>2;if(T==null){T=[]}if(G&&T.reduce===G){if(R){S=O.bind(S,R)}return Q?T.reduce(S,P):T.reduce(S)}K(T,function(W,U,V){if(!Q){P=W;Q=true}else{P=S.call(R,P,W,U,V)}});if(!Q){throw new TypeError(h)}return P};O.reduceRight=O.foldr=function(V,S,P,R){var Q=arguments.length>2;if(V==null){V=[]}if(c&&V.reduceRight===c){if(R){S=O.bind(S,R)}return Q?V.reduceRight(S,P):V.reduceRight(S)}var U=V.length;if(U!==+U){var T=O.keys(V);U=T.length}K(V,function(Y,W,X){W=T?T[--U]:--U;if(!Q){P=V[W];Q=true}else{P=S.call(R,P,V[W],W,X)}});if(!Q){throw new TypeError(h)}return P};O.find=O.detect=function(S,Q,R){var P;C(S,function(V,T,U){if(Q.call(R,V,T,U)){P=V;return true}});return P};O.filter=O.select=function(S,P,R){var Q=[];if(S==null){return Q}if(b&&S.filter===b){return S.filter(P,R)}K(S,function(V,T,U){if(P.call(R,V,T,U)){Q.push(V)}});return Q};O.reject=function(R,P,Q){return O.filter(R,function(U,S,T){return !P.call(Q,U,S,T)},Q)};O.every=O.all=function(S,Q,R){Q||(Q=O.identity);var P=true;if(S==null){return P}if(D&&S.every===D){return S.every(Q,R)}K(S,function(V,T,U){if(!(P=P&&Q.call(R,V,T,U))){return F}});return !!P};var C=O.some=O.any=function(S,Q,R){Q||(Q=O.identity);var P=false;if(S==null){return P}if(r&&S.some===r){return S.some(Q,R)}K(S,function(V,T,U){if(P||(P=Q.call(R,V,T,U))){return F}});return !!P};O.contains=O.include=function(Q,P){if(Q==null){return false}if(p&&Q.indexOf===p){return Q.indexOf(P)!=-1}return C(Q,function(R){return R===P})};O.invoke=function(R,S){var P=q.call(arguments,2);var Q=O.isFunction(S);return O.map(R,function(T){return(Q?S:T[S]).apply(T,P)})};O.pluck=function(Q,P){return O.map(Q,O.property(P))};O.where=function(Q,P){return O.filter(Q,O.matches(P))};O.findWhere=function(Q,P){return O.find(Q,O.matches(P))};O.max=function(T,R,Q){if(!R&&O.isArray(T)&&T[0]===+T[0]&&T.length<65535){return Math.max.apply(Math,T)}var P=-Infinity,S=-Infinity;K(T,function(X,U,W){var V=R?R.call(Q,X,U,W):X;if(V>S){P=X;S=V}});return P};O.min=function(T,R,Q){if(!R&&O.isArray(T)&&T[0]===+T[0]&&T.length<65535){return Math.min.apply(Math,T)}var P=Infinity,S=Infinity;K(T,function(X,U,W){var V=R?R.call(Q,X,U,W):X;if(V<S){P=X;S=V}});return P};O.shuffle=function(S){var R;var Q=0;var P=[];K(S,function(T){R=O.random(Q++);P[Q-1]=P[R];P[R]=T});return P};O.sample=function(Q,R,P){if(R==null||P){if(Q.length!==+Q.length){Q=O.values(Q)}return Q[O.random(Q.length-1)]}return O.shuffle(Q).slice(0,Math.max(0,R))};var a=function(P){if(P==null){return O.identity}if(O.isFunction(P)){return P}return O.property(P)};O.sortBy=function(R,Q,P){Q=a(Q);return O.pluck(O.map(R,function(U,S,T){return{value:U,index:S,criteria:Q.call(P,U,S,T)}}).sort(function(V,U){var T=V.criteria;var S=U.criteria;if(T!==S){if(T>S||T===void 0){return 1}if(T<S||S===void 0){return -1}}return V.index-U.index}),"value")};var v=function(P){return function(T,S,R){var Q={};S=a(S);K(T,function(W,U){var V=S.call(R,W,U,T);P(Q,V,W)});return Q}};O.groupBy=v(function(P,Q,R){O.has(P,Q)?P[Q].push(R):P[Q]=[R]});O.indexBy=v(function(P,Q,R){P[Q]=R});O.countBy=v(function(P,Q){O.has(P,Q)?P[Q]++:P[Q]=1});O.sortedIndex=function(W,V,S,R){S=a(S);var U=S.call(R,V);var P=0,T=W.length;while(P<T){var Q=(P+T)>>>1;S.call(R,W[Q])<U?P=Q+1:T=Q}return P};O.toArray=function(P){if(!P){return[]}if(O.isArray(P)){return q.call(P)}if(P.length===+P.length){return O.map(P,O.identity)}return O.values(P)};O.size=function(P){if(P==null){return 0}return(P.length===+P.length)?P.length:O.keys(P).length};O.first=O.head=O.take=function(R,Q,P){if(R==null){return void 0}if((Q==null)||P){return R[0]}if(Q<0){return[]}return q.call(R,0,Q)};O.initial=function(R,Q,P){return q.call(R,0,R.length-((Q==null)||P?1:Q))};O.last=function(R,Q,P){if(R==null){return void 0}if((Q==null)||P){return R[R.length-1]}return q.call(R,Math.max(R.length-Q,0))};O.rest=O.tail=O.drop=function(R,Q,P){return q.call(R,(Q==null)||P?1:Q)};O.compact=function(P){return O.filter(P,O.identity)};var z=function(Q,R,P){if(R&&O.every(Q,O.isArray)){return A.apply(P,Q)}K(Q,function(S){if(O.isArray(S)||O.isArguments(S)){R?J.apply(P,S):z(S,R,P)}else{P.push(S)}});return P};O.flatten=function(Q,P){return z(Q,P,[])};O.without=function(P){return O.difference(P,q.call(arguments,1))};O.partition=function(T,P,R){P=a(P);var S=[],Q=[];K(T,function(U){(P.call(R,U)?S:Q).push(U)});return[S,Q]};O.uniq=O.unique=function(V,U,T,S){if(O.isFunction(U)){S=T;T=U;U=false}var Q=T?O.map(V,T,S):V;var R=[];var P=[];K(Q,function(X,W){if(U?(!W||P[P.length-1]!==X):!O.contains(P,X)){P.push(X);R.push(V[W])}});return R};O.union=function(){return O.uniq(O.flatten(arguments,true))};O.intersection=function(Q){var P=q.call(arguments,1);return O.filter(O.uniq(Q),function(R){return O.every(P,function(S){return O.contains(S,R)})})};O.difference=function(Q){var P=A.apply(E,q.call(arguments,1));return O.filter(Q,function(R){return !O.contains(P,R)})};O.zip=function(){var R=O.max(O.pluck(arguments,"length").concat(0));var Q=new Array(R);for(var P=0;P<R;P++){Q[P]=O.pluck(arguments,""+P)}return Q};O.object=function(T,Q){if(T==null){return{}}var P={};for(var R=0,S=T.length;R<S;R++){if(Q){P[T[R]]=Q[R]}else{P[T[R][0]]=T[R][1]}}return P};O.indexOf=function(T,R,S){if(T==null){return -1}var P=0,Q=T.length;if(S){if(typeof S=="number"){P=(S<0?Math.max(0,Q+S):S)}else{P=O.sortedIndex(T,R);return T[P]===R?P:-1}}if(p&&T.indexOf===p){return T.indexOf(R,S)}for(;P<Q;P++){if(T[P]===R){return P}}return -1};O.lastIndexOf=function(T,R,S){if(T==null){return -1}var P=S!=null;if(n&&T.lastIndexOf===n){return P?T.lastIndexOf(R,S):T.lastIndexOf(R)}var Q=(P?S:T.length);while(Q--){if(T[Q]===R){return Q}}return -1};O.range=function(U,R,T){if(arguments.length<=1){R=U||0;U=0}T=arguments[2]||1;var S=Math.max(Math.ceil((R-U)/T),0);var P=0;var Q=new Array(S);while(P<S){Q[P++]=U;U+=T}return Q};var I=function(){};O.bind=function(S,Q){var P,R;if(H&&S.bind===H){return H.apply(S,q.call(arguments,1))}if(!O.isFunction(S)){throw new TypeError}P=q.call(arguments,2);return R=function(){if(!(this instanceof R)){return S.apply(Q,P.concat(q.call(arguments)))}I.prototype=S.prototype;var U=new I;I.prototype=null;var T=S.apply(U,P.concat(q.call(arguments)));if(Object(T)===T){return T}return U}};O.partial=function(P){var Q=q.call(arguments,1);return function(){var R=0;var S=Q.slice();for(var T=0,U=S.length;T<U;T++){if(S[T]===O){S[T]=arguments[R++]}}while(R<arguments.length){S.push(arguments[R++])}return P.apply(this,S)}};O.bindAll=function(Q){var P=q.call(arguments,1);if(P.length===0){throw new Error("bindAll must be passed function names")}K(P,function(R){Q[R]=O.bind(Q[R],Q)});return Q};O.memoize=function(R,Q){var P={};Q||(Q=O.identity);return function(){var S=Q.apply(this,arguments);return O.has(P,S)?P[S]:(P[S]=R.apply(this,arguments))}};O.delay=function(Q,R){var P=q.call(arguments,2);return setTimeout(function(){return Q.apply(null,P)},R)};O.defer=function(P){return O.delay.apply(O,[P,1].concat(q.call(arguments,1)))};O.throttle=function(Q,S,W){var P,U,X;var V=null;var T=0;W||(W={});var R=function(){T=W.leading===false?0:O.now();V=null;X=Q.apply(P,U);P=U=null};return function(){var Y=O.now();if(!T&&W.leading===false){T=Y}var Z=S-(Y-T);P=this;U=arguments;if(Z<=0){clearTimeout(V);V=null;T=Y;X=Q.apply(P,U);P=U=null}else{if(!V&&W.trailing!==false){V=setTimeout(R,Z)}}return X}};O.debounce=function(R,T,Q){var W,V,P,U,X;var S=function(){var Y=O.now()-U;if(Y<T){W=setTimeout(S,T-Y)}else{W=null;if(!Q){X=R.apply(P,V);P=V=null}}};return function(){P=this;V=arguments;U=O.now();var Y=Q&&!W;if(!W){W=setTimeout(S,T)}if(Y){X=R.apply(P,V);P=V=null}return X}};O.once=function(R){var P=false,Q;return function(){if(P){return Q}P=true;Q=R.apply(this,arguments);R=null;return Q}};O.wrap=function(P,Q){return O.partial(Q,P)};O.compose=function(){var P=arguments;return function(){var Q=arguments;for(var R=P.length-1;R>=0;R--){Q=[P[R].apply(this,Q)]}return Q[0]}};O.after=function(Q,P){return function(){if(--Q<1){return P.apply(this,arguments)}}};O.keys=function(R){if(!O.isObject(R)){return[]}if(f){return f(R)}var Q=[];for(var P in R){if(O.has(R,P)){Q.push(P)}}return Q};O.values=function(T){var S=O.keys(T);var R=S.length;var P=new Array(R);for(var Q=0;Q<R;Q++){P[Q]=T[S[Q]]}return P};O.pairs=function(T){var R=O.keys(T);var Q=R.length;var S=new Array(Q);for(var P=0;P<Q;P++){S[P]=[R[P],T[R[P]]]}return S};O.invert=function(T){var P={};var S=O.keys(T);for(var Q=0,R=S.length;Q<R;Q++){P[T[S[Q]]]=S[Q]}return P};O.functions=O.methods=function(R){var Q=[];for(var P in R){if(O.isFunction(R[P])){Q.push(P)}}return Q.sort()};O.extend=function(P){K(q.call(arguments,1),function(Q){if(Q){for(var R in Q){P[R]=Q[R]}}});return P};O.pick=function(Q){var R={};var P=A.apply(E,q.call(arguments,1));K(P,function(S){if(S in Q){R[S]=Q[S]}});return R};O.omit=function(R){var S={};var Q=A.apply(E,q.call(arguments,1));for(var P in R){if(!O.contains(Q,P)){S[P]=R[P]}}return S};O.defaults=function(P){K(q.call(arguments,1),function(Q){if(Q){for(var R in Q){if(P[R]===void 0){P[R]=Q[R]}}}});return P};O.clone=function(P){if(!O.isObject(P)){return P}return O.isArray(P)?P.slice():O.extend({},P)};O.tap=function(Q,P){P(Q);return Q};var L=function(W,V,Q,R){if(W===V){return W!==0||1/W==1/V}if(W==null||V==null){return W===V}if(W instanceof O){W=W._wrapped}if(V instanceof O){V=V._wrapped}var T=d.call(W);if(T!=d.call(V)){return false}switch(T){case"[object String]":return W==String(V);case"[object Number]":return W!=+W?V!=+V:(W==0?1/W==1/V:W==+V);case"[object Date]":case"[object Boolean]":return +W==+V;case"[object RegExp]":return W.source==V.source&&W.global==V.global&&W.multiline==V.multiline&&W.ignoreCase==V.ignoreCase}if(typeof W!="object"||typeof V!="object"){return false}var P=Q.length;while(P--){if(Q[P]==W){return R[P]==V}}var U=W.constructor,S=V.constructor;if(U!==S&&!(O.isFunction(U)&&(U instanceof U)&&O.isFunction(S)&&(S instanceof S))&&("constructor" in W&&"constructor" in V)){return false}Q.push(W);R.push(V);var Z=0,Y=true;if(T=="[object Array]"){Z=W.length;Y=Z==V.length;if(Y){while(Z--){if(!(Y=L(W[Z],V[Z],Q,R))){break}}}}else{for(var X in W){if(O.has(W,X)){Z++;if(!(Y=O.has(V,X)&&L(W[X],V[X],Q,R))){break}}}if(Y){for(X in V){if(O.has(V,X)&&!(Z--)){break}}Y=!Z}}Q.pop();R.pop();return Y};O.isEqual=function(Q,P){return L(Q,P,[],[])};O.isEmpty=function(Q){if(Q==null){return true}if(O.isArray(Q)||O.isString(Q)){return Q.length===0}for(var P in Q){if(O.has(Q,P)){return false}}return true};O.isElement=function(P){return !!(P&&P.nodeType===1)};O.isArray=w||function(P){return d.call(P)=="[object Array]"};O.isObject=function(P){return P===Object(P)};K(["Arguments","Function","String","Number","Date","RegExp"],function(P){O["is"+P]=function(Q){return d.call(Q)=="[object "+P+"]"}});if(!O.isArguments(arguments)){O.isArguments=function(P){return !!(P&&O.has(P,"callee"))}}if(typeof(/./)!=="function"){O.isFunction=function(P){return typeof P==="function"}}O.isFinite=function(P){return isFinite(P)&&!isNaN(parseFloat(P))};O.isNaN=function(P){return O.isNumber(P)&&P!=+P};O.isBoolean=function(P){return P===true||P===false||d.call(P)=="[object Boolean]"};O.isNull=function(P){return P===null};O.isUndefined=function(P){return P===void 0};O.has=function(Q,P){return l.call(Q,P)};O.noConflict=function(){y._=m;return this};O.identity=function(P){return P};O.constant=function(P){return function(){return P}};O.property=function(P){return function(Q){return Q[P]}};O.matches=function(P){return function(R){if(R===P){return true}for(var Q in P){if(P[Q]!==R[Q]){return false}}return true}};O.times=function(T,S,R){var P=Array(Math.max(0,T));for(var Q=0;Q<T;Q++){P[Q]=S.call(R,Q)}return P};O.random=function(Q,P){if(P==null){P=Q;Q=0}return Q+Math.floor(Math.random()*(P-Q+1))};O.now=Date.now||function(){return new Date().getTime()};var o={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};o.unescape=O.invert(o.escape);var M={escape:new RegExp("["+O.keys(o.escape).join("")+"]","g"),unescape:new RegExp("("+O.keys(o.unescape).join("|")+")","g")};O.each(["escape","unescape"],function(P){O[P]=function(Q){if(Q==null){return""}return(""+Q).replace(M[P],function(R){return o[P][R]})}});O.result=function(P,R){if(P==null){return void 0}var Q=P[R];return O.isFunction(Q)?Q.call(P):Q};O.mixin=function(P){K(O.functions(P),function(Q){var R=O[Q]=P[Q];O.prototype[Q]=function(){var S=[this._wrapped];J.apply(S,arguments);return u.call(this,R.apply(O,S))}})};var B=0;O.uniqueId=function(P){var Q=++B+"";return P?P+Q:Q};O.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var x=/(.)^/;var j={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var k=/\\|'|\r|\n|\t|\u2028|\u2029/g;O.template=function(X,S,R){var Q;R=O.defaults({},R,O.templateSettings);var T=new RegExp([(R.escape||x).source,(R.interpolate||x).source,(R.evaluate||x).source].join("|")+"|$","g");var U=0;var P="__p+='";X.replace(T,function(Z,aa,Y,ac,ab){P+=X.slice(U,ab).replace(k,function(ad){return"\\"+j[ad]});if(aa){P+="'+\n((__t=("+aa+"))==null?'':_.escape(__t))+\n'"}if(Y){P+="'+\n((__t=("+Y+"))==null?'':__t)+\n'"}if(ac){P+="';\n"+ac+"\n__p+='"}U=ab+Z.length;return Z});P+="';\n";if(!R.variable){P="with(obj||{}){\n"+P+"}\n"}P="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+P+"return __p;\n";try{Q=new Function(R.variable||"obj","_",P)}catch(V){V.source=P;throw V}if(S){return Q(S,O)}var W=function(Y){return Q.call(this,Y,O)};W.source="function("+(R.variable||"obj")+"){\n"+P+"}";return W};O.chain=function(P){return O(P).chain()};var u=function(P){return this._chain?O(P).chain():P};O.mixin(O);K(["pop","push","reverse","shift","sort","splice","unshift"],function(P){var Q=E[P];O.prototype[P]=function(){var R=this._wrapped;Q.apply(R,arguments);if((P=="shift"||P=="splice")&&R.length===0){delete R[0]}return u.call(this,R)}});K(["concat","join","slice"],function(P){var Q=E[P];O.prototype[P]=function(){return u.call(this,Q.apply(this._wrapped,arguments))}});O.extend(O.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}});if(typeof define==="function"&&define.amd){define("underscore",[],function(){return O})}}).call(this);(function(k,m,a){var f=["webkit","Moz","ms","O"];var r={};var q;function h(s,v){var t=m.createElement(s||"div");var u;for(u in v){t[u]=v[u]}return t}function j(t){for(var s=1,u=arguments.length;s<u;s++){t.appendChild(arguments[s])}return t}var l=function(){var s=h("style");j(m.getElementsByTagName("head")[0],s);return s.sheet||s.styleSheet}();function c(w,s,x,B){var t=["opacity",s,~~(w*100),x,B].join("-");var u=0.01+x/B*100;var A=Math.max(1-(1-w)/s*(100-u),w);var y=q.substring(0,q.indexOf("Animation")).toLowerCase();var v=y&&"-"+y+"-"||"";if(!r[t]){l.insertRule("@"+v+"keyframes "+t+"{0%{opacity:"+A+"}"+u+"%{opacity:"+w+"}"+(u+0.01)+"%{opacity:1}"+(u+s)%100+"%{opacity:"+w+"}100%{opacity:"+A+"}}",0);r[t]=1}return t}function p(w,x){var v=w.style;var t;var u;if(v[x]!==a){return x}x=x.charAt(0).toUpperCase()+x.slice(1);for(u=0;u<f.length;u++){t=f[u]+x;if(v[t]!==a){return t}}}function g(s,u){for(var t in u){s.style[p(s,t)||t]=u[t]}return s}function o(u){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var v in t){if(u[v]===a){u[v]=t[v]}}}return u}function n(s){var t={x:s.offsetLeft,y:s.offsetTop};while((s=s.offsetParent)){t.x+=s.offsetLeft;t.y+=s.offsetTop}return t}var d={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto"};var b=function b(s){if(!this.spin){return new b(s)}this.opts=o(s||{},b.defaults,d)};b.defaults={};o(b.prototype,{spin:function(z){this.stop();var D=this;var s=D.opts;var t=D.el=g(h(0,{className:s.className}),{position:"relative",zIndex:s.zIndex});var C=s.radius+s.length+s.width;var E;var B;if(z){z.insertBefore(t,z.firstChild||null);B=n(z);E=n(t);g(t,{left:(s.left=="auto"?B.x-E.x+(z.offsetWidth>>1):s.left+C)+"px",top:(s.top=="auto"?B.y-E.y+(z.offsetHeight>>1):s.top+C)+"px"})}t.setAttribute("aria-role","progressbar");D.lines(t,D.opts);if(!q){var w=0;var u=s.fps;var y=u/s.speed;var x=(1-s.opacity)/(y*s.trail/100);var A=y/s.lines;!function v(){w++;for(var F=s.lines;F;F--){var G=Math.max(1-(w+F*A)%y*x,s.opacity);D.opacity(t,s.lines-F,G,s)}D.timeout=D.el&&setTimeout(v,~~(1000/u))}()}return D},stop:function(){var s=this.el;if(s){clearTimeout(this.timeout);if(s.parentNode){s.parentNode.removeChild(s)}this.el=a}return this},lines:function(u,w){var t=0;var s;function v(x,y){return g(h(),{position:"absolute",width:(w.length+w.width)+"px",height:w.width+"px",background:x,boxShadow:y,transformOrigin:"left",transform:"rotate("+~~(360/w.lines*t+w.rotate)+"deg) translate("+w.radius+"px,0)",borderRadius:(w.width>>1)+"px"})}for(;t<w.lines;t++){s=g(h(),{position:"absolute",top:1+~(w.width/2)+"px",transform:w.hwaccel?"translate3d(0,0,0)":"",opacity:w.opacity,animation:q&&c(w.opacity,w.trail,t,w.lines)+" "+1/w.speed+"s linear infinite"});if(w.shadow){j(s,g(v("#000","0 0 4px #000"),{top:2+"px"}))}j(u,j(s,v(w.color,"0 0 1px rgba(0,0,0,.1)")))}return u},opacity:function(t,s,u){if(s<t.childNodes.length){t.childNodes[s].style.opacity=u}}});!function(){function t(v,s){return h("<"+v+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',s)}var u=g(h("group"),{behavior:"url(#default#VML)"});if(!p(u,"transform")&&u.adj){l.addRule(".spin-vml","behavior:url(#default#VML)");b.prototype.lines=function(x,w){var v=w.length+w.width;var D=2*v;function C(){return g(t("group",{coordsize:D+" "+D,coordorigin:-v+" "+-v}),{width:D,height:D})}var y=-(w.width+w.length)*2+"px";var B=g(C(),{position:"absolute",top:y,left:y});var A;function z(E,s,F){j(B,j(g(C(),{rotation:360/w.lines*E+"deg",left:~~s}),j(g(t("roundrect",{arcsize:1}),{width:v,height:w.width,left:w.radius,top:-w.width>>1,filter:F}),t("fill",{color:w.color,opacity:w.opacity}),t("stroke",{opacity:0}))))}if(w.shadow){for(A=1;A<=w.lines;A++){z(A,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(A=1;A<=w.lines;A++){z(A)}return j(x,B)};b.prototype.opacity=function(v,s,x,w){var y=v.firstChild;w=w.shadow&&w.lines||0;if(y&&s+w<y.childNodes.length){y=y.childNodes[s+w];y=y&&y.firstChild;y=y&&y.firstChild;if(y){y.opacity=x}}}}else{q=p(u,"animation")}}();k.Spinner=b})(window,document);var bootbox=window.bootbox||(function(d){var a="en",c="en",j=true,h={},b={};var f={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"}};function g(l,k){if(k==null){k=a}if(typeof f[k][l]=="string"){return f[k][l]}if(k!=c){return g(l,c)}return l}b.setLocale=function(k){for(var l in f){if(l==k){a=k;return}}throw new Error("Invalid locale: "+k)};b.addLocale=function(k,l){if(typeof f[k]=="undefined"){f[k]={}}for(var m in l){f[k][m]=l[m]}};b.setIcons=function(k){h=k;if(typeof h!=="object"||h==null){h={}}};b.alert=function(){var m="",l=g("OK"),k=null;switch(arguments.length){case 1:m=arguments[0];break;case 2:m=arguments[0];if(typeof arguments[1]=="function"){k=arguments[1]}else{l=arguments[1]}break;case 3:m=arguments[0];l=arguments[1];k=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3");break}return b.dialog(m,{label:l,icon:h.OK,callback:k},{onEscape:k})};b.confirm=function(){var n="",m=g("CANCEL"),l=g("CONFIRM"),k=null;switch(arguments.length){case 1:n=arguments[0];break;case 2:n=arguments[0];if(typeof arguments[1]=="function"){k=arguments[1]}else{m=arguments[1]}break;case 3:n=arguments[0];m=arguments[1];if(typeof arguments[2]=="function"){k=arguments[2]}else{l=arguments[2]}break;case 4:n=arguments[0];m=arguments[1];l=arguments[2];k=arguments[3];break;default:throw new Error("Incorrect number of arguments: expected 1-4");break}return b.dialog(n,[{label:m,icon:h.CANCEL,callback:function(){if(typeof k=="function"){k(false)}}},{label:l,icon:h.CONFIRM,callback:function(){if(typeof k=="function"){k(true)}}}])};b.prompt=function(){var o="",m=g("CANCEL"),l=g("CONFIRM"),k=null;switch(arguments.length){case 1:o=arguments[0];break;case 2:o=arguments[0];if(typeof arguments[1]=="function"){k=arguments[1]}else{m=arguments[1]}break;case 3:o=arguments[0];m=arguments[1];if(typeof arguments[2]=="function"){k=arguments[2]}else{l=arguments[2]}break;case 4:o=arguments[0];m=arguments[1];l=arguments[2];k=arguments[3];break;default:throw new Error("Incorrect number of arguments: expected 1-4");break}var q=o;var n=d("<form></form>");n.append("<input autocomplete=off type=text />");var p=b.dialog(n,[{label:m,icon:h.CANCEL,callback:function(){if(typeof k=="function"){k(null)}}},{label:l,icon:h.CONFIRM,callback:function(){if(typeof k=="function"){k(n.find("input[type=text]").val())}}}],{header:q});p.on("shown",function(){n.find("input[type=text]").focus();n.on("submit",function(r){r.preventDefault();p.find(".btn-primary").click()})});return p};b.modal=function(){var n;var m;var l;var k={onEscape:null,keyboard:true,backdrop:true};switch(arguments.length){case 1:n=arguments[0];break;case 2:n=arguments[0];if(typeof arguments[1]=="object"){l=arguments[1]}else{m=arguments[1]}break;case 3:n=arguments[0];m=arguments[1];l=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3");break}k.header=m;if(typeof l=="object"){l=d.extend(k,l)}else{l=k}return b.dialog(n,[],l)};b.dialog=function(v,u,n){var k=null,y="",B=[],n=n||{};if(u==null){u=[]}else{if(typeof u.length=="undefined"){u=[u]}}var x=u.length;while(x--){var r=null,m=null,z="",o=null;if(typeof u[x]["label"]=="undefined"&&typeof u[x]["class"]=="undefined"&&typeof u[x]["callback"]=="undefined"){var A=0,p=null;for(var w in u[x]){p=w;if(++A>1){break}}if(A==1&&typeof u[x][w]=="function"){u[x]["label"]=p;u[x]["callback"]=u[x][w]}}if(typeof u[x]["callback"]=="function"){o=u[x]["callback"]}if(u[x]["class"]){m=u[x]["class"]}else{if(x==u.length-1&&u.length<=2){m="btn-primary"}}if(u[x]["label"]){r=u[x]["label"]}else{r="Option "+(x+1)}if(u[x]["icon"]){z="<i class='"+u[x]["icon"]+"'></i> "}y+="<a data-handler='"+x+"' class='btn "+m+"' href='javascript:;'>"+z+""+r+"</a>";B[x]=o}var t=["<div class='bootbox modal'>"];if(n.header){var l="";if(typeof n.headerCloseButton=="undefined"||n.headerCloseButton){l="<a href='javascript:;' class='close'>&times;</a>"}t.push("<div class='modal-header'>"+l+"<h3>"+n.header+"</h3></div>")}t.push("<div class='modal-body'></div>");if(y){t.push("<div class='modal-footer'>"+y+"</div>")}t.push("</div>");var s=d(t.join("\n"));var q=(typeof n.animate==="undefined")?j:n.animate;if(q){s.addClass("fade")}d(".modal-body",s).html(v);s.bind("hidden",function(){s.remove()});s.bind("hide",function(){if(k=="escape"&&typeof n.onEscape=="function"){n.onEscape()}});d(document).bind("keyup.modal",function(C){if(C.which==27){k="escape"}});s.bind("shown",function(){d("a.btn-primary:last",s).focus()});s.on("click",".modal-footer a, a.close",function(F){var D=d(this).data("handler"),C=B[D],E=null;if(typeof C=="function"){E=C()}if(E!==false){F.preventDefault();k="button";s.modal("hide")}});if(n.keyboard==null){n.keyboard=(typeof n.onEscape=="function")}d("body").append(s);s.modal({backdrop:n.backdrop||true,keyboard:n.keyboard});return s};b.hideAll=function(){d(".bootbox").modal("hide")};b.animate=function(k){j=k};return b})(window.jQuery);(function(u){var Z,B="2.0.0",ad=Math.round,af,Q={},P=(typeof module!=="undefined"&&module.exports),y=/^\/?Date\((\-?\d+)/i,m=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,s=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ai=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,h=/\d\d?/,R=/\d{1,3}/,T=/\d{3}/,J=/\d{1,4}/,r=/[+\-]?\d{1,6}/,K=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,b=/Z|[\+\-]\d\d:?\d\d/i,v=/T/i,q=/[\+\-]?\d+(\.\d{1,3})?/,L=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,d="YYYY-MM-DDTHH:mm:ssZ",k=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],D=/([\+\-]|\d\d)/gi,o="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),aa={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},n={},G="DDD w W M D d".split(" "),x="M D H h m s w W".split(" "),j={M:function(){return this.month()+1},MMM:function(ak){return this.lang().monthsShort(this,ak)},MMMM:function(ak){return this.lang().months(this,ak)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(ak){return this.lang().weekdaysMin(this,ak)},ddd:function(ak){return this.lang().weekdaysShort(this,ak)},dddd:function(ak){return this.lang().weekdays(this,ak)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return ac(this.year()%100,2)},YYYY:function(){return ac(this.year(),4)},YYYYY:function(){return ac(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return ~~(this.milliseconds()/100)},SS:function(){return ac(~~(this.milliseconds()/10),2)},SSS:function(){return ac(this.milliseconds(),3)},Z:function(){var al=-this.zone(),ak="+";if(al<0){al=-al;ak="-"}return ak+ac(~~(al/60),2)+":"+ac(~~al%60,2)},ZZ:function(){var al=-this.zone(),ak="+";if(al<0){al=-al;ak="-"}return ak+ac(~~(10*al/6),4)},X:function(){return this.unix()}};function N(al,ak){return function(am){return ac(al.call(this,am),ak)}}function H(ak){return function(al){return this.lang().ordinal(ak.call(this,al))}}while(G.length){af=G.pop();j[af+"o"]=H(j[af])}while(x.length){af=x.pop();j[af+af]=N(j[af],2)}j.DDDD=N(j.DDD,3);function ah(){}function w(ak){t(this,ak)}function aj(an){var ap=this._data={},aq=an.years||an.year||an.y||0,al=an.months||an.month||an.M||0,ak=an.weeks||an.week||an.w||0,au=an.days||an.day||an.d||0,ar=an.hours||an.hour||an.h||0,ao=an.minutes||an.minute||an.m||0,at=an.seconds||an.second||an.s||0,am=an.milliseconds||an.millisecond||an.ms||0;this._milliseconds=am+at*1000+ao*60000+ar*3600000;this._days=au+ak*7;this._months=al+aq*12;ap.milliseconds=am%1000;at+=Y(am/1000);ap.seconds=at%60;ao+=Y(at/60);ap.minutes=ao%60;ar+=Y(ao/60);ap.hours=ar%24;au+=Y(ar/24);au+=ak*7;ap.days=au%30;al+=Y(au/30);ap.months=al%12;aq+=Y(al/12);ap.years=aq}function t(al,ak){for(var am in ak){if(ak.hasOwnProperty(am)){al[am]=ak[am]}}return al}function Y(ak){if(ak<0){return Math.ceil(ak)}else{return Math.floor(ak)}}function ac(am,al){var ak=am+"";while(ak.length<al){ak="0"+ak}return ak}function V(am,ao,an){var al=ao._milliseconds,ap=ao._days,aq=ao._months,ak;if(al){am._d.setTime(+am+al*an)}if(ap){am.date(am.date()+ap*an)}if(aq){ak=am.date();am.date(1).month(am.month()+aq*an).date(Math.min(ak,am.daysInMonth()))}}function E(ak){return Object.prototype.toString.call(ak)==="[object Array]"}function U(ao,an){var ak=Math.min(ao.length,an.length),al=Math.abs(ao.length-an.length),ap=0,am;for(am=0;am<ak;am++){if(~~ao[am]!==~~an[am]){ap++}}return ap+al}ah.prototype={set:function(ak){var am,al;for(al in ak){am=ak[al];if(typeof am==="function"){this[al]=am}else{this["_"+al]=am}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(ak){return this._months[ak.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(ak){return this._monthsShort[ak.month()]},monthsParse:function(ak){var am,ao,an,al;if(!this._monthsParse){this._monthsParse=[]}for(am=0;am<12;am++){if(!this._monthsParse[am]){ao=Z([2000,am]);an="^"+this.months(ao,"")+"|^"+this.monthsShort(ao,"");this._monthsParse[am]=new RegExp(an.replace(".",""),"i")}if(this._monthsParse[am].test(ak)){return am}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(ak){return this._weekdays[ak.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(ak){return this._weekdaysShort[ak.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(ak){return this._weekdaysMin[ak.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(al){var ak=this._longDateFormat[al];if(!ak&&this._longDateFormat[al.toUpperCase()]){ak=this._longDateFormat[al.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(am){return am.slice(1)});this._longDateFormat[al]=ak}return ak},meridiem:function(ak,al,am){if(ak>11){return am?"pm":"PM"}else{return am?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(al,am){var ak=this._calendar[al];return typeof ak==="function"?ak.apply(am):ak},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(an,am,al,ao){var ak=this._relativeTime[al];return(typeof ak==="function")?ak(an,am,al,ao):ak.replace(/%d/i,an)},pastFuture:function(am,ak){var al=this._relativeTime[am>0?"future":"past"];return typeof al==="function"?al(ak):al.replace(/%s/i,ak)},ordinal:function(ak){return this._ordinal.replace("%d",ak)},_ordinal:"%d",preparse:function(ak){return ak},postformat:function(ak){return ak},week:function(ak){return S(ak,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}};function A(al,ak){ak.abbr=al;if(!Q[al]){Q[al]=new ah()}Q[al].set(ak);return Q[al]}function z(ak){if(!ak){return Z.fn._lang}if(!Q[ak]&&P){require("./lang/"+ak)}return Q[ak]}function I(ak){if(ak.match(/\[.*\]/)){return ak.replace(/^\[|\]$/g,"")}return ak.replace(/\\/g,"")}function X(am){var an=am.match(m),ak,al;for(ak=0,al=an.length;ak<al;ak++){if(j[an[ak]]){an[ak]=j[an[ak]]}else{an[ak]=I(an[ak])}}return function(ap){var ao="";for(ak=0;ak<al;ak++){ao+=typeof an[ak].call==="function"?an[ak].call(ap,am):an[ak]}return ao}}function O(ak,an){var al=5;function am(ao){return ak.lang().longDateFormat(ao)||ao}while(al--&&s.test(an)){an=an.replace(s,am)}if(!n[an]){n[an]=X(an)}return n[an](ak)}function g(ak){switch(ak){case"DDDD":return T;case"YYYY":return J;case"YYYYY":return r;case"S":case"SS":case"SSS":case"DDD":return R;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return K;case"X":return q;case"Z":case"ZZ":return b;case"T":return v;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return h;default:return new RegExp(ak.replace("\\",""))}}function f(ap,an,ao){var am,ak,al=ao._a;switch(ap){case"M":case"MM":al[1]=(an==null)?0:~~an-1;break;case"MMM":case"MMMM":am=z(ao._l).monthsParse(an);if(am!=null){al[1]=am}else{ao._isValid=false}break;case"D":case"DD":case"DDD":case"DDDD":if(an!=null){al[2]=~~an}break;case"YY":al[0]=~~an+(~~an>68?1900:2000);break;case"YYYY":case"YYYYY":al[0]=~~an;break;case"a":case"A":ao._isPm=((an+"").toLowerCase()==="pm");break;case"H":case"HH":case"h":case"hh":al[3]=~~an;break;case"m":case"mm":al[4]=~~an;break;case"s":case"ss":al[5]=~~an;break;case"S":case"SS":case"SSS":al[6]=~~(("0."+an)*1000);break;case"X":ao._d=new Date(parseFloat(an)*1000);break;case"Z":case"ZZ":ao._useUTC=true;am=(an+"").match(D);if(am&&am[1]){ao._tzh=~~am[1]}if(am&&am[2]){ao._tzm=~~am[2]}if(am&&am[0]==="+"){ao._tzh=-ao._tzh;ao._tzm=-ao._tzm}break}if(an==null){ao._isValid=false}}function l(am){var an,al,ak=[];if(am._d){return}for(an=0;an<7;an++){am._a[an]=ak[an]=(am._a[an]==null)?(an===2?1:0):am._a[an]}ak[3]+=am._tzh||0;ak[4]+=am._tzm||0;al=new Date(0);if(am._useUTC){al.setUTCFullYear(ak[0],ak[1],ak[2]);al.setUTCHours(ak[3],ak[4],ak[5],ak[6])}else{al.setFullYear(ak[0],ak[1],ak[2]);al.setHours(ak[3],ak[4],ak[5],ak[6])}am._d=al}function M(al){var ao=al._f.match(m),ak=al._i,am,an;al._a=[];for(am=0;am<ao.length;am++){an=(g(ao[am]).exec(ak)||[])[0];if(an){ak=ak.slice(ak.indexOf(an)+an.length)}if(j[ao[am]]){f(ao[am],an,al)}}if(al._isPm&&al._a[3]<12){al._a[3]+=12}if(al._isPm===false&&al._a[3]===12){al._a[3]=0}l(al)}function C(al){var ap,ak,an,ao=99,am,aq;for(am=al._f.length;am>0;am--){ap=t({},al);ap._f=al._f[am-1];M(ap);ak=new w(ap);if(ak.isValid()){an=ak;break}aq=U(ap._a,ak.toArray());if(aq<ao){ao=aq;an=ak}}t(al,an)}function ab(al){var am,ak=al._i;if(L.exec(ak)){al._f="YYYY-MM-DDT";for(am=0;am<4;am++){if(k[am][1].exec(ak)){al._f+=k[am][0];break}}if(b.exec(ak)){al._f+=" Z"}M(al)}else{al._d=new Date(ak)}}function ag(am){var al=am._i,ak=y.exec(al);if(al===u){am._d=new Date()}else{if(ak){am._d=new Date(+ak[1])}else{if(typeof al==="string"){ab(am)}else{if(E(al)){am._a=al.slice(0);l(am)}else{am._d=al instanceof Date?new Date(+al):new Date(al)}}}}}function W(ak,am,al,an,ao){return ao.relativeTime(am||1,!!al,ak,an)}function F(am,ak,al){var ar=ad(Math.abs(am)/1000),an=ad(ar/60),aq=ad(an/60),at=ad(aq/24),ao=ad(at/365),ap=ar<45&&["s",ar]||an===1&&["m"]||an<45&&["mm",an]||aq===1&&["h"]||aq<22&&["hh",aq]||at===1&&["d"]||at<=25&&["dd",at]||at<=45&&["M"]||at<345&&["MM",ad(at/30)]||ao===1&&["y"]||["yy",ao];ap[2]=ak;ap[3]=am>0;ap[4]=al;return W.apply({},ap)}function S(an,am,ao){var al=ao-am,ak=ao-an.day();if(ak>al){ak-=7}if(ak<al-7){ak+=7}return Math.ceil(Z(an).add("d",ak).dayOfYear()/7)}function ae(al){var ak=al._i,am=al._f;if(ak===null||ak===""){return null}if(typeof ak==="string"){al._i=ak=z().preparse(ak)}if(Z.isMoment(ak)){al=t({},ak);al._d=new Date(+ak._d)}else{if(am){if(E(am)){C(al)}else{M(al)}}else{ag(al)}}return new w(al)}Z=function(ak,al,am){return ae({_i:ak,_f:al,_l:am,_isUTC:false})};Z.utc=function(ak,al,am){return ae({_useUTC:true,_isUTC:true,_l:am,_i:ak,_f:al})};Z.unix=function(ak){return Z(ak*1000)};Z.duration=function(ak,ao){var an=Z.isDuration(ak),am=(typeof ak==="number"),ap=(an?ak._data:(am?{}:ak)),al;if(am){if(ao){ap[ao]=ak}else{ap.milliseconds=ak}}al=new aj(ap);if(an&&ak.hasOwnProperty("_lang")){al._lang=ak._lang}return al};Z.version=B;Z.defaultFormat=d;Z.lang=function(am,ak){var al;if(!am){return Z.fn._lang._abbr}if(ak){A(am,ak)}else{if(!Q[am]){z(am)}}Z.duration.fn._lang=Z.fn._lang=z(am)};Z.langData=function(ak){if(ak&&ak._lang&&ak._lang._abbr){ak=ak._lang._abbr}return z(ak)};Z.isMoment=function(ak){return ak instanceof w};Z.isDuration=function(ak){return ak instanceof aj};Z.fn=w.prototype={clone:function(){return Z(this)},valueOf:function(){return +this._d},unix:function(){return Math.floor(+this._d/1000)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return Z(this).utc().format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var ak=this;return[ak.year(),ak.month(),ak.date(),ak.hours(),ak.minutes(),ak.seconds(),ak.milliseconds()]},isValid:function(){if(this._isValid==null){if(this._a){this._isValid=!U(this._a,(this._isUTC?Z.utc(this._a):Z(this._a)).toArray())}else{this._isValid=!isNaN(this._d.getTime())}}return !!this._isValid},utc:function(){this._isUTC=true;return this},local:function(){this._isUTC=false;return this},format:function(al){var ak=O(this,al||Z.defaultFormat);return this.lang().postformat(ak)},add:function(ak,am){var al;if(typeof ak==="string"){al=Z.duration(+am,ak)}else{al=Z.duration(ak,am)}V(this,al,1);return this},subtract:function(ak,am){var al;if(typeof ak==="string"){al=Z.duration(+am,ak)}else{al=Z.duration(ak,am)}V(this,al,-1);return this},diff:function(ao,an,ak){var ap=this._isUTC?Z(ao).utc():Z(ao).local(),al=(this.zone()-ap.zone())*60000,aq,am;if(an){an=an.replace(/s$/,"")}if(an==="year"||an==="month"){aq=(this.daysInMonth()+ap.daysInMonth())*43200000;am=((this.year()-ap.year())*12)+(this.month()-ap.month());am+=((this-Z(this).startOf("month"))-(ap-Z(ap).startOf("month")))/aq;if(an==="year"){am=am/12}}else{aq=(this-ap)-al;am=an==="second"?aq/1000:an==="minute"?aq/60000:an==="hour"?aq/3600000:an==="day"?aq/86400000:an==="week"?aq/604800000:aq}return ak?am:Y(am)},from:function(al,ak){return Z.duration(this.diff(al)).lang(this.lang()._abbr).humanize(!ak)},fromNow:function(ak){return this.from(Z(),ak)},calendar:function(){var al=this.diff(Z().startOf("day"),"days",true),ak=al<-6?"sameElse":al<-1?"lastWeek":al<0?"lastDay":al<1?"sameDay":al<2?"nextDay":al<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(ak,this))},isLeapYear:function(){var ak=this.year();return(ak%4===0&&ak%100!==0)||ak%400===0},isDST:function(){return(this.zone()<Z([this.year()]).zone()||this.zone()<Z([this.year(),5]).zone())},day:function(al){var ak=this._isUTC?this._d.getUTCDay():this._d.getDay();return al==null?ak:this.add({d:al-ak})},startOf:function(ak){ak=ak.replace(/s$/,"");switch(ak){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(ak==="week"){this.day(0)}return this},endOf:function(ak){return this.startOf(ak).add(ak.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(al,ak){ak=typeof ak!=="undefined"?ak:"millisecond";return +this.clone().startOf(ak)>+Z(al).startOf(ak)},isBefore:function(al,ak){ak=typeof ak!=="undefined"?ak:"millisecond";return +this.clone().startOf(ak)<+Z(al).startOf(ak)},isSame:function(al,ak){ak=typeof ak!=="undefined"?ak:"millisecond";return +this.clone().startOf(ak)===+Z(al).startOf(ak)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return Z.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(ak){var al=ad((Z(this).startOf("day")-Z(this).startOf("year"))/86400000)+1;return ak==null?al:this.add("d",(ak-al))},isoWeek:function(ak){var al=S(this,1,4);return ak==null?al:this.add("d",(ak-al)*7)},week:function(ak){var al=this.lang().week(this);return ak==null?al:this.add("d",(ak-al)*7)},lang:function(ak){if(ak===u){return this._lang}else{this._lang=z(ak);return this}}};function p(ak,al){Z.fn[ak]=Z.fn[ak+"s"]=function(am){var an=this._isUTC?"UTC":"";if(am!=null){this._d["set"+an+al](am);return this}else{return this._d["get"+an+al]()}}}for(af=0;af<o.length;af++){p(o[af].toLowerCase().replace(/s$/,""),o[af])}p("year","FullYear");Z.fn.days=Z.fn.day;Z.fn.weeks=Z.fn.week;Z.fn.isoWeeks=Z.fn.isoWeek;Z.duration.fn=aj.prototype={weeks:function(){return Y(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*86400000+this._months*2592000000},humanize:function(al){var am=+this,ak=F(am,!al,this.lang());if(al){ak=this.lang().pastFuture(am,ak)}return this.lang().postformat(ak)},lang:Z.fn.lang};function a(ak){Z.duration.fn[ak]=function(){return this._data[ak]}}function c(ak,al){Z.duration.fn["as"+ak]=function(){return +this/al}}for(af in aa){if(aa.hasOwnProperty(af)){c(af,aa[af]);a(af.toLowerCase())}}c("Weeks",604800000);Z.lang("en",{ordinal:function(am){var ak=am%10,al=(~~(am%100/10)===1)?"th":(ak===1)?"st":(ak===2)?"nd":(ak===3)?"rd":"th";return am+al}});if(P){module.exports=Z}if(typeof ender==="undefined"){this["moment"]=Z}if(typeof define==="function"&&define.amd){define("moment",[],function(){return Z})}}).call(this);(function(a){a.fn.lightbox_me=function(b){return this.each(function(){var f=a.extend({},a.fn.lightbox_me.defaults,b),n=a(),m=a(this),o=a('<iframe id="foo" style="z-index: '+(f.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>'),h=navigator.userAgent.match(/MSIE 6/);if(f.showOverlay){var g=a(".js_lb_overlay:visible");if(g.length>0){n=a('<div class="lb_overlay_clear js_lb_overlay"/>')}else{n=a('<div class="'+f.classPrefix+'_overlay js_lb_overlay"/>')}}if(h){var d=/^https/i.test(window.location.href||"")?"javascript:false":"about:blank";o.attr("src",d);a("body").append(o)}a("body").append(m.hide()).append(n);if(f.showOverlay){j();n.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:(f.zIndex+2),display:"none"});if(!n.hasClass("lb_overlay_clear")){n.css(f.overlayCSS)}}if(f.showOverlay){n.fadeIn(f.overlaySpeed,function(){c();m[f.appearEffect](f.lightboxSpeed,function(){j();c();f.onLoad()})})}else{c();m[f.appearEffect](f.lightboxSpeed,function(){f.onLoad()})}if(f.parentLightbox){f.parentLightbox.fadeOut(200)}a(window).resize(j).resize(c).scroll(c);a(window).bind("keyup.lightbox_me",l);if(f.closeClick){n.click(function(p){k();p.preventDefault})}m.delegate(f.closeSelector,"click",function(p){k();p.preventDefault()});m.bind("close",k);m.bind("reposition",c);function k(){var p=m[0].style;if(f.destroyOnClose){m.add(n).remove()}else{m.add(n).hide()}if(f.parentLightbox){f.parentLightbox.fadeIn(200)}o.remove();m.undelegate(f.closeSelector,"click");a(window).unbind("reposition",j);a(window).unbind("reposition",c);a(window).unbind("scroll",c);a(window).unbind("keyup.lightbox_me");if(h){p.removeExpression("top")}f.onClose()}function l(p){if((p.keyCode==27||(p.DOM_VK_ESCAPE==27&&p.which==0))&&f.closeEsc){k()}}function j(){if(a(window).height()<a(document).height()){n.css({height:a(document).height()+"px"});o.css({height:a(document).height()+"px"})}else{n.css({height:"100%"});if(h){a("html,body").css("height","100%");o.css("height","100%")}}}function c(){var q=m[0].style;m.css({left:"50%",marginLeft:(m.outerWidth()/2)*-1,zIndex:(f.zIndex+3)});if((m.height()+80>=a(window).height())&&(m.css("position")!="absolute"||h)){var p=a(document).scrollTop()+40;m.css({position:"absolute",top:p+"px",marginTop:0});if(h){q.removeExpression("top")}}else{if(m.height()+80<a(window).height()){if(h){q.position="absolute";if(f.centered){q.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');q.marginTop=0}else{var r=(f.modalCSS&&f.modalCSS.top)?parseInt(f.modalCSS.top):0;q.setExpression("top","((blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"')}}else{if(f.centered){m.css({position:"fixed",top:"50%",marginTop:(m.outerHeight()/2)*-1})}else{m.css({position:"fixed"}).css(f.modalCSS)}}}}}})};a.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:true,closeEsc:true,destroyOnClose:false,showOverlay:true,parentLightbox:false,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:false,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:0.3}}})(jQuery);
/*!
 * jQuery Form Plugin
 * version: 3.20 (20-NOV-2012)
 * @requires jQuery v1.5 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */
;(function(f){var c={};c.fileapi=f("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;f.fn.ajaxSubmit=function(j){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var h,A,m,o=this;if(typeof j=="function"){j={success:j}}h=this.attr("method");A=this.attr("action");m=(typeof A==="string")?f.trim(A):"";m=m||window.location.href||"";if(m){m=(m.match(/^([^#]+)/)||[])[1]}j=f.extend(true,{url:m,success:f.ajaxSettings.success,type:h||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},j);var u={};this.trigger("form-pre-serialize",[this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(j.beforeSerialize&&j.beforeSerialize(this,j)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n=j.traditional;if(n===undefined){n=f.ajaxSettings.traditional}var s=[];var D,E=this.formToArray(j.semantic,s);if(j.data){j.extraData=j.data;D=f.param(j.data,n)}if(j.beforeSubmit&&j.beforeSubmit(E,this,j)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[E,this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=f.param(E,n);if(D){y=(y?(y+"&"+D):D)}if(j.type.toUpperCase()=="GET"){j.url+=(j.url.indexOf("?")>=0?"&":"?")+y;j.data=null}else{j.data=y}var G=[];if(j.resetForm){G.push(function(){o.resetForm()})}if(j.clearForm){G.push(function(){o.clearForm(j.includeHidden)})}if(!j.dataType&&j.target){var l=j.success||function(){};G.push(function(q){var k=j.replaceTarget?"replaceWith":"html";f(j.target)[k](q).each(l,arguments)})}else{if(j.success){G.push(j.success)}}j.success=function(J,q,K){var I=j.context||this;for(var H=0,k=G.length;H<k;H++){G[H].apply(I,[J,q,K||o,o])}};var C=f('input[type=file]:enabled[value!=""]',this);var p=C.length>0;var B="multipart/form-data";var x=(o.attr("enctype")==B||o.attr("encoding")==B);var w=c.fileapi&&c.formdata;d("fileAPI :"+w);var r=(p||x)&&!w;var v;if(j.iframe!==false&&(j.iframe||r)){if(j.closeKeepAlive){f.get(j.closeKeepAlive,function(){v=F(E)})}else{v=F(E)}}else{if((p||x)&&w){v=t(E)}else{v=f.ajax(j)}}o.removeData("jqxhr").data("jqxhr",v);for(var z=0;z<s.length;z++){s[z]=null}this.trigger("form-submit-notify",[this,j]);return this;function g(J){var K=f.param(J).split("&");var q=K.length;var k={};var I,H;for(I=0;I<q;I++){H=K[I].split("=");k[decodeURIComponent(H[0])]=decodeURIComponent(H[1])}return k}function t(q){var k=new FormData();for(var H=0;H<q.length;H++){k.append(q[H].name,q[H].value)}if(j.extraData){var K=g(j.extraData);for(var L in K){if(K.hasOwnProperty(L)){k.append(L,K[L])}}}j.data=null;var J=f.extend(true,{},f.ajaxSettings,j,{contentType:false,processData:false,cache:false,type:h||"POST"});if(j.uploadProgress){J.xhr=function(){var M=jQuery.ajaxSettings.xhr();if(M.upload){M.upload.onprogress=function(Q){var P=0;var N=Q.loaded||Q.position;var O=Q.total;if(Q.lengthComputable){P=Math.ceil(N/O*100)}j.uploadProgress(Q,N,O,P)}}return M}}J.data=null;var I=J.beforeSend;J.beforeSend=function(N,M){M.data=k;if(I){I.call(this,N,M)}};return f.ajax(J)}function F(af){var K=o[0],J,ab,V,ad,Y,M,Q,O,P,Z,ac,T;var N=!!f.fn.prop;var ai=f.Deferred();if(f("[name=submit],[id=submit]",K).length){alert('Error: Form elements must not have name or id of "submit".');ai.reject();return ai}if(af){for(ab=0;ab<s.length;ab++){J=f(s[ab]);if(N){J.prop("disabled",false)}else{J.removeAttr("disabled")}}}V=f.extend(true,{},f.ajaxSettings,j);V.context=V.context||V;Y="jqFormIO"+(new Date().getTime());if(V.iframeTarget){M=f(V.iframeTarget);Z=M.attr("name");if(!Z){M.attr("name",Y)}else{Y=Z}}else{M=f('<iframe name="'+Y+'" src="'+V.iframeSrc+'" />');M.css({position:"absolute",top:"-1000px",left:"-1000px"})}Q=M[0];O={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ak=(aj==="timeout"?"timeout":"aborted");d("aborting upload... "+ak);this.aborted=1;if(Q.contentWindow.document.execCommand){try{Q.contentWindow.document.execCommand("Stop")}catch(al){}}M.attr("src",V.iframeSrc);O.error=ak;if(V.error){V.error.call(V.context,O,ak,aj)}if(ad){f.event.trigger("ajaxError",[O,V,ak])}if(V.complete){V.complete.call(V.context,O,ak)}}};ad=V.global;if(ad&&0===f.active++){f.event.trigger("ajaxStart")}if(ad){f.event.trigger("ajaxSend",[O,V])}if(V.beforeSend&&V.beforeSend.call(V.context,O,V)===false){if(V.global){f.active--}ai.reject();return ai}if(O.aborted){ai.reject();return ai}P=K.clk;if(P){Z=P.name;if(Z&&!P.disabled){V.extraData=V.extraData||{};V.extraData[Z]=P.value;if(P.type=="image"){V.extraData[Z+".x"]=K.clk_x;V.extraData[Z+".y"]=K.clk_y}}}var U=1;var R=2;function S(ak){var aj=ak.contentWindow?ak.contentWindow.document:ak.contentDocument?ak.contentDocument:ak.document;return aj}var I=f("meta[name=csrf-token]").attr("content");var H=f("meta[name=csrf-param]").attr("content");if(H&&I){V.extraData=V.extraData||{};V.extraData[H]=I}function aa(){var al=o.attr("target"),aj=o.attr("action");K.setAttribute("target",Y);if(!h){K.setAttribute("method","POST")}if(aj!=V.url){K.setAttribute("action",V.url)}if(!V.skipEncodingOverride&&(!h||/post/i.test(h))){o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(V.timeout){T=setTimeout(function(){ac=true;X(U)},V.timeout)}function am(){try{var ao=S(Q).readyState;d("state = "+ao);if(ao&&ao.toLowerCase()=="uninitialized"){setTimeout(am,50)}}catch(ap){d("Server abort: ",ap," (",ap.name,")");X(R);if(T){clearTimeout(T)}T=undefined}}var ak=[];try{if(V.extraData){for(var an in V.extraData){if(V.extraData.hasOwnProperty(an)){if(f.isPlainObject(V.extraData[an])&&V.extraData[an].hasOwnProperty("name")&&V.extraData[an].hasOwnProperty("value")){ak.push(f('<input type="hidden" name="'+V.extraData[an].name+'">').attr("value",V.extraData[an].value).appendTo(K)[0])}else{ak.push(f('<input type="hidden" name="'+an+'">').attr("value",V.extraData[an]).appendTo(K)[0])}}}}if(!V.iframeTarget){M.appendTo("body");if(Q.attachEvent){Q.attachEvent("onload",X)}else{Q.addEventListener("load",X,false)}}setTimeout(am,15);K.submit()}finally{K.setAttribute("action",aj);if(al){K.setAttribute("target",al)}else{o.removeAttr("target")}f(ak).remove()}}if(V.forceSync){aa()}else{setTimeout(aa,10)}var ag,ah,ae=50,L;function X(ao){if(O.aborted||L){return}try{ah=S(Q)}catch(ar){d("cannot access response document: ",ar);ao=R}if(ao===U&&O){O.abort("timeout");ai.reject(O,"timeout");return}else{if(ao==R&&O){O.abort("server abort");ai.reject(O,"error","server abort");return}}if(!ah||ah.location.href==V.iframeSrc){if(!ac){return}}if(Q.detachEvent){Q.detachEvent("onload",X)}else{Q.removeEventListener("load",X,false)}var am="success",aq;try{if(ac){throw"timeout"}var al=V.dataType=="xml"||ah.XMLDocument||f.isXMLDoc(ah);d("isXml="+al);if(!al&&window.opera&&(ah.body===null||!ah.body.innerHTML)){if(--ae){d("requeing onLoad callback, DOM not available");setTimeout(X,250);return}}var at=ah.body?ah.body:ah.documentElement;O.responseText=at?at.innerHTML:null;O.responseXML=ah.XMLDocument?ah.XMLDocument:ah;if(al){V.dataType="xml"}O.getResponseHeader=function(aw){var av={"content-type":V.dataType};return av[aw]};if(at){O.status=Number(at.getAttribute("status"))||O.status;O.statusText=at.getAttribute("statusText")||O.statusText}var aj=(V.dataType||"").toLowerCase();var ap=/(json|script|text)/.test(aj);if(ap||V.textarea){var an=ah.getElementsByTagName("textarea")[0];if(an){O.responseText=an.value;O.status=Number(an.getAttribute("status"))||O.status;O.statusText=an.getAttribute("statusText")||O.statusText}else{if(ap){var ak=ah.getElementsByTagName("pre")[0];var au=ah.getElementsByTagName("body")[0];if(ak){O.responseText=ak.textContent?ak.textContent:ak.innerText}else{if(au){O.responseText=au.textContent?au.textContent:au.innerText}}}}}else{if(aj=="xml"&&!O.responseXML&&O.responseText){O.responseXML=W(O.responseText)}}try{ag=k(O,aj,V)}catch(ao){am="parsererror";O.error=aq=(ao||am)}}catch(ao){d("error caught: ",ao);am="error";O.error=aq=(ao||am)}if(O.aborted){d("upload aborted");am=null}if(O.status){am=(O.status>=200&&O.status<300||O.status===304)?"success":"error"}if(am==="success"){if(V.success){V.success.call(V.context,ag,"success",O)}ai.resolve(O.responseText,"success",O);if(ad){f.event.trigger("ajaxSuccess",[O,V])}}else{if(am){if(aq===undefined){aq=O.statusText}if(V.error){V.error.call(V.context,O,am,aq)}ai.reject(O,"error",aq);if(ad){f.event.trigger("ajaxError",[O,V,aq])}}}if(ad){f.event.trigger("ajaxComplete",[O,V])}if(ad&&!--f.active){f.event.trigger("ajaxStop")}if(V.complete){V.complete.call(V.context,O,am)}L=true;if(V.timeout){clearTimeout(T)}setTimeout(function(){if(!V.iframeTarget){M.remove()}O.responseXML=null},100)}var W=f.parseXML||function(aj,ak){if(window.ActiveXObject){ak=new ActiveXObject("Microsoft.XMLDOM");ak.async="false";ak.loadXML(aj)}else{ak=(new DOMParser()).parseFromString(aj,"text/xml")}return(ak&&ak.documentElement&&ak.documentElement.nodeName!="parsererror")?ak:null};var q=f.parseJSON||function(aj){return window["eval"]("("+aj+")")};var k=function(ao,am,al){var ak=ao.getResponseHeader("content-type")||"",aj=am==="xml"||!am&&ak.indexOf("xml")>=0,an=aj?ao.responseXML:ao.responseText;if(aj&&an.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(al&&al.dataFilter){an=al.dataFilter(an,am)}if(typeof an==="string"){if(am==="json"||!am&&ak.indexOf("json")>=0){an=q(an)}else{if(am==="script"||!am&&ak.indexOf("javascript")>=0){f.globalEval(an)}}}return an};return ai}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){d("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}d("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(this).ajaxSubmit(g)}}function a(l){var k=l.target;var h=f(k);if(!(h.is("[type=submit],[type=image]"))){var g=h.closest("[type=submit]");if(g.length===0){return}k=g[0]}var j=this;j.clk=k;if(k.type=="image"){if(l.offsetX!==undefined){j.clk_x=l.offsetX;j.clk_y=l.offsetY}else{if(typeof f.fn.offset=="function"){var m=h.offset();j.clk_x=l.pageX-m.left;j.clk_y=l.pageY-m.top}else{j.clk_x=l.pageX-k.offsetLeft;j.clk_y=l.pageY-k.offsetTop}}}setTimeout(function(){j.clk=j.clk_x=j.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(x,g){var w=[];if(this.length===0){return w}var l=this[0];var p=x?l.getElementsByTagName("*"):l.elements;if(!p){return w}var r,q,o,y,m,t,k;for(r=0,t=p.length;r<t;r++){m=p[r];o=m.name;if(!o){continue}if(x&&l.clk&&m.type=="image"){if(!m.disabled&&l.clk==m){w.push({name:o,value:f(m).val(),type:m.type});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}y=f.fieldValue(m,true);if(y&&y.constructor==Array){if(g){g.push(m)}for(q=0,k=y.length;q<k;q++){w.push({name:o,value:y[q]})}}else{if(c.fileapi&&m.type=="file"&&!m.disabled){if(g){g.push(m)}var h=m.files;if(h.length){for(q=0;q<h.length;q++){w.push({name:o,value:h[q],type:m.type})}}else{w.push({name:o,value:"",type:m.type})}}else{if(y!==null&&typeof y!="undefined"){if(g){g.push(m)}w.push({name:o,value:y,type:m.type,required:m.required})}}}}if(!x&&l.clk){var s=f(l.clk),u=s[0];o=u.name;if(o&&!u.disabled&&u.type=="image"){w.push({name:o,value:s.val()});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return w};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,u=g.type,w=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!g.checked||(u=="submit"||u=="image")&&g.form&&g.form.clk!=g||w=="select"&&g.selectedIndex==-1)){return null}if(w=="select"){var p=g.selectedIndex;if(p<0){return null}var r=[],h=g.options;var l=(u=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var s=m.value;if(!s){s=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return s}r.push(s)}}return r}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var k=this.type,j=this.tagName.toLowerCase();if(h.test(k)||j=="textarea"){this.value=""}else{if(k=="checkbox"||k=="radio"){this.checked=false}else{if(j=="select"){this.selectedIndex=-1}else{if(g){if((g===true&&/hidden/.test(k))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var j=f(this).parent("select");if(g&&j[0]&&j[0].type=="select-one"){j.find("option").selected(false)}this.selected=g}}})};f.fn.ajaxSubmit.debug=false;function d(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}})(jQuery);(function(l){var s=(window.orientation!=undefined);var b=function(u,k){this.id=p++;this.init(u,k)};var q=function(k){if(typeof k==="string"){return new Date(k)}return k};b.prototype={constructor:b,init:function(u,k){var v;if(!(k.pickTime||k.pickDate)){throw new Error("Must choose at least one picker")}this.options=k;this.$element=l(u);this.language=k.language in a?k.language:"en";this.pickDate=k.pickDate;this.pickTime=k.pickTime;this.isInput=this.$element.is("input");this.component=false;if(this.$element.is(".input-append")||this.$element.is(".input-prepend")){this.component=this.$element.find(".add-on")}this.format=k.format;if(!this.format){if(this.isInput){this.format=this.$element.data("format")}else{this.format=this.$element.find("input").data("format")}if(!this.format){this.format="MM/dd/yyyy"}}this._compileFormat();if(this.component){v=this.component.find("i")}if(this.pickTime){if(v&&v.length){this.timeIcon=v.data("time-icon")}if(!this.timeIcon){this.timeIcon="icon-time"}v.addClass(this.timeIcon)}if(this.pickDate){if(v&&v.length){this.dateIcon=v.data("date-icon")}if(!this.dateIcon){this.dateIcon="icon-calendar"}v.removeClass(this.timeIcon);v.addClass(this.dateIcon)}this.widget=l(d(this.timeIcon,k.pickDate,k.pickTime,k.pick12HourFormat,k.pickSeconds,k.collapse)).appendTo("body");this.minViewMode=k.minViewMode||this.$element.data("date-minviewmode")||0;if(typeof this.minViewMode==="string"){switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0;break}}this.viewMode=k.viewMode||this.$element.data("date-viewmode")||0;if(typeof this.viewMode==="string"){switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0;break}}this.startViewMode=this.viewMode;this.weekStart=k.weekStart||this.$element.data("date-weekstart")||0;this.weekEnd=this.weekStart===0?6:this.weekStart-1;this.setStartDate(k.startDate||this.$element.data("date-startdate"));this.setEndDate(k.endDate||this.$element.data("date-enddate"));this.fillDow();this.fillMonths();this.fillHours();this.fillMinutes();this.fillSeconds();this.update();this.showMode();this._attachDatePickerEvents()},show:function(k){this.widget.show();this.height=this.component?this.component.outerHeight():this.$element.outerHeight();this.place();this.$element.trigger({type:"show",date:this._date});this._attachDatePickerGlobalEvents();if(k){k.stopPropagation();k.preventDefault()}},disable:function(){this.$element.find("input").prop("disabled",true);this._detachDatePickerEvents()},enable:function(){this.$element.find("input").prop("disabled",false);this._attachDatePickerEvents()},hide:function(){var v=this.widget.find(".collapse");for(var k=0;k<v.length;k++){var u=v.eq(k).data("collapse");if(u&&u.transitioning){return}}this.widget.hide();this.viewMode=this.startViewMode;this.showMode();this.set();this.$element.trigger({type:"hide",date:this._date});this._detachDatePickerGlobalEvents()},set:function(){var u="";if(!this._unset){u=this.formatDate(this._date)}if(!this.isInput){if(this.component){var k=this.$element.find("input");k.val(u);this._resetMaskPos(k)}this.$element.data("date",u)}else{this.$element.val(u);this._resetMaskPos(this.$element)}},setValue:function(k){if(!k){this._unset=true}else{this._unset=false}if(typeof k==="string"){this._date=this.parseDate(k)}else{if(k){this._date=new Date(k)}}this.set();this.viewDate=o(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0);this.fillDate();this.fillTime()},getDate:function(){if(this._unset){return null}return new Date(this._date.valueOf())},setDate:function(k){if(!k){this.setValue(null)}else{this.setValue(k.valueOf())}},setStartDate:function(k){if(k instanceof Date){this.startDate=k}else{if(typeof k==="string"){this.startDate=new o(k);if(!this.startDate.getUTCFullYear()){this.startDate=-Infinity}}else{this.startDate=-Infinity}}if(this.viewDate){this.update()}},setEndDate:function(k){if(k instanceof Date){this.endDate=k}else{if(typeof k==="string"){this.endDate=new o(k);if(!this.endDate.getUTCFullYear()){this.endDate=Infinity}}else{this.endDate=Infinity}}if(this.viewDate){this.update()}},getLocalDate:function(){if(this._unset){return null}var k=this._date;return new Date(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate(),k.getUTCHours(),k.getUTCMinutes(),k.getUTCSeconds(),k.getUTCMilliseconds())},setLocalDate:function(k){if(!k){this.setValue(null)}else{this.setValue(Date.UTC(k.getFullYear(),k.getMonth(),k.getDate(),k.getHours(),k.getMinutes(),k.getSeconds(),k.getMilliseconds()))}},place:function(){var k="absolute";var v=this.component?this.component.offset():this.$element.offset();v.top=v.top+this.height;if(this._isInFixed()){var u=l(window);k="fixed";v.top-=u.scrollTop();v.left-=u.scrollLeft()}this.widget.css({position:k,top:v.top,left:v.left})},notifyChange:function(){this.$element.trigger({type:"changeDate",date:this.getDate(),localDate:this.getLocalDate()})},update:function(k){var u=k;if(!u){if(this.isInput){u=this.$element.val()}else{u=this.$element.find("input").val()}if(!u){var v=new Date();this._date=o(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds())}else{this._date=this.parseDate(u)}}this.viewDate=o(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0);this.fillDate();this.fillTime()},fillDow:function(){var k=this.weekStart;var u="<tr>";while(k<this.weekStart+7){u+='<th class="dow">'+a[this.language].daysMin[(k++)%7]+"</th>"}u+="</tr>";this.widget.find(".datepicker-days thead").append(u)},fillMonths:function(){var u="";var k=0;while(k<12){u+='<span class="month">'+a[this.language].monthsShort[k++]+"</span>"}this.widget.find(".datepicker-months td").append(u)},fillDate:function(){var F=this.viewDate.getUTCFullYear();var D=this.viewDate.getUTCMonth();var u=o(this._date.getUTCFullYear(),this._date.getUTCMonth(),this._date.getUTCDate(),0,0,0,0);var E=typeof this.startDate==="object"?this.startDate.getUTCFullYear():-Infinity;var H=typeof this.startDate==="object"?this.startDate.getUTCMonth():-1;var I=typeof this.endDate==="object"?this.endDate.getUTCFullYear():Infinity;var B=typeof this.endDate==="object"?this.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled");this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled");this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled");this.widget.find(".datepicker-days th:eq(1)").text(a[this.language].months[D]+" "+F);var x=o(F,D-1,28,0,0,0,0);var G=m.getDaysInMonth(x.getUTCFullYear(),x.getUTCMonth());x.setUTCDate(G);x.setUTCDate(G-(x.getUTCDay()-this.weekStart+7)%7);if((F==E&&D<=H)||F<E){this.widget.find(".datepicker-days th:eq(0)").addClass("disabled")}if((F==I&&D>=B)||F>I){this.widget.find(".datepicker-days th:eq(2)").addClass("disabled")}var A=new Date(x.valueOf());A.setUTCDate(A.getUTCDate()+42);A=A.valueOf();var z=[];var w;while(x.valueOf()<A){if(x.getUTCDay()===this.weekStart){z.push("<tr>")}w="";if(x.getUTCFullYear()<F||(x.getUTCFullYear()==F&&x.getUTCMonth()<D)){w+=" old"}else{if(x.getUTCFullYear()>F||(x.getUTCFullYear()==F&&x.getUTCMonth()>D)){w+=" new"}}if(x.valueOf()===u.valueOf()){w+=" active"}if((x.valueOf()+86400000)<=this.startDate){w+=" disabled"}if(x.valueOf()>this.endDate){w+=" disabled"}z.push('<td class="day'+w+'">'+x.getUTCDate()+"</td>");if(x.getUTCDay()===this.weekEnd){z.push("</tr>")}x.setUTCDate(x.getUTCDate()+1)}this.widget.find(".datepicker-days tbody").empty().append(z.join(""));var C=this._date.getUTCFullYear();var k=this.widget.find(".datepicker-months").find("th:eq(1)").text(F).end().find("span").removeClass("active");if(C===F){k.eq(this._date.getUTCMonth()).addClass("active")}if(C-1<E){this.widget.find(".datepicker-months th:eq(0)").addClass("disabled")}if(C+1>I){this.widget.find(".datepicker-months th:eq(2)").addClass("disabled")}for(var y=0;y<12;y++){if((F==E&&H>y)||(F<E)){l(k[y]).addClass("disabled")}else{if((F==I&&B<y)||(F>I)){l(k[y]).addClass("disabled")}}}z="";F=parseInt(F/10,10)*10;var v=this.widget.find(".datepicker-years").find("th:eq(1)").text(F+"-"+(F+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled");if(E>F){this.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled")}if(I<F+9){this.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled")}F-=1;for(var y=-1;y<11;y++){z+='<span class="year'+(y===-1||y===10?" old":"")+(C===F?" active":"")+((F<E||F>I)?" disabled":"")+'">'+F+"</span>";F+=1}v.html(z)},fillHours:function(){var w=this.widget.find(".timepicker .timepicker-hours table");w.parent().hide();var v="";if(this.options.pick12HourFormat){var x=1;for(var u=0;u<3;u+=1){v+="<tr>";for(var k=0;k<4;k+=1){var y=x.toString();v+='<td class="hour">'+g(y,2,"0")+"</td>";x++}v+="</tr>"}}else{var x=0;for(var u=0;u<6;u+=1){v+="<tr>";for(var k=0;k<4;k+=1){var y=x.toString();v+='<td class="hour">'+g(y,2,"0")+"</td>";x++}v+="</tr>"}}w.html(v)},fillMinutes:function(){var w=this.widget.find(".timepicker .timepicker-minutes table");w.parent().hide();var v="";var x=0;for(var u=0;u<5;u++){v+="<tr>";for(var k=0;k<4;k+=1){var y=x.toString();v+='<td class="minute">'+g(y,2,"0")+"</td>";x+=3}v+="</tr>"}w.html(v)},fillSeconds:function(){var w=this.widget.find(".timepicker .timepicker-seconds table");w.parent().hide();var v="";var x=0;for(var u=0;u<5;u++){v+="<tr>";for(var k=0;k<4;k+=1){var y=x.toString();v+='<td class="second">'+g(y,2,"0")+"</td>";x+=3}v+="</tr>"}w.html(v)},fillTime:function(){if(!this._date){return}var z=this.widget.find(".timepicker span[data-time-component]");var w=z.closest("table");var v=this.options.pick12HourFormat;var k=this._date.getUTCHours();var y="AM";if(v){if(k>=12){y="PM"}if(k===0){k=12}else{if(k!=12){k=k%12}}this.widget.find(".timepicker [data-action=togglePeriod]").text(y)}k=g(k.toString(),2,"0");var x=g(this._date.getUTCMinutes().toString(),2,"0");var u=g(this._date.getUTCSeconds().toString(),2,"0");z.filter("[data-time-component=hours]").text(k);z.filter("[data-time-component=minutes]").text(x);z.filter("[data-time-component=seconds]").text(u)},click:function(A){A.stopPropagation();A.preventDefault();this._unset=false;var z=l(A.target).closest("span, td, th");if(z.length===1){if(!z.is(".disabled")){switch(z[0].nodeName.toLowerCase()){case"th":switch(z[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var u=this.viewDate;var v=m.modes[this.viewMode].navFnc;var x=m.modes[this.viewMode].navStep;if(z[0].className==="prev"){x=x*-1}u["set"+v](u["get"+v]()+x);this.fillDate();this.set();break}break;case"span":if(z.is(".month")){var y=z.parent().find("span").index(z);this.viewDate.setUTCMonth(y)}else{var w=parseInt(z.text(),10)||0;this.viewDate.setUTCFullYear(w)}if(this.viewMode!==0){this._date=o(this.viewDate.getUTCFullYear(),this.viewDate.getUTCMonth(),this.viewDate.getUTCDate(),this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds());this.notifyChange()}this.showMode(-1);this.fillDate();this.set();break;case"td":if(z.is(".day")){var k=parseInt(z.text(),10)||1;var y=this.viewDate.getUTCMonth();var w=this.viewDate.getUTCFullYear();if(z.is(".old")){if(y===0){y=11;w-=1}else{y-=1}}else{if(z.is(".new")){if(y==11){y=0;w+=1}else{y+=1}}}this._date=o(w,y,k,this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds());this.viewDate=o(w,y,Math.min(28,k),0,0,0,0);this.fillDate();this.set();this.notifyChange()}break}}}},actions:{incrementHours:function(k){this._date.setUTCHours(this._date.getUTCHours()+1)},incrementMinutes:function(k){this._date.setUTCMinutes(this._date.getUTCMinutes()+1)},incrementSeconds:function(k){this._date.setUTCSeconds(this._date.getUTCSeconds()+1)},decrementHours:function(k){this._date.setUTCHours(this._date.getUTCHours()-1)},decrementMinutes:function(k){this._date.setUTCMinutes(this._date.getUTCMinutes()-1)},decrementSeconds:function(k){this._date.setUTCSeconds(this._date.getUTCSeconds()-1)},togglePeriod:function(u){var k=this._date.getUTCHours();if(k>=12){k-=12}else{k+=12}this._date.setUTCHours(k)},showPicker:function(){this.widget.find(".timepicker > div:not(.timepicker-picker)").hide();this.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){this.widget.find(".timepicker .timepicker-picker").hide();this.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.widget.find(".timepicker .timepicker-picker").hide();this.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.widget.find(".timepicker .timepicker-picker").hide();this.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(v){var w=l(v.target);var k=parseInt(w.text(),10);if(this.options.pick12HourFormat){var u=this._date.getUTCHours();if(u>=12){if(k!=12){k=(k+12)%24}}else{if(k===12){k=0}else{k=k%12}}}this._date.setUTCHours(k);this.actions.showPicker.call(this)},selectMinute:function(u){var v=l(u.target);var k=parseInt(v.text(),10);this._date.setUTCMinutes(k);this.actions.showPicker.call(this)},selectSecond:function(u){var v=l(u.target);var k=parseInt(v.text(),10);this._date.setUTCSeconds(k);this.actions.showPicker.call(this)}},doAction:function(u){u.stopPropagation();u.preventDefault();if(!this._date){this._date=o(1970,0,0,0,0,0,0)}var k=l(u.currentTarget).data("action");var v=this.actions[k].apply(this,arguments);this.set();this.fillTime();this.notifyChange();return v},stopEvent:function(k){k.stopPropagation();k.preventDefault()},keydown:function(x){var w=this,v=x.which,u=l(x.target);if(v==8||v==46){setTimeout(function(){w._resetMaskPos(u)})}},keypress:function(x){var w=x.which;if(w==8||w==46){return}var v=l(x.target);var z=String.fromCharCode(w);var y=v.val()||"";y+=z;var u=this._mask[this._maskPos];if(!u){return false}if(u.end!=y.length){return}if(!u.pattern.test(y.slice(u.start))){y=y.slice(0,y.length-1);while((u=this._mask[this._maskPos])&&u.character){y+=u.character;this._maskPos++}y+=z;if(u.end!=y.length){v.val(y);return false}else{if(!u.pattern.test(y.slice(u.start))){v.val(y.slice(0,u.start));return false}else{v.val(y);this._maskPos++;return false}}}else{this._maskPos++}},change:function(u){var k=l(u.target);var v=k.val();if(this._formatPattern.test(v)){this.update();this.setValue(this._date.getTime());this.notifyChange();this.set()}else{if(v&&v.trim()){this.setValue(this._date.getTime());if(this._date){this.set()}else{k.val("")}}else{if(this._date){this.setValue(null);this.notifyChange();this._unset=true}}}this._resetMaskPos(k)},showMode:function(k){if(k){this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+k))}this.widget.find(".datepicker > div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).show()},destroy:function(){this._detachDatePickerEvents();this._detachDatePickerGlobalEvents();this.widget.remove();this.$element.removeData("datetimepicker");this.component.removeData("datetimepicker")},formatDate:function(k){return this.format.replace(c,function(w){var v,x,y,u=w.length;if(w==="ms"){u=1}x=r[w].property;if(x==="Hours12"){y=k.getUTCHours();if(y===0){y=12}else{if(y!==12){y=y%12}}}else{if(x==="Period12"){if(k.getUTCHours()>=12){return"PM"}else{return"AM"}}else{v="get"+x;y=k[v]()}}if(v==="getUTCMonth"){y=y+1}if(v==="getUTCYear"){y=y+1900-2000}return g(y.toString(),u,"0")})},parseDate:function(z){var v,w,y,u,x,k={};if(!(v=this._formatPattern.exec(z))){return null}for(w=1;w<v.length;w++){y=this._propertiesByIndex[w];if(!y){continue}x=v[w];if(/^\d+$/.test(x)){x=parseInt(x,10)}k[y]=x}return this._finishParsingDate(k)},_resetMaskPos:function(k){var v=k.val();for(var u=0;u<this._mask.length;u++){if(this._mask[u].end>v.length){this._maskPos=u;break}else{if(this._mask[u].end===v.length){this._maskPos=u+1;break}}}},_finishParsingDate:function(u){var y,z,w,k,x,A,v;y=u.UTCFullYear;if(u.UTCYear){y=2000+u.UTCYear}if(!y){y=1970}if(u.UTCMonth){z=u.UTCMonth-1}else{z=0}w=u.UTCDate||1;k=u.UTCHours||0;x=u.UTCMinutes||0;A=u.UTCSeconds||0;v=u.UTCMilliseconds||0;if(u.Hours12){k=u.Hours12}if(u.Period12){if(/pm/i.test(u.Period12)){if(k!=12){k=(k+12)%24}}else{k=k%12}}return o(y,z,w,k,x,A,v)},_compileFormat:function(){var w,v,y=[],u=[],z=this.format,k={},x=0,A=0;while(w=j.exec(z)){v=w[0];if(v in r){x++;k[x]=r[v].property;y.push("\\s*"+r[v].getPattern(this)+"\\s*");u.push({pattern:new RegExp(r[v].getPattern(this)),property:r[v].property,start:A,end:A+=v.length})}else{y.push(h(v));u.push({pattern:new RegExp(h(v)),character:v,start:A,end:++A})}z=z.slice(v.length)}this._mask=u;this._maskPos=0;this._formatPattern=new RegExp("^\\s*"+y.join("")+"\\s*$");this._propertiesByIndex=k},_attachDatePickerEvents:function(){var k=this;this.widget.on("click",".datepicker *",l.proxy(this.click,this));this.widget.on("click","[data-action]",l.proxy(this.doAction,this));this.widget.on("mousedown",l.proxy(this.stopEvent,this));if(this.pickDate&&this.pickTime){this.widget.on("click.togglePicker",".accordion-toggle",function(z){z.stopPropagation();var y=l(this);var x=y.closest("ul");var v=x.find(".collapse.in");var u=x.find(".collapse:not(.in)");if(v&&v.length){var w=v.data("collapse");if(w&&w.transitioning){return}v.collapse("hide");u.collapse("show");y.find("i").toggleClass(k.timeIcon+" "+k.dateIcon);k.$element.find(".add-on i").toggleClass(k.timeIcon+" "+k.dateIcon)}})}if(this.isInput){this.$element.on({focus:l.proxy(this.show,this),change:l.proxy(this.change,this)});if(this.options.maskInput){this.$element.on({keydown:l.proxy(this.keydown,this),keypress:l.proxy(this.keypress,this)})}}else{this.$element.on({change:l.proxy(this.change,this)},"input");if(this.options.maskInput){this.$element.on({keydown:l.proxy(this.keydown,this),keypress:l.proxy(this.keypress,this)},"input")}if(this.component){this.component.on("click",l.proxy(this.show,this))}else{this.$element.on("click",l.proxy(this.show,this))}}},_attachDatePickerGlobalEvents:function(){l(window).on("resize.datetimepicker"+this.id,l.proxy(this.place,this));if(!this.isInput){l(document).on("mousedown.datetimepicker"+this.id,l.proxy(this.hide,this))}},_detachDatePickerEvents:function(){this.widget.off("click",".datepicker *",this.click);this.widget.off("click","[data-action]");this.widget.off("mousedown",this.stopEvent);if(this.pickDate&&this.pickTime){this.widget.off("click.togglePicker")}if(this.isInput){this.$element.off({focus:this.show,change:this.change});if(this.options.maskInput){this.$element.off({keydown:this.keydown,keypress:this.keypress})}}else{this.$element.off({change:this.change},"input");if(this.options.maskInput){this.$element.off({keydown:this.keydown,keypress:this.keypress},"input")}if(this.component){this.component.off("click",this.show)}else{this.$element.off("click",this.show)}}},_detachDatePickerGlobalEvents:function(){l(window).off("resize.datetimepicker"+this.id);if(!this.isInput){l(document).off("mousedown.datetimepicker"+this.id)}},_isInFixed:function(){if(this.$element){var u=this.$element.parents();var k=false;for(var v=0;v<u.length;v++){if(l(u[v]).css("position")=="fixed"){k=true;break}}return k}else{return false}}};l.fn.datetimepicker=function(k,u){return this.each(function(){var x=l(this),w=x.data("datetimepicker"),v=typeof k==="object"&&k;if(!w){x.data("datetimepicker",(w=new b(this,l.extend({},l.fn.datetimepicker.defaults,v))))}if(typeof k==="string"){w[k](u)}})};l.fn.datetimepicker.defaults={maskInput:false,pickDate:true,pickTime:true,pick12HourFormat:false,pickSeconds:true,startDate:-Infinity,endDate:Infinity,collapse:true};l.fn.datetimepicker.Constructor=b;var p=0;var a=l.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}};var r={dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},yy:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b"}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},PP:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}}};var t=[];for(var f in r){t.push(f)}t[t.length-1]+="\\b";t.push(".");var j=new RegExp(t.join("\\b|"));t.pop();var c=new RegExp(t.join("\\b|"),"g");function h(k){return k.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function g(u,k,v){if(k<u.length){return u}else{return Array(k-u.length+1).join(v||" ")+u}}function d(x,w,k,u,v,y){if(w&&k){return('<div class="bootstrap-datetimepicker-widget dropdown-menu"><ul><li'+(y?' class="collapse in"':"")+'><div class="datepicker">'+m.template+'</div></li><li class="picker-switch accordion-toggle"><a><i class="'+x+'"></i></a></li><li'+(y?' class="collapse"':"")+'><div class="timepicker">'+n.getTemplate(u,v)+"</div></li></ul></div>")}else{if(k){return('<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+n.getTemplate(u,v)+"</div></div>")}else{return('<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+m.template+"</div></div>")}}}function o(){return new Date(Date.UTC.apply(Date,arguments))}var m={modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],isLeapYear:function(k){return(((k%4===0)&&(k%100!==0))||(k%400===0))},getDaysInMonth:function(k,u){return[31,(m.isLeapYear(k)?29:28),31,30,31,30,31,31,30,31,30,31][u]},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};m.template='<div class="datepicker-days"><table class="table-condensed">'+m.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+"</table></div>";var n={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>'};n.getTemplate=function(k,u){return('<div class="timepicker-picker"><table class="table-condensed"'+(k?' data-hour-format="12"':"")+'><tr><td><a href="#" class="btn" data-action="incrementHours"><i class="icon-chevron-up"></i></a></td><td class="separator"></td><td><a href="#" class="btn" data-action="incrementMinutes"><i class="icon-chevron-up"></i></a></td>'+(u?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="icon-chevron-up"></i></a></td>':"")+(k?'<td class="separator"></td>':"")+"</tr><tr><td>"+n.hourTemplate+'</td> <td class="separator">:</td><td>'+n.minuteTemplate+"</td> "+(u?'<td class="separator">:</td><td>'+n.secondTemplate+"</td>":"")+(k?'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>':"")+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" class="btn" data-action="decrementMinutes"><i class="icon-chevron-down"></i></a></td>'+(u?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="icon-chevron-down"></i></a></td>':"")+(k?'<td class="separator"></td>':"")+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(u?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':""))}})(window.jQuery);
/*!
 * jQuery blockUI plugin
 * Version 2.62.0-2013.07.01
 * @requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
;(function(){function a(l){l.fn._fadeIn=l.fn.fadeIn;var d=l.noop||function(){};var p=/MSIE/.test(navigator.userAgent);var g=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var m=document.documentMode||0;var h=l.isFunction(document.createElement("div").style.setExpression);l.blockUI=function(t){f(window,t)};l.unblockUI=function(t){k(window,t)};l.growlUI=function(z,w,x,u){var v=l('<div class="growlUI"></div>');if(z){v.append("<h1>"+z+"</h1>")}if(w){v.append("<h2>"+w+"</h2>")}if(x===undefined){x=3000}var t=function(A){A=A||{};l.blockUI({message:v,fadeIn:typeof A.fadeIn!=="undefined"?A.fadeIn:700,fadeOut:typeof A.fadeOut!=="undefined"?A.fadeOut:1000,timeout:typeof A.timeout!=="undefined"?A.timeout:x,centerY:false,showOverlay:false,onUnblock:u,css:l.blockUI.defaults.growlCSS})};t();var y=v.css("opacity");v.mouseover(function(){t({fadeIn:0,timeout:30000});var A=l(".blockMsg");A.stop();A.fadeTo(300,1)}).mouseout(function(){l(".blockMsg").fadeOut(1000)})};l.fn.block=function(u){if(this[0]===window){l.blockUI(u);return this}var t=l.extend({},l.blockUI.defaults,u||{});this.each(function(){var v=l(this);if(t.ignoreIfBlocked&&v.data("blockUI.isBlocked")){return}v.unblock({fadeOut:0})});return this.each(function(){if(l.css(this,"position")=="static"){this.style.position="relative";l(this).data("blockUI.static",true)}this.style.zoom=1;f(this,u)})};l.fn.unblock=function(t){if(this[0]===window){l.unblockUI(t);return this}return this.each(function(){k(this,t)})};l.blockUI.version=2.6;l.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var j=[];function f(w,I){var F,Q;var D=(w==window);var A=(I&&I.message!==undefined?I.message:undefined);I=l.extend({},l.blockUI.defaults,I||{});if(I.ignoreIfBlocked&&l(w).data("blockUI.isBlocked")){return}I.overlayCSS=l.extend({},l.blockUI.defaults.overlayCSS,I.overlayCSS||{});F=l.extend({},l.blockUI.defaults.css,I.css||{});if(I.onOverlayClick){I.overlayCSS.cursor="pointer"}Q=l.extend({},l.blockUI.defaults.themedCSS,I.themedCSS||{});A=A===undefined?I.message:A;if(D&&c){k(window,{fadeOut:0})}if(A&&typeof A!="string"&&(A.parentNode||A.jquery)){var L=A.jquery?A[0]:A;var S={};l(w).data("blockUI.history",S);S.el=L;S.parent=L.parentNode;S.display=L.style.display;S.position=L.style.position;if(S.parent){S.parent.removeChild(L)}}l(w).data("blockUI.onUnblock",I.onUnblock);var E=I.baseZ;var P,O,N,J;if(p||I.forceIframe){P=l('<iframe class="blockUI" style="z-index:'+(E++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+I.iframeSrc+'"></iframe>')}else{P=l('<div class="blockUI" style="display:none"></div>')}if(I.theme){O=l('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(E++)+';display:none"></div>')}else{O=l('<div class="blockUI blockOverlay" style="z-index:'+(E++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>')}if(I.theme&&D){J='<div class="blockUI '+I.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:fixed">';if(I.title){J+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(I.title||"&nbsp;")+"</div>"}J+='<div class="ui-widget-content ui-dialog-content"></div>';J+="</div>"}else{if(I.theme){J='<div class="blockUI '+I.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:absolute">';if(I.title){J+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(I.title||"&nbsp;")+"</div>"}J+='<div class="ui-widget-content ui-dialog-content"></div>';J+="</div>"}else{if(D){J='<div class="blockUI '+I.blockMsgClass+' blockPage" style="z-index:'+(E+10)+';display:none;position:fixed"></div>'}else{J='<div class="blockUI '+I.blockMsgClass+' blockElement" style="z-index:'+(E+10)+';display:none;position:absolute"></div>'}}}N=l(J);if(A){if(I.theme){N.css(Q);N.addClass("ui-widget-content")}else{N.css(F)}}if(!I.theme){O.css(I.overlayCSS)}O.css("position",D?"fixed":"absolute");if(p||I.forceIframe){P.css("opacity",0)}var C=[P,O,N],R=D?l("body"):l(w);l.each(C,function(){this.appendTo(R)});if(I.theme&&I.draggable&&l.fn.draggable){N.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var y=h&&(!l.support.boxModel||l("object,embed",D?null:w).length>0);if(g||y){if(D&&I.allowBodyStretch&&l.support.boxModel){l("html,body").css("height","100%")}if((g||!l.support.boxModel)&&!D){var H=q(w,"borderTopWidth"),M=q(w,"borderLeftWidth");var B=H?"(0 - "+H+")":0;var G=M?"(0 - "+M+")":0}l.each(C,function(t,V){var z=V[0].style;z.position="absolute";if(t<2){if(D){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+I.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(D){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(G){z.setExpression("left",G)}if(B){z.setExpression("top",B)}}else{if(I.centerY){if(D){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!I.centerY&&D){var T=(I.css&&I.css.top)?parseInt(I.css.top,10):0;var U="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+T+') + "px"';z.setExpression("top",U)}}}})}if(A){if(I.theme){N.find(".ui-widget-content").append(A)}else{N.append(A)}if(A.jquery||A.nodeType){l(A).show()}}if((p||I.forceIframe)&&I.showOverlay){P.show()}if(I.fadeIn){var K=I.onBlock?I.onBlock:d;var v=(I.showOverlay&&!A)?K:d;var u=A?K:d;if(I.showOverlay){O._fadeIn(I.fadeIn,v)}if(A){N._fadeIn(I.fadeIn,u)}}else{if(I.showOverlay){O.show()}if(A){N.show()}if(I.onBlock){I.onBlock()}}o(1,w,I);if(D){c=N[0];j=l(I.focusableElements,c);if(I.focusInput){setTimeout(s,20)}}else{b(N[0],I.centerX,I.centerY)}if(I.timeout){var x=setTimeout(function(){if(D){l.unblockUI(I)}else{l(w).unblock(I)}},I.timeout);l(w).data("blockUI.timeout",x)}}function k(w,y){var x;var v=(w==window);var u=l(w);var z=u.data("blockUI.history");var A=u.data("blockUI.timeout");if(A){clearTimeout(A);u.removeData("blockUI.timeout")}y=l.extend({},l.blockUI.defaults,y||{});o(0,w,y);if(y.onUnblock===null){y.onUnblock=u.data("blockUI.onUnblock");u.removeData("blockUI.onUnblock")}var t;if(v){t=l("body").children().filter(".blockUI").add("body > .blockUI")}else{t=u.find(">.blockUI")}if(y.cursorReset){if(t.length>1){t[1].style.cursor=y.cursorReset}if(t.length>2){t[2].style.cursor=y.cursorReset}}if(v){c=j=null}if(y.fadeOut){x=t.length;t.fadeOut(y.fadeOut,function(){if(--x===0){n(t,z,y,w)}})}else{n(t,z,y,w)}}function n(y,B,A,z){var x=l(z);y.each(function(w,C){if(this.parentNode){this.parentNode.removeChild(this)}});if(B&&B.el){B.el.style.display=B.display;B.el.style.position=B.position;if(B.parent){B.parent.appendChild(B.el)}x.removeData("blockUI.history")}if(x.data("blockUI.static")){x.css("position","static")}if(typeof A.onUnblock=="function"){A.onUnblock(z,A)}var t=l(document.body),v=t.width(),u=t[0].style.width;t.width(v-1).width(v);t[0].style.width=u}function o(t,x,y){var w=x==window,v=l(x);if(!t&&(w&&!c||!w&&!v.data("blockUI.isBlocked"))){return}v.data("blockUI.isBlocked",t);if(!w||!y.bindEvents||(t&&!y.showOverlay)){return}var u="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(t){l(document).bind(u,y,r)}else{l(document).unbind(u,r)}}function r(y){if(y.type==="keydown"&&y.keyCode&&y.keyCode==9){if(c&&y.data.constrainTabKey){var v=j;var u=!y.shiftKey&&y.target===v[v.length-1];var t=y.shiftKey&&y.target===v[0];if(u||t){setTimeout(function(){s(t)},10);return false}}}var w=y.data;var x=l(y.target);if(x.hasClass("blockOverlay")&&w.onOverlayClick){w.onOverlayClick()}if(x.parents("div."+w.blockMsgClass).length>0){return true}return x.parents().children().filter("div.blockUI").length===0}function s(t){if(!j){return}var u=j[t===true?j.length-1:0];if(u){u.focus()}}function b(A,u,C){var B=A.parentNode,z=A.style;var v=((B.offsetWidth-A.offsetWidth)/2)-q(B,"borderLeftWidth");var w=((B.offsetHeight-A.offsetHeight)/2)-q(B,"borderTopWidth");if(u){z.left=v>0?(v+"px"):"0"}if(C){z.top=w>0?(w+"px"):"0"}}function q(t,u){return parseInt(l.css(t,u),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();(function(window,document,undefined){(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{if(jQuery&&!jQuery.fn.dataTable){factory(jQuery)}}}(function($){var DataTable=function(oInit){function _fnAddColumn(oSettings,nTh){var oDefaults=DataTable.defaults.columns;var iCol=oSettings.aoColumns.length;var oCol=$.extend({},DataTable.models.oColumn,oDefaults,{sSortingClass:oSettings.oClasses.sSortable,sSortingClassJUI:oSettings.oClasses.sSortJUI,nTh:nTh?nTh:document.createElement("th"),sTitle:oDefaults.sTitle?oDefaults.sTitle:nTh?nTh.innerHTML:"",aDataSort:oDefaults.aDataSort?oDefaults.aDataSort:[iCol],mData:oDefaults.mData?oDefaults.oDefaults:iCol});oSettings.aoColumns.push(oCol);if(oSettings.aoPreSearchCols[iCol]===undefined||oSettings.aoPreSearchCols[iCol]===null){oSettings.aoPreSearchCols[iCol]=$.extend({},DataTable.models.oSearch)}else{var oPre=oSettings.aoPreSearchCols[iCol];if(oPre.bRegex===undefined){oPre.bRegex=true}if(oPre.bSmart===undefined){oPre.bSmart=true}if(oPre.bCaseInsensitive===undefined){oPre.bCaseInsensitive=true}}_fnColumnOptions(oSettings,iCol,null)}function _fnColumnOptions(oSettings,iCol,oOptions){var oCol=oSettings.aoColumns[iCol];if(oOptions!==undefined&&oOptions!==null){if(oOptions.mDataProp&&!oOptions.mData){oOptions.mData=oOptions.mDataProp}if(oOptions.sType!==undefined){oCol.sType=oOptions.sType;oCol._bAutoType=false}$.extend(oCol,oOptions);_fnMap(oCol,oOptions,"sWidth","sWidthOrig");if(oOptions.iDataSort!==undefined){oCol.aDataSort=[oOptions.iDataSort]}_fnMap(oCol,oOptions,"aDataSort")}var mRender=oCol.mRender?_fnGetObjectDataFn(oCol.mRender):null;var mData=_fnGetObjectDataFn(oCol.mData);oCol.fnGetData=function(oData,sSpecific){var innerData=mData(oData,sSpecific);if(oCol.mRender&&(sSpecific&&sSpecific!=="")){return mRender(innerData,sSpecific,oData)}return innerData};oCol.fnSetData=_fnSetObjectDataFn(oCol.mData);if(!oSettings.oFeatures.bSort){oCol.bSortable=false}if(!oCol.bSortable||($.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)==-1)){oCol.sSortingClass=oSettings.oClasses.sSortableNone;oCol.sSortingClassJUI=""}else{if($.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)==-1){oCol.sSortingClass=oSettings.oClasses.sSortable;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUI}else{if($.inArray("asc",oCol.asSorting)!=-1&&$.inArray("desc",oCol.asSorting)==-1){oCol.sSortingClass=oSettings.oClasses.sSortableAsc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIAscAllowed}else{if($.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)!=-1){oCol.sSortingClass=oSettings.oClasses.sSortableDesc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIDescAllowed}}}}}function _fnAdjustColumnSizing(oSettings){if(oSettings.oFeatures.bAutoWidth===false){return false}_fnCalculateColumnWidths(oSettings);for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oSettings.aoColumns[i].nTh.style.width=oSettings.aoColumns[i].sWidth}}function _fnVisibleToColumnIndex(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");return typeof aiVis[iMatch]==="number"?aiVis[iMatch]:null}function _fnColumnIndexToVisible(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");var iPos=$.inArray(iMatch,aiVis);return iPos!==-1?iPos:null}function _fnVisbleColumns(oSettings){return _fnGetColumns(oSettings,"bVisible").length}function _fnGetColumns(oSettings,sParam){var a=[];$.map(oSettings.aoColumns,function(val,i){if(val[sParam]){a.push(i)}});return a}function _fnDetectType(sData){var aTypes=DataTable.ext.aTypes;var iLen=aTypes.length;for(var i=0;i<iLen;i++){var sType=aTypes[i](sData);if(sType!==null){return sType}}return"string"}function _fnReOrderIndex(oSettings,sColumns){var aColumns=sColumns.split(",");var aiReturn=[];for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){for(var j=0;j<iLen;j++){if(oSettings.aoColumns[i].sName==aColumns[j]){aiReturn.push(j);break}}}return aiReturn}function _fnColumnOrdering(oSettings){var sNames="";for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){sNames+=oSettings.aoColumns[i].sName+","}if(sNames.length==iLen){return""}return sNames.slice(0,-1)}function _fnApplyColumnDefs(oSettings,aoColDefs,aoCols,fn){var i,iLen,j,jLen,k,kLen;if(aoColDefs){for(i=aoColDefs.length-1;i>=0;i--){var aTargets=aoColDefs[i].aTargets;if(!$.isArray(aTargets)){_fnLog(oSettings,1,"aTargets must be an array of targets, not a "+(typeof aTargets))}for(j=0,jLen=aTargets.length;j<jLen;j++){if(typeof aTargets[j]==="number"&&aTargets[j]>=0){while(oSettings.aoColumns.length<=aTargets[j]){_fnAddColumn(oSettings)}fn(aTargets[j],aoColDefs[i])}else{if(typeof aTargets[j]==="number"&&aTargets[j]<0){fn(oSettings.aoColumns.length+aTargets[j],aoColDefs[i])}else{if(typeof aTargets[j]==="string"){for(k=0,kLen=oSettings.aoColumns.length;k<kLen;k++){if(aTargets[j]=="_all"||$(oSettings.aoColumns[k].nTh).hasClass(aTargets[j])){fn(k,aoColDefs[i])}}}}}}}}if(aoCols){for(i=0,iLen=aoCols.length;i<iLen;i++){fn(i,aoCols[i])}}}function _fnAddData(oSettings,aDataSupplied){var oCol;var aDataIn=($.isArray(aDataSupplied))?aDataSupplied.slice():$.extend(true,{},aDataSupplied);var iRow=oSettings.aoData.length;var oData=$.extend(true,{},DataTable.models.oRow);oData._aData=aDataIn;oSettings.aoData.push(oData);var nTd,sThisType;for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oCol=oSettings.aoColumns[i];if(typeof oCol.fnRender==="function"&&oCol.bUseRendered&&oCol.mData!==null){_fnSetCellData(oSettings,iRow,i,_fnRender(oSettings,iRow,i))}else{_fnSetCellData(oSettings,iRow,i,_fnGetCellData(oSettings,iRow,i))}if(oCol._bAutoType&&oCol.sType!="string"){var sVarType=_fnGetCellData(oSettings,iRow,i,"type");if(sVarType!==null&&sVarType!==""){sThisType=_fnDetectType(sVarType);if(oCol.sType===null){oCol.sType=sThisType}else{if(oCol.sType!=sThisType&&oCol.sType!="html"){oCol.sType="string"}}}}}oSettings.aiDisplayMaster.push(iRow);if(!oSettings.oFeatures.bDeferRender){_fnCreateTr(oSettings,iRow)}return iRow}function _fnGatherData(oSettings){var iLoop,i,iLen,j,jLen,jInner,nTds,nTrs,nTd,nTr,aLocalData,iThisIndex,iRow,iRows,iColumn,iColumns,sNodeName,oCol,oData;if(oSettings.bDeferLoading||oSettings.sAjaxSource===null){nTr=oSettings.nTBody.firstChild;while(nTr){if(nTr.nodeName.toUpperCase()=="TR"){iThisIndex=oSettings.aoData.length;nTr._DT_RowIndex=iThisIndex;oSettings.aoData.push($.extend(true,{},DataTable.models.oRow,{nTr:nTr}));oSettings.aiDisplayMaster.push(iThisIndex);nTd=nTr.firstChild;jInner=0;while(nTd){sNodeName=nTd.nodeName.toUpperCase();if(sNodeName=="TD"||sNodeName=="TH"){_fnSetCellData(oSettings,iThisIndex,jInner,$.trim(nTd.innerHTML));jInner++}nTd=nTd.nextSibling}}nTr=nTr.nextSibling}}nTrs=_fnGetTrNodes(oSettings);nTds=[];for(i=0,iLen=nTrs.length;i<iLen;i++){nTd=nTrs[i].firstChild;while(nTd){sNodeName=nTd.nodeName.toUpperCase();if(sNodeName=="TD"||sNodeName=="TH"){nTds.push(nTd)}nTd=nTd.nextSibling}}for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumn<iColumns;iColumn++){oCol=oSettings.aoColumns[iColumn];if(oCol.sTitle===null){oCol.sTitle=oCol.nTh.innerHTML}var bAutoType=oCol._bAutoType,bRender=typeof oCol.fnRender==="function",bClass=oCol.sClass!==null,bVisible=oCol.bVisible,nCell,sThisType,sRendered,sValType;if(bAutoType||bRender||bClass||!bVisible){for(iRow=0,iRows=oSettings.aoData.length;iRow<iRows;iRow++){oData=oSettings.aoData[iRow];nCell=nTds[(iRow*iColumns)+iColumn];if(bAutoType&&oCol.sType!="string"){sValType=_fnGetCellData(oSettings,iRow,iColumn,"type");if(sValType!==""){sThisType=_fnDetectType(sValType);if(oCol.sType===null){oCol.sType=sThisType}else{if(oCol.sType!=sThisType&&oCol.sType!="html"){oCol.sType="string"}}}}if(oCol.mRender){nCell.innerHTML=_fnGetCellData(oSettings,iRow,iColumn,"display")}else{if(oCol.mData!==iColumn){nCell.innerHTML=_fnGetCellData(oSettings,iRow,iColumn,"display")}}if(bRender){sRendered=_fnRender(oSettings,iRow,iColumn);nCell.innerHTML=sRendered;if(oCol.bUseRendered){_fnSetCellData(oSettings,iRow,iColumn,sRendered)}}if(bClass){nCell.className+=" "+oCol.sClass}if(!bVisible){oData._anHidden[iColumn]=nCell;nCell.parentNode.removeChild(nCell)}else{oData._anHidden[iColumn]=null}if(oCol.fnCreatedCell){oCol.fnCreatedCell.call(oSettings.oInstance,nCell,_fnGetCellData(oSettings,iRow,iColumn,"display"),oData._aData,iRow,iColumn)}}}}if(oSettings.aoRowCreatedCallback.length!==0){for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){oData=oSettings.aoData[i];_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[oData.nTr,oData._aData,i])}}}function _fnNodeToDataIndex(oSettings,n){return(n._DT_RowIndex!==undefined)?n._DT_RowIndex:null}function _fnNodeToColumnIndex(oSettings,iRow,n){var anCells=_fnGetTdNodes(oSettings,iRow);for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(anCells[i]===n){return i}}return -1}function _fnGetRowData(oSettings,iRow,sSpecific,aiColumns){var out=[];for(var i=0,iLen=aiColumns.length;i<iLen;i++){out.push(_fnGetCellData(oSettings,iRow,aiColumns[i],sSpecific))}return out}function _fnGetCellData(oSettings,iRow,iCol,sSpecific){var sData;var oCol=oSettings.aoColumns[iCol];var oData=oSettings.aoData[iRow]._aData;if((sData=oCol.fnGetData(oData,sSpecific))===undefined){if(oSettings.iDrawError!=oSettings.iDraw&&oCol.sDefaultContent===null){_fnLog(oSettings,0,"Requested unknown parameter "+(typeof oCol.mData=="function"?"{mData function}":"'"+oCol.mData+"'")+" from the data source for row "+iRow);oSettings.iDrawError=oSettings.iDraw}return oCol.sDefaultContent}if(sData===null&&oCol.sDefaultContent!==null){sData=oCol.sDefaultContent}else{if(typeof sData==="function"){return sData()}}if(sSpecific=="display"&&sData===null){return""}return sData}function _fnSetCellData(oSettings,iRow,iCol,val){var oCol=oSettings.aoColumns[iCol];var oData=oSettings.aoData[iRow]._aData;oCol.fnSetData(oData,val)}var __reArray=/\[.*?\]$/;function _fnGetObjectDataFn(mSource){if(mSource===null){return function(data,type){return null}}else{if(typeof mSource==="function"){return function(data,type,extra){return mSource(data,type,extra)}}else{if(typeof mSource==="string"&&(mSource.indexOf(".")!==-1||mSource.indexOf("[")!==-1)){var fetchData=function(data,type,src){var a=src.split(".");var arrayNotation,out,innerSrc;if(src!==""){for(var i=0,iLen=a.length;i<iLen;i++){arrayNotation=a[i].match(__reArray);if(arrayNotation){a[i]=a[i].replace(__reArray,"");if(a[i]!==""){data=data[a[i]]}out=[];a.splice(0,i+1);innerSrc=a.join(".");for(var j=0,jLen=data.length;j<jLen;j++){out.push(fetchData(data[j],type,innerSrc))}var join=arrayNotation[0].substring(1,arrayNotation[0].length-1);data=(join==="")?out:out.join(join);break}if(data===null||data[a[i]]===undefined){return undefined}data=data[a[i]]}}return data};return function(data,type){return fetchData(data,type,mSource)}}else{return function(data,type){return data[mSource]}}}}}function _fnSetObjectDataFn(mSource){if(mSource===null){return function(data,val){}}else{if(typeof mSource==="function"){return function(data,val){mSource(data,"set",val)}}else{if(typeof mSource==="string"&&(mSource.indexOf(".")!==-1||mSource.indexOf("[")!==-1)){var setData=function(data,val,src){var a=src.split("."),b;var arrayNotation,o,innerSrc;for(var i=0,iLen=a.length-1;i<iLen;i++){arrayNotation=a[i].match(__reArray);if(arrayNotation){a[i]=a[i].replace(__reArray,"");data[a[i]]=[];b=a.slice();b.splice(0,i+1);innerSrc=b.join(".");for(var j=0,jLen=val.length;j<jLen;j++){o={};setData(o,val[j],innerSrc);data[a[i]].push(o)}return}if(data[a[i]]===null||data[a[i]]===undefined){data[a[i]]={}}data=data[a[i]]}data[a[a.length-1].replace(__reArray,"")]=val};return function(data,val){return setData(data,val,mSource)}}else{return function(data,val){data[mSource]=val}}}}}function _fnGetDataMaster(oSettings){var aData=[];var iLen=oSettings.aoData.length;for(var i=0;i<iLen;i++){aData.push(oSettings.aoData[i]._aData)}return aData}function _fnClearTable(oSettings){oSettings.aoData.splice(0,oSettings.aoData.length);oSettings.aiDisplayMaster.splice(0,oSettings.aiDisplayMaster.length);oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnCalculateEnd(oSettings)}function _fnDeleteIndex(a,iTarget){var iTargetIndex=-1;for(var i=0,iLen=a.length;i<iLen;i++){if(a[i]==iTarget){iTargetIndex=i}else{if(a[i]>iTarget){a[i]--}}}if(iTargetIndex!=-1){a.splice(iTargetIndex,1)}}function _fnRender(oSettings,iRow,iCol){var oCol=oSettings.aoColumns[iCol];return oCol.fnRender({iDataRow:iRow,iDataColumn:iCol,oSettings:oSettings,aData:oSettings.aoData[iRow]._aData,mDataProp:oCol.mData},_fnGetCellData(oSettings,iRow,iCol,"display"))}function _fnCreateTr(oSettings,iRow){var oData=oSettings.aoData[iRow];var nTd;if(oData.nTr===null){oData.nTr=document.createElement("tr");oData.nTr._DT_RowIndex=iRow;if(oData._aData.DT_RowId){oData.nTr.id=oData._aData.DT_RowId}if(oData._aData.DT_RowClass){oData.nTr.className=oData._aData.DT_RowClass}for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){var oCol=oSettings.aoColumns[i];nTd=document.createElement(oCol.sCellType);nTd.innerHTML=(typeof oCol.fnRender==="function"&&(!oCol.bUseRendered||oCol.mData===null))?_fnRender(oSettings,iRow,i):_fnGetCellData(oSettings,iRow,i,"display");if(oCol.sClass!==null){nTd.className=oCol.sClass}if(oCol.bVisible){oData.nTr.appendChild(nTd);oData._anHidden[i]=null}else{oData._anHidden[i]=nTd}if(oCol.fnCreatedCell){oCol.fnCreatedCell.call(oSettings.oInstance,nTd,_fnGetCellData(oSettings,iRow,i,"display"),oData._aData,iRow,i)}}_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[oData.nTr,oData._aData,iRow])}}function _fnBuildHead(oSettings){var i,nTh,iLen,j,jLen;var iThs=$("th, td",oSettings.nTHead).length;var iCorrector=0;var jqChildren;if(iThs!==0){for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;nTh.setAttribute("role","columnheader");if(oSettings.aoColumns[i].bSortable){nTh.setAttribute("tabindex",oSettings.iTabIndex);nTh.setAttribute("aria-controls",oSettings.sTableId)}if(oSettings.aoColumns[i].sClass!==null){$(nTh).addClass(oSettings.aoColumns[i].sClass)}if(oSettings.aoColumns[i].sTitle!=nTh.innerHTML){nTh.innerHTML=oSettings.aoColumns[i].sTitle}}}else{var nTr=document.createElement("tr");for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;nTh.innerHTML=oSettings.aoColumns[i].sTitle;nTh.setAttribute("tabindex","0");if(oSettings.aoColumns[i].sClass!==null){$(nTh).addClass(oSettings.aoColumns[i].sClass)}nTr.appendChild(nTh)}$(oSettings.nTHead).html("")[0].appendChild(nTr);_fnDetectHeader(oSettings.aoHeader,oSettings.nTHead)}$(oSettings.nTHead).children("tr").attr("role","row");if(oSettings.bJUI){for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;var nDiv=document.createElement("div");nDiv.className=oSettings.oClasses.sSortJUIWrapper;$(nTh).contents().appendTo(nDiv);var nSpan=document.createElement("span");nSpan.className=oSettings.oClasses.sSortIcon;nDiv.appendChild(nSpan);nTh.appendChild(nDiv)}}if(oSettings.oFeatures.bSort){for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bSortable!==false){_fnSortAttachListener(oSettings,oSettings.aoColumns[i].nTh,i)}else{$(oSettings.aoColumns[i].nTh).addClass(oSettings.oClasses.sSortableNone)}}}if(oSettings.oClasses.sFooterTH!==""){$(oSettings.nTFoot).children("tr").children("th").addClass(oSettings.oClasses.sFooterTH)}if(oSettings.nTFoot!==null){var anCells=_fnGetUniqueThs(oSettings,null,oSettings.aoFooter);for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(anCells[i]){oSettings.aoColumns[i].nTf=anCells[i];if(oSettings.aoColumns[i].sClass){$(anCells[i]).addClass(oSettings.aoColumns[i].sClass)}}}}}function _fnDrawHead(oSettings,aoSource,bIncludeHidden){var i,iLen,j,jLen,k,kLen,n,nLocalTr;var aoLocal=[];var aApplied=[];var iColumns=oSettings.aoColumns.length;var iRowspan,iColspan;if(bIncludeHidden===undefined){bIncludeHidden=false}for(i=0,iLen=aoSource.length;i<iLen;i++){aoLocal[i]=aoSource[i].slice();aoLocal[i].nTr=aoSource[i].nTr;for(j=iColumns-1;j>=0;j--){if(!oSettings.aoColumns[j].bVisible&&!bIncludeHidden){aoLocal[i].splice(j,1)}}aApplied.push([])}for(i=0,iLen=aoLocal.length;i<iLen;i++){nLocalTr=aoLocal[i].nTr;if(nLocalTr){while((n=nLocalTr.firstChild)){nLocalTr.removeChild(n)}}for(j=0,jLen=aoLocal[i].length;j<jLen;j++){iRowspan=1;iColspan=1;if(aApplied[i][j]===undefined){nLocalTr.appendChild(aoLocal[i][j].cell);aApplied[i][j]=1;while(aoLocal[i+iRowspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i+iRowspan][j].cell){aApplied[i+iRowspan][j]=1;iRowspan++}while(aoLocal[i][j+iColspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i][j+iColspan].cell){for(k=0;k<iRowspan;k++){aApplied[i+k][j+iColspan]=1}iColspan++}aoLocal[i][j].cell.rowSpan=iRowspan;aoLocal[i][j].cell.colSpan=iColspan}}}}function _fnDraw(oSettings){var aPreDraw=_fnCallbackFire(oSettings,"aoPreDrawCallback","preDraw",[oSettings]);if($.inArray(false,aPreDraw)!==-1){_fnProcessingDisplay(oSettings,false);return}var i,iLen,n;var anRows=[];var iRowCount=0;var iStripes=oSettings.asStripeClasses.length;var iOpenRows=oSettings.aoOpenRows.length;oSettings.bDrawing=true;if(oSettings.iInitDisplayStart!==undefined&&oSettings.iInitDisplayStart!=-1){if(oSettings.oFeatures.bServerSide){oSettings._iDisplayStart=oSettings.iInitDisplayStart}else{oSettings._iDisplayStart=(oSettings.iInitDisplayStart>=oSettings.fnRecordsDisplay())?0:oSettings.iInitDisplayStart}oSettings.iInitDisplayStart=-1;_fnCalculateEnd(oSettings)}if(oSettings.bDeferLoading){oSettings.bDeferLoading=false;oSettings.iDraw++}else{if(!oSettings.oFeatures.bServerSide){oSettings.iDraw++}else{if(!oSettings.bDestroying&&!_fnAjaxUpdate(oSettings)){return}}}if(oSettings.aiDisplay.length!==0){var iStart=oSettings._iDisplayStart;var iEnd=oSettings._iDisplayEnd;if(oSettings.oFeatures.bServerSide){iStart=0;iEnd=oSettings.aoData.length}for(var j=iStart;j<iEnd;j++){var aoData=oSettings.aoData[oSettings.aiDisplay[j]];if(aoData.nTr===null){_fnCreateTr(oSettings,oSettings.aiDisplay[j])}var nRow=aoData.nTr;if(iStripes!==0){var sStripe=oSettings.asStripeClasses[iRowCount%iStripes];if(aoData._sRowStripe!=sStripe){$(nRow).removeClass(aoData._sRowStripe).addClass(sStripe);aoData._sRowStripe=sStripe}}_fnCallbackFire(oSettings,"aoRowCallback",null,[nRow,oSettings.aoData[oSettings.aiDisplay[j]]._aData,iRowCount,j]);anRows.push(nRow);iRowCount++;if(iOpenRows!==0){for(var k=0;k<iOpenRows;k++){if(nRow==oSettings.aoOpenRows[k].nParent){anRows.push(oSettings.aoOpenRows[k].nTr);break}}}}}else{anRows[0]=document.createElement("tr");if(oSettings.asStripeClasses[0]){anRows[0].className=oSettings.asStripeClasses[0]}var oLang=oSettings.oLanguage;var sZero=oLang.sZeroRecords;if(oSettings.iDraw==1&&oSettings.sAjaxSource!==null&&!oSettings.oFeatures.bServerSide){sZero=oLang.sLoadingRecords}else{if(oLang.sEmptyTable&&oSettings.fnRecordsTotal()===0){sZero=oLang.sEmptyTable}}var nTd=document.createElement("td");nTd.setAttribute("valign","top");nTd.colSpan=_fnVisbleColumns(oSettings);nTd.className=oSettings.oClasses.sRowEmpty;nTd.innerHTML=_fnInfoMacros(oSettings,sZero);anRows[iRowCount].appendChild(nTd)}_fnCallbackFire(oSettings,"aoHeaderCallback","header",[$(oSettings.nTHead).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay]);_fnCallbackFire(oSettings,"aoFooterCallback","footer",[$(oSettings.nTFoot).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay]);var nAddFrag=document.createDocumentFragment(),nRemoveFrag=document.createDocumentFragment(),nBodyPar,nTrs;if(oSettings.nTBody){nBodyPar=oSettings.nTBody.parentNode;nRemoveFrag.appendChild(oSettings.nTBody);if(!oSettings.oScroll.bInfinite||!oSettings._bInitComplete||oSettings.bSorted||oSettings.bFiltered){while((n=oSettings.nTBody.firstChild)){oSettings.nTBody.removeChild(n)}}for(i=0,iLen=anRows.length;i<iLen;i++){nAddFrag.appendChild(anRows[i])}oSettings.nTBody.appendChild(nAddFrag);if(nBodyPar!==null){nBodyPar.appendChild(oSettings.nTBody)}}_fnCallbackFire(oSettings,"aoDrawCallback","draw",[oSettings]);oSettings.bSorted=false;oSettings.bFiltered=false;oSettings.bDrawing=false;if(oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false);if(!oSettings._bInitComplete){_fnInitComplete(oSettings)}}}function _fnReDraw(oSettings){if(oSettings.oFeatures.bSort){_fnSort(oSettings,oSettings.oPreviousSearch)}else{if(oSettings.oFeatures.bFilter){_fnFilterComplete(oSettings,oSettings.oPreviousSearch)}else{_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}}function _fnAddOptionsHtml(oSettings){var nHolding=$("<div></div>")[0];oSettings.nTable.parentNode.insertBefore(nHolding,oSettings.nTable);oSettings.nTableWrapper=$('<div id="'+oSettings.sTableId+'_wrapper" class="'+oSettings.oClasses.sWrapper+'" role="grid"></div>')[0];oSettings.nTableReinsertBefore=oSettings.nTable.nextSibling;var nInsertNode=oSettings.nTableWrapper;var aDom=oSettings.sDom.split("");var nTmp,iPushFeature,cOption,nNewNode,cNext,sAttr,j;for(var i=0;i<aDom.length;i++){iPushFeature=0;cOption=aDom[i];if(cOption=="<"){nNewNode=$("<div></div>")[0];cNext=aDom[i+1];if(cNext=="'"||cNext=='"'){sAttr="";j=2;while(aDom[i+j]!=cNext){sAttr+=aDom[i+j];j++}if(sAttr=="H"){sAttr=oSettings.oClasses.sJUIHeader}else{if(sAttr=="F"){sAttr=oSettings.oClasses.sJUIFooter}}if(sAttr.indexOf(".")!=-1){var aSplit=sAttr.split(".");nNewNode.id=aSplit[0].substr(1,aSplit[0].length-1);nNewNode.className=aSplit[1]}else{if(sAttr.charAt(0)=="#"){nNewNode.id=sAttr.substr(1,sAttr.length-1)}else{nNewNode.className=sAttr}}i+=j}nInsertNode.appendChild(nNewNode);nInsertNode=nNewNode}else{if(cOption==">"){nInsertNode=nInsertNode.parentNode}else{if(cOption=="l"&&oSettings.oFeatures.bPaginate&&oSettings.oFeatures.bLengthChange){nTmp=_fnFeatureHtmlLength(oSettings);iPushFeature=1}else{if(cOption=="f"&&oSettings.oFeatures.bFilter){nTmp=_fnFeatureHtmlFilter(oSettings);iPushFeature=1}else{if(cOption=="r"&&oSettings.oFeatures.bProcessing){nTmp=_fnFeatureHtmlProcessing(oSettings);iPushFeature=1}else{if(cOption=="t"){nTmp=_fnFeatureHtmlTable(oSettings);iPushFeature=1}else{if(cOption=="i"&&oSettings.oFeatures.bInfo){nTmp=_fnFeatureHtmlInfo(oSettings);iPushFeature=1}else{if(cOption=="p"&&oSettings.oFeatures.bPaginate){nTmp=_fnFeatureHtmlPaginate(oSettings);iPushFeature=1}else{if(DataTable.ext.aoFeatures.length!==0){var aoFeatures=DataTable.ext.aoFeatures;for(var k=0,kLen=aoFeatures.length;k<kLen;k++){if(cOption==aoFeatures[k].cFeature){nTmp=aoFeatures[k].fnInit(oSettings);if(nTmp){iPushFeature=1}break}}}}}}}}}}}if(iPushFeature==1&&nTmp!==null){if(typeof oSettings.aanFeatures[cOption]!=="object"){oSettings.aanFeatures[cOption]=[]}oSettings.aanFeatures[cOption].push(nTmp);nInsertNode.appendChild(nTmp)}}nHolding.parentNode.replaceChild(oSettings.nTableWrapper,nHolding)}function _fnDetectHeader(aLayout,nThead){var nTrs=$(nThead).children("tr");var nTr,nCell;var i,k,l,iLen,jLen,iColShifted,iColumn,iColspan,iRowspan;var bUnique;var fnShiftCol=function(a,i,j){var k=a[i];while(k[j]){j++}return j};aLayout.splice(0,aLayout.length);for(i=0,iLen=nTrs.length;i<iLen;i++){aLayout.push([])}for(i=0,iLen=nTrs.length;i<iLen;i++){nTr=nTrs[i];iColumn=0;nCell=nTr.firstChild;while(nCell){if(nCell.nodeName.toUpperCase()=="TD"||nCell.nodeName.toUpperCase()=="TH"){iColspan=nCell.getAttribute("colspan")*1;iRowspan=nCell.getAttribute("rowspan")*1;iColspan=(!iColspan||iColspan===0||iColspan===1)?1:iColspan;iRowspan=(!iRowspan||iRowspan===0||iRowspan===1)?1:iRowspan;iColShifted=fnShiftCol(aLayout,i,iColumn);bUnique=iColspan===1?true:false;for(l=0;l<iColspan;l++){for(k=0;k<iRowspan;k++){aLayout[i+k][iColShifted+l]={cell:nCell,unique:bUnique};aLayout[i+k].nTr=nTr}}}nCell=nCell.nextSibling}}}function _fnGetUniqueThs(oSettings,nHeader,aLayout){var aReturn=[];if(!aLayout){aLayout=oSettings.aoHeader;if(nHeader){aLayout=[];_fnDetectHeader(aLayout,nHeader)}}for(var i=0,iLen=aLayout.length;i<iLen;i++){for(var j=0,jLen=aLayout[i].length;j<jLen;j++){if(aLayout[i][j].unique&&(!aReturn[j]||!oSettings.bSortCellsTop)){aReturn[j]=aLayout[i][j].cell}}}return aReturn}function _fnAjaxUpdate(oSettings){if(oSettings.bAjaxDataGet){oSettings.iDraw++;_fnProcessingDisplay(oSettings,true);var iColumns=oSettings.aoColumns.length;var aoData=_fnAjaxParameters(oSettings);_fnServerParams(oSettings,aoData);oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){_fnAjaxUpdateDraw(oSettings,json)},oSettings);return false}else{return true}}function _fnAjaxParameters(oSettings){var iColumns=oSettings.aoColumns.length;var aoData=[],mDataProp,aaSort,aDataSort;var i,j;aoData.push({name:"sEcho",value:oSettings.iDraw});aoData.push({name:"iColumns",value:iColumns});aoData.push({name:"sColumns",value:_fnColumnOrdering(oSettings)});aoData.push({name:"iDisplayStart",value:oSettings._iDisplayStart});aoData.push({name:"iDisplayLength",value:oSettings.oFeatures.bPaginate!==false?oSettings._iDisplayLength:-1});for(i=0;i<iColumns;i++){mDataProp=oSettings.aoColumns[i].mData;aoData.push({name:"mDataProp_"+i,value:typeof(mDataProp)==="function"?"function":mDataProp})}if(oSettings.oFeatures.bFilter!==false){aoData.push({name:"sSearch",value:oSettings.oPreviousSearch.sSearch});aoData.push({name:"bRegex",value:oSettings.oPreviousSearch.bRegex});for(i=0;i<iColumns;i++){aoData.push({name:"sSearch_"+i,value:oSettings.aoPreSearchCols[i].sSearch});aoData.push({name:"bRegex_"+i,value:oSettings.aoPreSearchCols[i].bRegex});aoData.push({name:"bSearchable_"+i,value:oSettings.aoColumns[i].bSearchable})}}if(oSettings.oFeatures.bSort!==false){var iCounter=0;aaSort=(oSettings.aaSortingFixed!==null)?oSettings.aaSortingFixed.concat(oSettings.aaSorting):oSettings.aaSorting.slice();for(i=0;i<aaSort.length;i++){aDataSort=oSettings.aoColumns[aaSort[i][0]].aDataSort;for(j=0;j<aDataSort.length;j++){aoData.push({name:"iSortCol_"+iCounter,value:aDataSort[j]});aoData.push({name:"sSortDir_"+iCounter,value:aaSort[i][1]});iCounter++}}aoData.push({name:"iSortingCols",value:iCounter});for(i=0;i<iColumns;i++){aoData.push({name:"bSortable_"+i,value:oSettings.aoColumns[i].bSortable})}}return aoData}function _fnServerParams(oSettings,aoData){_fnCallbackFire(oSettings,"aoServerParams","serverParams",[aoData])}function _fnAjaxUpdateDraw(oSettings,json){if(json.sEcho!==undefined){if(json.sEcho*1<oSettings.iDraw){return}else{oSettings.iDraw=json.sEcho*1}}if(!oSettings.oScroll.bInfinite||(oSettings.oScroll.bInfinite&&(oSettings.bSorted||oSettings.bFiltered))){_fnClearTable(oSettings)}oSettings._iRecordsTotal=parseInt(json.iTotalRecords,10);oSettings._iRecordsDisplay=parseInt(json.iTotalDisplayRecords,10);var sOrdering=_fnColumnOrdering(oSettings);var bReOrder=(json.sColumns!==undefined&&sOrdering!==""&&json.sColumns!=sOrdering);var aiIndex;if(bReOrder){aiIndex=_fnReOrderIndex(oSettings,json.sColumns)}var aData=_fnGetObjectDataFn(oSettings.sAjaxDataProp)(json);for(var i=0,iLen=aData.length;i<iLen;i++){if(bReOrder){var aDataSorted=[];for(var j=0,jLen=oSettings.aoColumns.length;j<jLen;j++){aDataSorted.push(aData[i][aiIndex[j]])}_fnAddData(oSettings,aDataSorted)}else{_fnAddData(oSettings,aData[i])}}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bAjaxDataGet=false;_fnDraw(oSettings);oSettings.bAjaxDataGet=true;_fnProcessingDisplay(oSettings,false)}function _fnFeatureHtmlFilter(oSettings){var oPreviousSearch=oSettings.oPreviousSearch;var sSearchStr=oSettings.oLanguage.sSearch;sSearchStr=(sSearchStr.indexOf("_INPUT_")!==-1)?sSearchStr.replace("_INPUT_",'<input type="text" />'):sSearchStr===""?'<input type="text" />':sSearchStr+' <input type="text" />';var nFilter=document.createElement("div");nFilter.className=oSettings.oClasses.sFilter;nFilter.innerHTML="<label>"+sSearchStr+"</label>";if(!oSettings.aanFeatures.f){nFilter.id=oSettings.sTableId+"_filter"}var jqFilter=$('input[type="text"]',nFilter);nFilter._DT_Input=jqFilter[0];jqFilter.val(oPreviousSearch.sSearch.replace('"',"&quot;"));jqFilter.bind("keyup.DT",function(e){var n=oSettings.aanFeatures.f;var val=this.value===""?"":this.value;for(var i=0,iLen=n.length;i<iLen;i++){if(n[i]!=$(this).parents("div.dataTables_filter")[0]){$(n[i]._DT_Input).val(val)}}if(val!=oPreviousSearch.sSearch){_fnFilterComplete(oSettings,{sSearch:val,bRegex:oPreviousSearch.bRegex,bSmart:oPreviousSearch.bSmart,bCaseInsensitive:oPreviousSearch.bCaseInsensitive})}});jqFilter.attr("aria-controls",oSettings.sTableId).bind("keypress.DT",function(e){if(e.keyCode==13){return false}});return nFilter}function _fnFilterComplete(oSettings,oInput,iForce){var oPrevSearch=oSettings.oPreviousSearch;var aoPrevSearch=oSettings.aoPreSearchCols;var fnSaveFilter=function(oFilter){oPrevSearch.sSearch=oFilter.sSearch;oPrevSearch.bRegex=oFilter.bRegex;oPrevSearch.bSmart=oFilter.bSmart;oPrevSearch.bCaseInsensitive=oFilter.bCaseInsensitive};if(!oSettings.oFeatures.bServerSide){_fnFilter(oSettings,oInput.sSearch,iForce,oInput.bRegex,oInput.bSmart,oInput.bCaseInsensitive);fnSaveFilter(oInput);for(var i=0;i<oSettings.aoPreSearchCols.length;i++){_fnFilterColumn(oSettings,aoPrevSearch[i].sSearch,i,aoPrevSearch[i].bRegex,aoPrevSearch[i].bSmart,aoPrevSearch[i].bCaseInsensitive)}_fnFilterCustom(oSettings)}else{fnSaveFilter(oInput)}oSettings.bFiltered=true;$(oSettings.oInstance).trigger("filter",oSettings);oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings);_fnBuildSearchArray(oSettings,0)}function _fnFilterCustom(oSettings){var afnFilters=DataTable.ext.afnFiltering;var aiFilterColumns=_fnGetColumns(oSettings,"bSearchable");for(var i=0,iLen=afnFilters.length;i<iLen;i++){var iCorrector=0;for(var j=0,jLen=oSettings.aiDisplay.length;j<jLen;j++){var iDisIndex=oSettings.aiDisplay[j-iCorrector];var bTest=afnFilters[i](oSettings,_fnGetRowData(oSettings,iDisIndex,"filter",aiFilterColumns),iDisIndex);if(!bTest){oSettings.aiDisplay.splice(j-iCorrector,1);iCorrector++}}}}function _fnFilterColumn(oSettings,sInput,iColumn,bRegex,bSmart,bCaseInsensitive){if(sInput===""){return}var iIndexCorrector=0;var rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart,bCaseInsensitive);for(var i=oSettings.aiDisplay.length-1;i>=0;i--){var sData=_fnDataToSearch(_fnGetCellData(oSettings,oSettings.aiDisplay[i],iColumn,"filter"),oSettings.aoColumns[iColumn].sType);if(!rpSearch.test(sData)){oSettings.aiDisplay.splice(i,1);iIndexCorrector++}}}function _fnFilter(oSettings,sInput,iForce,bRegex,bSmart,bCaseInsensitive){var i;var rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart,bCaseInsensitive);var oPrevSearch=oSettings.oPreviousSearch;if(!iForce){iForce=0}if(DataTable.ext.afnFiltering.length!==0){iForce=1}if(sInput.length<=0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice()}else{if(oSettings.aiDisplay.length==oSettings.aiDisplayMaster.length||oPrevSearch.sSearch.length>sInput.length||iForce==1||sInput.indexOf(oPrevSearch.sSearch)!==0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnBuildSearchArray(oSettings,1);for(i=0;i<oSettings.aiDisplayMaster.length;i++){if(rpSearch.test(oSettings.asDataSearch[i])){oSettings.aiDisplay.push(oSettings.aiDisplayMaster[i])}}}else{var iIndexCorrector=0;for(i=0;i<oSettings.asDataSearch.length;i++){if(!rpSearch.test(oSettings.asDataSearch[i])){oSettings.aiDisplay.splice(i-iIndexCorrector,1);iIndexCorrector++}}}}}function _fnBuildSearchArray(oSettings,iMaster){if(!oSettings.oFeatures.bServerSide){oSettings.asDataSearch=[];var aiFilterColumns=_fnGetColumns(oSettings,"bSearchable");var aiIndex=(iMaster===1)?oSettings.aiDisplayMaster:oSettings.aiDisplay;for(var i=0,iLen=aiIndex.length;i<iLen;i++){oSettings.asDataSearch[i]=_fnBuildSearchRow(oSettings,_fnGetRowData(oSettings,aiIndex[i],"filter",aiFilterColumns))}}}function _fnBuildSearchRow(oSettings,aData){var sSearch=aData.join("  ");if(sSearch.indexOf("&")!==-1){sSearch=$("<div>").html(sSearch).text()}return sSearch.replace(/[\n\r]/g," ")}function _fnFilterCreateSearch(sSearch,bRegex,bSmart,bCaseInsensitive){var asSearch,sRegExpString;if(bSmart){asSearch=bRegex?sSearch.split(" "):_fnEscapeRegex(sSearch).split(" ");sRegExpString="^(?=.*?"+asSearch.join(")(?=.*?")+").*$";return new RegExp(sRegExpString,bCaseInsensitive?"i":"")}else{sSearch=bRegex?sSearch:_fnEscapeRegex(sSearch);return new RegExp(sSearch,bCaseInsensitive?"i":"")}}function _fnDataToSearch(sData,sType){if(typeof DataTable.ext.ofnSearch[sType]==="function"){return DataTable.ext.ofnSearch[sType](sData)}else{if(sData===null){return""}else{if(sType=="html"){return sData.replace(/[\r\n]/g," ").replace(/<.*?>/g,"")}else{if(typeof sData==="string"){return sData.replace(/[\r\n]/g," ")}}}}return sData}function _fnEscapeRegex(sVal){var acEscape=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"];var reReplace=new RegExp("(\\"+acEscape.join("|\\")+")","g");return sVal.replace(reReplace,"\\$1")}function _fnFeatureHtmlInfo(oSettings){var nInfo=document.createElement("div");nInfo.className=oSettings.oClasses.sInfo;if(!oSettings.aanFeatures.i){oSettings.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"});nInfo.id=oSettings.sTableId+"_info"}oSettings.nTable.setAttribute("aria-describedby",oSettings.sTableId+"_info");return nInfo}function _fnUpdateInfo(oSettings){if(!oSettings.oFeatures.bInfo||oSettings.aanFeatures.i.length===0){return}var oLang=oSettings.oLanguage,iStart=oSettings._iDisplayStart+1,iEnd=oSettings.fnDisplayEnd(),iMax=oSettings.fnRecordsTotal(),iTotal=oSettings.fnRecordsDisplay(),sOut;if(iTotal===0){sOut=oLang.sInfoEmpty}else{sOut=oLang.sInfo}if(iTotal!=iMax){sOut+=" "+oLang.sInfoFiltered}sOut+=oLang.sInfoPostFix;sOut=_fnInfoMacros(oSettings,sOut);if(oLang.fnInfoCallback!==null){sOut=oLang.fnInfoCallback.call(oSettings.oInstance,oSettings,iStart,iEnd,iMax,iTotal,sOut)}var n=oSettings.aanFeatures.i;for(var i=0,iLen=n.length;i<iLen;i++){$(n[i]).html(sOut)}}function _fnInfoMacros(oSettings,str){var iStart=oSettings._iDisplayStart+1,sStart=oSettings.fnFormatNumber(iStart),iEnd=oSettings.fnDisplayEnd(),sEnd=oSettings.fnFormatNumber(iEnd),iTotal=oSettings.fnRecordsDisplay(),sTotal=oSettings.fnFormatNumber(iTotal),iMax=oSettings.fnRecordsTotal(),sMax=oSettings.fnFormatNumber(iMax);if(oSettings.oScroll.bInfinite){sStart=oSettings.fnFormatNumber(1)}return str.replace(/_START_/g,sStart).replace(/_END_/g,sEnd).replace(/_TOTAL_/g,sTotal).replace(/_MAX_/g,sMax)}function _fnInitialise(oSettings){var i,iLen,iAjaxStart=oSettings.iInitDisplayStart;if(oSettings.bInitialised===false){setTimeout(function(){_fnInitialise(oSettings)},200);return}_fnAddOptionsHtml(oSettings);_fnBuildHead(oSettings);_fnDrawHead(oSettings,oSettings.aoHeader);if(oSettings.nTFoot){_fnDrawHead(oSettings,oSettings.aoFooter)}_fnProcessingDisplay(oSettings,true);if(oSettings.oFeatures.bAutoWidth){_fnCalculateColumnWidths(oSettings)}for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(oSettings.aoColumns[i].sWidth!==null){oSettings.aoColumns[i].nTh.style.width=_fnStringToCss(oSettings.aoColumns[i].sWidth)}}if(oSettings.oFeatures.bSort){_fnSort(oSettings)}else{if(oSettings.oFeatures.bFilter){_fnFilterComplete(oSettings,oSettings.oPreviousSearch)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}if(oSettings.sAjaxSource!==null&&!oSettings.oFeatures.bServerSide){var aoData=[];_fnServerParams(oSettings,aoData);oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){var aData=(oSettings.sAjaxDataProp!=="")?_fnGetObjectDataFn(oSettings.sAjaxDataProp)(json):json;for(i=0;i<aData.length;i++){_fnAddData(oSettings,aData[i])}oSettings.iInitDisplayStart=iAjaxStart;if(oSettings.oFeatures.bSort){_fnSort(oSettings)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}_fnProcessingDisplay(oSettings,false);_fnInitComplete(oSettings,json)},oSettings);return}if(!oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false);_fnInitComplete(oSettings)}}function _fnInitComplete(oSettings,json){oSettings._bInitComplete=true;_fnCallbackFire(oSettings,"aoInitComplete","init",[oSettings,json])}function _fnLanguageCompat(oLanguage){var oDefaults=DataTable.defaults.oLanguage;if(!oLanguage.sEmptyTable&&oLanguage.sZeroRecords&&oDefaults.sEmptyTable==="No data available in table"){_fnMap(oLanguage,oLanguage,"sZeroRecords","sEmptyTable")}if(!oLanguage.sLoadingRecords&&oLanguage.sZeroRecords&&oDefaults.sLoadingRecords==="Loading..."){_fnMap(oLanguage,oLanguage,"sZeroRecords","sLoadingRecords")}}function _fnFeatureHtmlLength(oSettings){if(oSettings.oScroll.bInfinite){return null}var sName='name="'+oSettings.sTableId+'_length"';var sStdMenu='<select size="1" '+sName+">";var i,iLen;var aLengthMenu=oSettings.aLengthMenu;if(aLengthMenu.length==2&&typeof aLengthMenu[0]==="object"&&typeof aLengthMenu[1]==="object"){for(i=0,iLen=aLengthMenu[0].length;i<iLen;i++){sStdMenu+='<option value="'+aLengthMenu[0][i]+'">'+aLengthMenu[1][i]+"</option>"}}else{for(i=0,iLen=aLengthMenu.length;i<iLen;i++){sStdMenu+='<option value="'+aLengthMenu[i]+'">'+aLengthMenu[i]+"</option>"}}sStdMenu+="</select>";var nLength=document.createElement("div");if(!oSettings.aanFeatures.l){nLength.id=oSettings.sTableId+"_length"}nLength.className=oSettings.oClasses.sLength;nLength.innerHTML="<label>"+oSettings.oLanguage.sLengthMenu.replace("_MENU_",sStdMenu)+"</label>";$('select option[value="'+oSettings._iDisplayLength+'"]',nLength).attr("selected",true);$("select",nLength).bind("change.DT",function(e){var iVal=$(this).val();var n=oSettings.aanFeatures.l;for(i=0,iLen=n.length;i<iLen;i++){if(n[i]!=this.parentNode){$("select",n[i]).val(iVal)}}oSettings._iDisplayLength=parseInt(iVal,10);_fnCalculateEnd(oSettings);if(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()){oSettings._iDisplayStart=oSettings.fnDisplayEnd()-oSettings._iDisplayLength;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}if(oSettings._iDisplayLength==-1){oSettings._iDisplayStart=0}_fnDraw(oSettings)});$("select",nLength).attr("aria-controls",oSettings.sTableId);return nLength}function _fnCalculateEnd(oSettings){if(oSettings.oFeatures.bPaginate===false){oSettings._iDisplayEnd=oSettings.aiDisplay.length}else{if(oSettings._iDisplayStart+oSettings._iDisplayLength>oSettings.aiDisplay.length||oSettings._iDisplayLength==-1){oSettings._iDisplayEnd=oSettings.aiDisplay.length}else{oSettings._iDisplayEnd=oSettings._iDisplayStart+oSettings._iDisplayLength}}}function _fnFeatureHtmlPaginate(oSettings){if(oSettings.oScroll.bInfinite){return null}var nPaginate=document.createElement("div");nPaginate.className=oSettings.oClasses.sPaging+oSettings.sPaginationType;DataTable.ext.oPagination[oSettings.sPaginationType].fnInit(oSettings,nPaginate,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)});if(!oSettings.aanFeatures.p){oSettings.aoDrawCallback.push({fn:function(oSettings){DataTable.ext.oPagination[oSettings.sPaginationType].fnUpdate(oSettings,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)})},sName:"pagination"})}return nPaginate}function _fnPageChange(oSettings,mAction){var iOldStart=oSettings._iDisplayStart;if(typeof mAction==="number"){oSettings._iDisplayStart=mAction*oSettings._iDisplayLength;if(oSettings._iDisplayStart>oSettings.fnRecordsDisplay()){oSettings._iDisplayStart=0}}else{if(mAction=="first"){oSettings._iDisplayStart=0}else{if(mAction=="previous"){oSettings._iDisplayStart=oSettings._iDisplayLength>=0?oSettings._iDisplayStart-oSettings._iDisplayLength:0;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}else{if(mAction=="next"){if(oSettings._iDisplayLength>=0){if(oSettings._iDisplayStart+oSettings._iDisplayLength<oSettings.fnRecordsDisplay()){oSettings._iDisplayStart+=oSettings._iDisplayLength}}else{oSettings._iDisplayStart=0}}else{if(mAction=="last"){if(oSettings._iDisplayLength>=0){var iPages=parseInt((oSettings.fnRecordsDisplay()-1)/oSettings._iDisplayLength,10)+1;oSettings._iDisplayStart=(iPages-1)*oSettings._iDisplayLength}else{oSettings._iDisplayStart=0}}else{_fnLog(oSettings,0,"Unknown paging action: "+mAction)}}}}}$(oSettings.oInstance).trigger("page",oSettings);return iOldStart!=oSettings._iDisplayStart}function _fnFeatureHtmlProcessing(oSettings){var nProcessing=document.createElement("div");if(!oSettings.aanFeatures.r){nProcessing.id=oSettings.sTableId+"_processing"}nProcessing.innerHTML=oSettings.oLanguage.sProcessing;nProcessing.className=oSettings.oClasses.sProcessing;oSettings.nTable.parentNode.insertBefore(nProcessing,oSettings.nTable);return nProcessing}function _fnProcessingDisplay(oSettings,bShow){if(oSettings.oFeatures.bProcessing){var an=oSettings.aanFeatures.r;for(var i=0,iLen=an.length;i<iLen;i++){an[i].style.visibility=bShow?"visible":"hidden"}}$(oSettings.oInstance).trigger("processing",[oSettings,bShow])}function _fnFeatureHtmlTable(oSettings){if(oSettings.oScroll.sX===""&&oSettings.oScroll.sY===""){return oSettings.nTable}var nScroller=document.createElement("div"),nScrollHead=document.createElement("div"),nScrollHeadInner=document.createElement("div"),nScrollBody=document.createElement("div"),nScrollFoot=document.createElement("div"),nScrollFootInner=document.createElement("div"),nScrollHeadTable=oSettings.nTable.cloneNode(false),nScrollFootTable=oSettings.nTable.cloneNode(false),nThead=oSettings.nTable.getElementsByTagName("thead")[0],nTfoot=oSettings.nTable.getElementsByTagName("tfoot").length===0?null:oSettings.nTable.getElementsByTagName("tfoot")[0],oClasses=oSettings.oClasses;nScrollHead.appendChild(nScrollHeadInner);nScrollFoot.appendChild(nScrollFootInner);nScrollBody.appendChild(oSettings.nTable);nScroller.appendChild(nScrollHead);nScroller.appendChild(nScrollBody);nScrollHeadInner.appendChild(nScrollHeadTable);nScrollHeadTable.appendChild(nThead);if(nTfoot!==null){nScroller.appendChild(nScrollFoot);nScrollFootInner.appendChild(nScrollFootTable);nScrollFootTable.appendChild(nTfoot)}nScroller.className=oClasses.sScrollWrapper;nScrollHead.className=oClasses.sScrollHead;nScrollHeadInner.className=oClasses.sScrollHeadInner;nScrollBody.className=oClasses.sScrollBody;nScrollFoot.className=oClasses.sScrollFoot;nScrollFootInner.className=oClasses.sScrollFootInner;if(oSettings.oScroll.bAutoCss){nScrollHead.style.overflow="hidden";nScrollHead.style.position="relative";nScrollFoot.style.overflow="hidden";nScrollBody.style.overflow="auto"}nScrollHead.style.border="0";nScrollHead.style.width="100%";nScrollFoot.style.border="0";nScrollHeadInner.style.width=oSettings.oScroll.sXInner!==""?oSettings.oScroll.sXInner:"100%";nScrollHeadTable.removeAttribute("id");nScrollHeadTable.style.marginLeft="0";oSettings.nTable.style.marginLeft="0";if(nTfoot!==null){nScrollFootTable.removeAttribute("id");nScrollFootTable.style.marginLeft="0"}var nCaption=$(oSettings.nTable).children("caption");if(nCaption.length>0){nCaption=nCaption[0];if(nCaption._captionSide==="top"){nScrollHeadTable.appendChild(nCaption)}else{if(nCaption._captionSide==="bottom"&&nTfoot){nScrollFootTable.appendChild(nCaption)}}}if(oSettings.oScroll.sX!==""){nScrollHead.style.width=_fnStringToCss(oSettings.oScroll.sX);nScrollBody.style.width=_fnStringToCss(oSettings.oScroll.sX);if(nTfoot!==null){nScrollFoot.style.width=_fnStringToCss(oSettings.oScroll.sX)}$(nScrollBody).scroll(function(e){nScrollHead.scrollLeft=this.scrollLeft;if(nTfoot!==null){nScrollFoot.scrollLeft=this.scrollLeft}})}if(oSettings.oScroll.sY!==""){nScrollBody.style.height=_fnStringToCss(oSettings.oScroll.sY)}oSettings.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"});if(oSettings.oScroll.bInfinite){$(nScrollBody).scroll(function(){if(!oSettings.bDrawing&&$(this).scrollTop()!==0){if($(this).scrollTop()+$(this).height()>$(oSettings.nTable).height()-oSettings.oScroll.iLoadGap){if(oSettings.fnDisplayEnd()<oSettings.fnRecordsDisplay()){_fnPageChange(oSettings,"next");_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}}})}oSettings.nScrollHead=nScrollHead;oSettings.nScrollFoot=nScrollFoot;return nScroller}function _fnScrollDraw(o){var nScrollHeadInner=o.nScrollHead.getElementsByTagName("div")[0],nScrollHeadTable=nScrollHeadInner.getElementsByTagName("table")[0],nScrollBody=o.nTable.parentNode,i,iLen,j,jLen,anHeadToSize,anHeadSizers,anFootSizers,anFootToSize,oStyle,iVis,nTheadSize,nTfootSize,iWidth,aApplied=[],aAppliedFooter=[],iSanityWidth,nScrollFootInner=(o.nTFoot!==null)?o.nScrollFoot.getElementsByTagName("div")[0]:null,nScrollFootTable=(o.nTFoot!==null)?nScrollFootInner.getElementsByTagName("table")[0]:null,ie67=o.oBrowser.bScrollOversize,zeroOut=function(nSizer){oStyle=nSizer.style;oStyle.paddingTop="0";oStyle.paddingBottom="0";oStyle.borderTopWidth="0";oStyle.borderBottomWidth="0";oStyle.height=0};$(o.nTable).children("thead, tfoot").remove();nTheadSize=$(o.nTHead).clone()[0];o.nTable.insertBefore(nTheadSize,o.nTable.childNodes[0]);anHeadToSize=o.nTHead.getElementsByTagName("tr");anHeadSizers=nTheadSize.getElementsByTagName("tr");if(o.nTFoot!==null){nTfootSize=$(o.nTFoot).clone()[0];o.nTable.insertBefore(nTfootSize,o.nTable.childNodes[1]);anFootToSize=o.nTFoot.getElementsByTagName("tr");anFootSizers=nTfootSize.getElementsByTagName("tr")}if(o.oScroll.sX===""){nScrollBody.style.width="100%";nScrollHeadInner.parentNode.style.width="100%"}var nThs=_fnGetUniqueThs(o,nTheadSize);for(i=0,iLen=nThs.length;i<iLen;i++){iVis=_fnVisibleToColumnIndex(o,i);nThs[i].style.width=o.aoColumns[iVis].sWidth}if(o.nTFoot!==null){_fnApplyToChildren(function(n){n.style.width=""},anFootSizers)}if(o.oScroll.bCollapse&&o.oScroll.sY!==""){nScrollBody.style.height=(nScrollBody.offsetHeight+o.nTHead.offsetHeight)+"px"}iSanityWidth=$(o.nTable).outerWidth();if(o.oScroll.sX===""){o.nTable.style.width="100%";if(ie67&&($("tbody",nScrollBody).height()>nScrollBody.offsetHeight||$(nScrollBody).css("overflow-y")=="scroll")){o.nTable.style.width=_fnStringToCss($(o.nTable).outerWidth()-o.oScroll.iBarWidth)}}else{if(o.oScroll.sXInner!==""){o.nTable.style.width=_fnStringToCss(o.oScroll.sXInner)}else{if(iSanityWidth==$(nScrollBody).width()&&$(nScrollBody).height()<$(o.nTable).height()){o.nTable.style.width=_fnStringToCss(iSanityWidth-o.oScroll.iBarWidth);if($(o.nTable).outerWidth()>iSanityWidth-o.oScroll.iBarWidth){o.nTable.style.width=_fnStringToCss(iSanityWidth)}}else{o.nTable.style.width=_fnStringToCss(iSanityWidth)}}}iSanityWidth=$(o.nTable).outerWidth();_fnApplyToChildren(zeroOut,anHeadSizers);_fnApplyToChildren(function(nSizer){aApplied.push(_fnStringToCss($(nSizer).width()))},anHeadSizers);_fnApplyToChildren(function(nToSize,i){nToSize.style.width=aApplied[i]},anHeadToSize);$(anHeadSizers).height(0);if(o.nTFoot!==null){_fnApplyToChildren(zeroOut,anFootSizers);_fnApplyToChildren(function(nSizer){aAppliedFooter.push(_fnStringToCss($(nSizer).width()))},anFootSizers);_fnApplyToChildren(function(nToSize,i){nToSize.style.width=aAppliedFooter[i]},anFootToSize);$(anFootSizers).height(0)}_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML="";nSizer.style.width=aApplied[i]},anHeadSizers);if(o.nTFoot!==null){_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML="";nSizer.style.width=aAppliedFooter[i]},anFootSizers)}if($(o.nTable).outerWidth()<iSanityWidth){var iCorrection=((nScrollBody.scrollHeight>nScrollBody.offsetHeight||$(nScrollBody).css("overflow-y")=="scroll"))?iSanityWidth+o.oScroll.iBarWidth:iSanityWidth;if(ie67&&(nScrollBody.scrollHeight>nScrollBody.offsetHeight||$(nScrollBody).css("overflow-y")=="scroll")){o.nTable.style.width=_fnStringToCss(iCorrection-o.oScroll.iBarWidth)}nScrollBody.style.width=_fnStringToCss(iCorrection);o.nScrollHead.style.width=_fnStringToCss(iCorrection);if(o.nTFoot!==null){o.nScrollFoot.style.width=_fnStringToCss(iCorrection)}if(o.oScroll.sX===""){_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width.")}else{if(o.oScroll.sXInner!==""){_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}}}else{nScrollBody.style.width=_fnStringToCss("100%");o.nScrollHead.style.width=_fnStringToCss("100%");if(o.nTFoot!==null){o.nScrollFoot.style.width=_fnStringToCss("100%")}}if(o.oScroll.sY===""){if(ie67){nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+o.oScroll.iBarWidth)}}if(o.oScroll.sY!==""&&o.oScroll.bCollapse){nScrollBody.style.height=_fnStringToCss(o.oScroll.sY);var iExtra=(o.oScroll.sX!==""&&o.nTable.offsetWidth>nScrollBody.offsetWidth)?o.oScroll.iBarWidth:0;if(o.nTable.offsetHeight<nScrollBody.offsetHeight){nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+iExtra)}}var iOuterWidth=$(o.nTable).outerWidth();nScrollHeadTable.style.width=_fnStringToCss(iOuterWidth);nScrollHeadInner.style.width=_fnStringToCss(iOuterWidth);var bScrolling=$(o.nTable).height()>nScrollBody.clientHeight||$(nScrollBody).css("overflow-y")=="scroll";nScrollHeadInner.style.paddingRight=bScrolling?o.oScroll.iBarWidth+"px":"0px";if(o.nTFoot!==null){nScrollFootTable.style.width=_fnStringToCss(iOuterWidth);nScrollFootInner.style.width=_fnStringToCss(iOuterWidth);nScrollFootInner.style.paddingRight=bScrolling?o.oScroll.iBarWidth+"px":"0px"}$(nScrollBody).scroll();if(o.bSorted||o.bFiltered){nScrollBody.scrollTop=0}}function _fnApplyToChildren(fn,an1,an2){var index=0,i=0,iLen=an1.length;var nNode1,nNode2;while(i<iLen){nNode1=an1[i].firstChild;nNode2=an2?an2[i].firstChild:null;while(nNode1){if(nNode1.nodeType===1){if(an2){fn(nNode1,nNode2,index)}else{fn(nNode1,index)}index++}nNode1=nNode1.nextSibling;nNode2=an2?nNode2.nextSibling:null}i++}}function _fnConvertToWidth(sWidth,nParent){if(!sWidth||sWidth===null||sWidth===""){return 0}if(!nParent){nParent=document.body}var iWidth;var nTmp=document.createElement("div");nTmp.style.width=_fnStringToCss(sWidth);nParent.appendChild(nTmp);iWidth=nTmp.offsetWidth;nParent.removeChild(nTmp);return(iWidth)}function _fnCalculateColumnWidths(oSettings){var iTableWidth=oSettings.nTable.offsetWidth;var iUserInputs=0;var iTmpWidth;var iVisibleColumns=0;var iColums=oSettings.aoColumns.length;var i,iIndex,iCorrector,iWidth;var oHeaders=$("th",oSettings.nTHead);var widthAttr=oSettings.nTable.getAttribute("width");var nWrapper=oSettings.nTable.parentNode;for(i=0;i<iColums;i++){if(oSettings.aoColumns[i].bVisible){iVisibleColumns++;if(oSettings.aoColumns[i].sWidth!==null){iTmpWidth=_fnConvertToWidth(oSettings.aoColumns[i].sWidthOrig,nWrapper);if(iTmpWidth!==null){oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth)}iUserInputs++}}}if(iColums==oHeaders.length&&iUserInputs===0&&iVisibleColumns==iColums&&oSettings.oScroll.sX===""&&oSettings.oScroll.sY===""){for(i=0;i<oSettings.aoColumns.length;i++){iTmpWidth=$(oHeaders[i]).width();if(iTmpWidth!==null){oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth)}}}else{var nCalcTmp=oSettings.nTable.cloneNode(false),nTheadClone=oSettings.nTHead.cloneNode(true),nBody=document.createElement("tbody"),nTr=document.createElement("tr"),nDivSizing;nCalcTmp.removeAttribute("id");nCalcTmp.appendChild(nTheadClone);if(oSettings.nTFoot!==null){nCalcTmp.appendChild(oSettings.nTFoot.cloneNode(true));_fnApplyToChildren(function(n){n.style.width=""},nCalcTmp.getElementsByTagName("tr"))}nCalcTmp.appendChild(nBody);nBody.appendChild(nTr);var jqColSizing=$("thead th",nCalcTmp);if(jqColSizing.length===0){jqColSizing=$("tbody tr:eq(0)>td",nCalcTmp)}var nThs=_fnGetUniqueThs(oSettings,nTheadClone);iCorrector=0;for(i=0;i<iColums;i++){var oColumn=oSettings.aoColumns[i];if(oColumn.bVisible&&oColumn.sWidthOrig!==null&&oColumn.sWidthOrig!==""){nThs[i-iCorrector].style.width=_fnStringToCss(oColumn.sWidthOrig)}else{if(oColumn.bVisible){nThs[i-iCorrector].style.width=""}else{iCorrector++}}}for(i=0;i<iColums;i++){if(oSettings.aoColumns[i].bVisible){var nTd=_fnGetWidestNode(oSettings,i);if(nTd!==null){nTd=nTd.cloneNode(true);if(oSettings.aoColumns[i].sContentPadding!==""){nTd.innerHTML+=oSettings.aoColumns[i].sContentPadding}nTr.appendChild(nTd)}}}nWrapper.appendChild(nCalcTmp);if(oSettings.oScroll.sX!==""&&oSettings.oScroll.sXInner!==""){nCalcTmp.style.width=_fnStringToCss(oSettings.oScroll.sXInner)}else{if(oSettings.oScroll.sX!==""){nCalcTmp.style.width="";if($(nCalcTmp).width()<nWrapper.offsetWidth){nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth)}}else{if(oSettings.oScroll.sY!==""){nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth)}else{if(widthAttr){nCalcTmp.style.width=_fnStringToCss(widthAttr)}}}}nCalcTmp.style.visibility="hidden";_fnScrollingWidthAdjust(oSettings,nCalcTmp);var oNodes=$("tbody tr:eq(0)",nCalcTmp).children();if(oNodes.length===0){oNodes=_fnGetUniqueThs(oSettings,$("thead",nCalcTmp)[0])}if(oSettings.oScroll.sX!==""){var iTotal=0;iCorrector=0;for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible){if(oSettings.aoColumns[i].sWidthOrig===null){iTotal+=$(oNodes[iCorrector]).outerWidth()}else{iTotal+=parseInt(oSettings.aoColumns[i].sWidth.replace("px",""),10)+($(oNodes[iCorrector]).outerWidth()-$(oNodes[iCorrector]).width())}iCorrector++}}nCalcTmp.style.width=_fnStringToCss(iTotal);oSettings.nTable.style.width=_fnStringToCss(iTotal)}iCorrector=0;for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible){iWidth=$(oNodes[iCorrector]).width();if(iWidth!==null&&iWidth>0){oSettings.aoColumns[i].sWidth=_fnStringToCss(iWidth)}iCorrector++}}var cssWidth=$(nCalcTmp).css("width");oSettings.nTable.style.width=(cssWidth.indexOf("%")!==-1)?cssWidth:_fnStringToCss($(nCalcTmp).outerWidth());nCalcTmp.parentNode.removeChild(nCalcTmp)}if(widthAttr){oSettings.nTable.style.width=_fnStringToCss(widthAttr)}}function _fnScrollingWidthAdjust(oSettings,n){if(oSettings.oScroll.sX===""&&oSettings.oScroll.sY!==""){var iOrigWidth=$(n).width();n.style.width=_fnStringToCss($(n).outerWidth()-oSettings.oScroll.iBarWidth)}else{if(oSettings.oScroll.sX!==""){n.style.width=_fnStringToCss($(n).outerWidth())}}}function _fnGetWidestNode(oSettings,iCol){var iMaxIndex=_fnGetMaxLenString(oSettings,iCol);if(iMaxIndex<0){return null}if(oSettings.aoData[iMaxIndex].nTr===null){var n=document.createElement("td");n.innerHTML=_fnGetCellData(oSettings,iMaxIndex,iCol,"");return n}return _fnGetTdNodes(oSettings,iMaxIndex)[iCol]}function _fnGetMaxLenString(oSettings,iCol){var iMax=-1;var iMaxIndex=-1;for(var i=0;i<oSettings.aoData.length;i++){var s=_fnGetCellData(oSettings,i,iCol,"display")+"";s=s.replace(/<.*?>/g,"");if(s.length>iMax){iMax=s.length;iMaxIndex=i}}return iMaxIndex}function _fnStringToCss(s){if(s===null){return"0px"}if(typeof s=="number"){if(s<0){return"0px"}return s+"px"}var c=s.charCodeAt(s.length-1);if(c<48||c>57){return s}return s+"px"}function _fnScrollBarWidth(){var inner=document.createElement("p");var style=inner.style;style.width="100%";style.height="200px";style.padding="0px";var outer=document.createElement("div");style=outer.style;style.position="absolute";style.top="0px";style.left="0px";style.visibility="hidden";style.width="200px";style.height="150px";style.padding="0px";style.overflow="hidden";outer.appendChild(inner);document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;if(w1==w2){w2=outer.clientWidth}document.body.removeChild(outer);return(w1-w2)}function _fnSort(oSettings,bApplyClasses){var i,iLen,j,jLen,k,kLen,sDataType,nTh,aaSort=[],aiOrig=[],oSort=DataTable.ext.oSort,aoData=oSettings.aoData,aoColumns=oSettings.aoColumns,oAria=oSettings.oLanguage.oAria;if(!oSettings.oFeatures.bServerSide&&(oSettings.aaSorting.length!==0||oSettings.aaSortingFixed!==null)){aaSort=(oSettings.aaSortingFixed!==null)?oSettings.aaSortingFixed.concat(oSettings.aaSorting):oSettings.aaSorting.slice();for(i=0;i<aaSort.length;i++){var iColumn=aaSort[i][0];var iVisColumn=_fnColumnIndexToVisible(oSettings,iColumn);sDataType=oSettings.aoColumns[iColumn].sSortDataType;if(DataTable.ext.afnSortData[sDataType]){var aData=DataTable.ext.afnSortData[sDataType].call(oSettings.oInstance,oSettings,iColumn,iVisColumn);if(aData.length===aoData.length){for(j=0,jLen=aoData.length;j<jLen;j++){_fnSetCellData(oSettings,j,iColumn,aData[j])}}else{_fnLog(oSettings,0,"Returned data sort array (col "+iColumn+") is the wrong length")}}}for(i=0,iLen=oSettings.aiDisplayMaster.length;i<iLen;i++){aiOrig[oSettings.aiDisplayMaster[i]]=i}var iSortLen=aaSort.length;var fnSortFormat,aDataSort;for(i=0,iLen=aoData.length;i<iLen;i++){for(j=0;j<iSortLen;j++){aDataSort=aoColumns[aaSort[j][0]].aDataSort;for(k=0,kLen=aDataSort.length;k<kLen;k++){sDataType=aoColumns[aDataSort[k]].sType;fnSortFormat=oSort[(sDataType?sDataType:"string")+"-pre"];aoData[i]._aSortData[aDataSort[k]]=fnSortFormat?fnSortFormat(_fnGetCellData(oSettings,i,aDataSort[k],"sort")):_fnGetCellData(oSettings,i,aDataSort[k],"sort")}}}oSettings.aiDisplayMaster.sort(function(a,b){var k,l,lLen,iTest,aDataSort,sDataType;for(k=0;k<iSortLen;k++){aDataSort=aoColumns[aaSort[k][0]].aDataSort;for(l=0,lLen=aDataSort.length;l<lLen;l++){sDataType=aoColumns[aDataSort[l]].sType;iTest=oSort[(sDataType?sDataType:"string")+"-"+aaSort[k][1]](aoData[a]._aSortData[aDataSort[l]],aoData[b]._aSortData[aDataSort[l]]);if(iTest!==0){return iTest}}}return oSort["numeric-asc"](aiOrig[a],aiOrig[b])})}if((bApplyClasses===undefined||bApplyClasses)&&!oSettings.oFeatures.bDeferRender){_fnSortingClasses(oSettings)}for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){var sTitle=aoColumns[i].sTitle.replace(/<.*?>/g,"");nTh=aoColumns[i].nTh;nTh.removeAttribute("aria-sort");nTh.removeAttribute("aria-label");if(aoColumns[i].bSortable){if(aaSort.length>0&&aaSort[0][0]==i){nTh.setAttribute("aria-sort",aaSort[0][1]=="asc"?"ascending":"descending");var nextSort=(aoColumns[i].asSorting[aaSort[0][2]+1])?aoColumns[i].asSorting[aaSort[0][2]+1]:aoColumns[i].asSorting[0];nTh.setAttribute("aria-label",sTitle+(nextSort=="asc"?oAria.sSortAscending:oAria.sSortDescending))}else{nTh.setAttribute("aria-label",sTitle+(aoColumns[i].asSorting[0]=="asc"?oAria.sSortAscending:oAria.sSortDescending))}}else{nTh.setAttribute("aria-label",sTitle)}}oSettings.bSorted=true;$(oSettings.oInstance).trigger("sort",oSettings);if(oSettings.oFeatures.bFilter){_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}function _fnSortAttachListener(oSettings,nNode,iDataIndex,fnCallback){_fnBindAction(nNode,{},function(e){if(oSettings.aoColumns[iDataIndex].bSortable===false){return}var fnInnerSorting=function(){var iColumn,iNextSort;if(e.shiftKey){var bFound=false;for(var i=0;i<oSettings.aaSorting.length;i++){if(oSettings.aaSorting[i][0]==iDataIndex){bFound=true;iColumn=oSettings.aaSorting[i][0];iNextSort=oSettings.aaSorting[i][2]+1;if(!oSettings.aoColumns[iColumn].asSorting[iNextSort]){oSettings.aaSorting.splice(i,1)}else{oSettings.aaSorting[i][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[i][2]=iNextSort}break}}if(bFound===false){oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}}else{if(oSettings.aaSorting.length==1&&oSettings.aaSorting[0][0]==iDataIndex){iColumn=oSettings.aaSorting[0][0];iNextSort=oSettings.aaSorting[0][2]+1;if(!oSettings.aoColumns[iColumn].asSorting[iNextSort]){iNextSort=0}oSettings.aaSorting[0][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[0][2]=iNextSort}else{oSettings.aaSorting.splice(0,oSettings.aaSorting.length);oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}}_fnSort(oSettings)};if(!oSettings.oFeatures.bProcessing){fnInnerSorting()}else{_fnProcessingDisplay(oSettings,true);setTimeout(function(){fnInnerSorting();if(!oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false)}},0)}if(typeof fnCallback=="function"){fnCallback(oSettings)}})}function _fnSortingClasses(oSettings){var i,iLen,j,jLen,iFound;var aaSort,sClass;var iColumns=oSettings.aoColumns.length;var oClasses=oSettings.oClasses;for(i=0;i<iColumns;i++){if(oSettings.aoColumns[i].bSortable){$(oSettings.aoColumns[i].nTh).removeClass(oClasses.sSortAsc+" "+oClasses.sSortDesc+" "+oSettings.aoColumns[i].sSortingClass)}}if(oSettings.aaSortingFixed!==null){aaSort=oSettings.aaSortingFixed.concat(oSettings.aaSorting)}else{aaSort=oSettings.aaSorting.slice()}for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bSortable){sClass=oSettings.aoColumns[i].sSortingClass;iFound=-1;for(j=0;j<aaSort.length;j++){if(aaSort[j][0]==i){sClass=(aaSort[j][1]=="asc")?oClasses.sSortAsc:oClasses.sSortDesc;iFound=j;break}}$(oSettings.aoColumns[i].nTh).addClass(sClass);if(oSettings.bJUI){var jqSpan=$("span."+oClasses.sSortIcon,oSettings.aoColumns[i].nTh);jqSpan.removeClass(oClasses.sSortJUIAsc+" "+oClasses.sSortJUIDesc+" "+oClasses.sSortJUI+" "+oClasses.sSortJUIAscAllowed+" "+oClasses.sSortJUIDescAllowed);var sSpanClass;if(iFound==-1){sSpanClass=oSettings.aoColumns[i].sSortingClassJUI}else{if(aaSort[iFound][1]=="asc"){sSpanClass=oClasses.sSortJUIAsc}else{sSpanClass=oClasses.sSortJUIDesc}}jqSpan.addClass(sSpanClass)}}else{$(oSettings.aoColumns[i].nTh).addClass(oSettings.aoColumns[i].sSortingClass)}}sClass=oClasses.sSortColumn;if(oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){var nTds=_fnGetTdNodes(oSettings);var iClass,iTargetCol;var asClasses=[];for(i=0;i<iColumns;i++){asClasses.push("")}for(i=0,iClass=1;i<aaSort.length;i++){iTargetCol=parseInt(aaSort[i][0],10);asClasses[iTargetCol]=sClass+iClass;if(iClass<3){iClass++}}var reClass=new RegExp(sClass+"[123]");var sTmpClass,sCurrentClass,sNewClass;for(i=0,iLen=nTds.length;i<iLen;i++){iTargetCol=i%iColumns;sCurrentClass=nTds[i].className;sNewClass=asClasses[iTargetCol];sTmpClass=sCurrentClass.replace(reClass,sNewClass);if(sTmpClass!=sCurrentClass){nTds[i].className=$.trim(sTmpClass)}else{if(sNewClass.length>0&&sCurrentClass.indexOf(sNewClass)==-1){nTds[i].className=sCurrentClass+" "+sNewClass}}}}}function _fnSaveState(oSettings){if(!oSettings.oFeatures.bStateSave||oSettings.bDestroying){return}var i,iLen,bInfinite=oSettings.oScroll.bInfinite;var oState={iCreate:new Date().getTime(),iStart:(bInfinite?0:oSettings._iDisplayStart),iEnd:(bInfinite?oSettings._iDisplayLength:oSettings._iDisplayEnd),iLength:oSettings._iDisplayLength,aaSorting:$.extend(true,[],oSettings.aaSorting),oSearch:$.extend(true,{},oSettings.oPreviousSearch),aoSearchCols:$.extend(true,[],oSettings.aoPreSearchCols),abVisCols:[]};for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oState.abVisCols.push(oSettings.aoColumns[i].bVisible)}_fnCallbackFire(oSettings,"aoStateSaveParams","stateSaveParams",[oSettings,oState]);oSettings.fnStateSave.call(oSettings.oInstance,oSettings,oState)}function _fnLoadState(oSettings,oInit){if(!oSettings.oFeatures.bStateSave){return}var oData=oSettings.fnStateLoad.call(oSettings.oInstance,oSettings);if(!oData){return}var abStateLoad=_fnCallbackFire(oSettings,"aoStateLoadParams","stateLoadParams",[oSettings,oData]);if($.inArray(false,abStateLoad)!==-1){return}oSettings.oLoadedState=$.extend(true,{},oData);oSettings._iDisplayStart=oData.iStart;oSettings.iInitDisplayStart=oData.iStart;oSettings._iDisplayEnd=oData.iEnd;oSettings._iDisplayLength=oData.iLength;oSettings.aaSorting=oData.aaSorting.slice();oSettings.saved_aaSorting=oData.aaSorting.slice();$.extend(oSettings.oPreviousSearch,oData.oSearch);$.extend(true,oSettings.aoPreSearchCols,oData.aoSearchCols);oInit.saved_aoColumns=[];for(var i=0;i<oData.abVisCols.length;i++){oInit.saved_aoColumns[i]={};oInit.saved_aoColumns[i].bVisible=oData.abVisCols[i]}_fnCallbackFire(oSettings,"aoStateLoaded","stateLoaded",[oSettings,oData])}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date();date.setTime(date.getTime()+(iSecs*1000));var aParts=window.location.pathname.split("/");var sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase();var sFullCookie,oData;if(fnCallback!==null){oData=(typeof $.parseJSON==="function")?$.parseJSON(sValue):eval("("+sValue+")");sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")}else{sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/"}var aCookies=document.cookie.split(";"),iNewCookieLen=sFullCookie.split(";")[0].length,aOldCookies=[];if(iNewCookieLen+document.cookie.length+10>4096){for(var i=0,iLen=aCookies.length;i<iLen;i++){if(aCookies[i].indexOf(sBaseName)!=-1){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")");if(oData&&oData.iCreate){aOldCookies.push({name:aSplitCookie[0],time:oData.iCreate})}}catch(e){}}}aOldCookies.sort(function(a,b){return b.time-a.time});while(iNewCookieLen+document.cookie.length+10>4096){if(aOldCookies.length===0){return}var old=aOldCookies.pop();document.cookie=old.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(sName){var aParts=window.location.pathname.split("/"),sNameEQ=sName+"_"+aParts[aParts.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",sCookieContents=document.cookie.split(";");for(var i=0;i<sCookieContents.length;i++){var c=sCookieContents[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(sNameEQ)===0){return decodeURIComponent(c.substring(sNameEQ.length,c.length))}}return null}function _fnSettingsFromNode(nTable){for(var i=0;i<DataTable.settings.length;i++){if(DataTable.settings[i].nTable===nTable){return DataTable.settings[i]}}return null}function _fnGetTrNodes(oSettings){var aNodes=[];var aoData=oSettings.aoData;for(var i=0,iLen=aoData.length;i<iLen;i++){if(aoData[i].nTr!==null){aNodes.push(aoData[i].nTr)}}return aNodes}function _fnGetTdNodes(oSettings,iIndividualRow){var anReturn=[];var iCorrector;var anTds,nTd;var iRow,iRows=oSettings.aoData.length,iColumn,iColumns,oData,sNodeName,iStart=0,iEnd=iRows;if(iIndividualRow!==undefined){iStart=iIndividualRow;iEnd=iIndividualRow+1}for(iRow=iStart;iRow<iEnd;iRow++){oData=oSettings.aoData[iRow];if(oData.nTr!==null){anTds=[];nTd=oData.nTr.firstChild;while(nTd){sNodeName=nTd.nodeName.toLowerCase();if(sNodeName=="td"||sNodeName=="th"){anTds.push(nTd)}nTd=nTd.nextSibling}iCorrector=0;for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumn<iColumns;iColumn++){if(oSettings.aoColumns[iColumn].bVisible){anReturn.push(anTds[iColumn-iCorrector])}else{anReturn.push(oData._anHidden[iColumn]);iCorrector++}}}}return anReturn}function _fnLog(oSettings,iLevel,sMesg){var sAlert=(oSettings===null)?"DataTables warning: "+sMesg:"DataTables warning (table id = '"+oSettings.sTableId+"'): "+sMesg;if(iLevel===0){if(DataTable.ext.sErrMode=="alert"){alert(sAlert)}else{throw new Error(sAlert)}return}else{if(window.console&&console.log){console.log(sAlert)}}}function _fnMap(oRet,oSrc,sName,sMappedName){if(sMappedName===undefined){sMappedName=sName}if(oSrc[sName]!==undefined){oRet[sMappedName]=oSrc[sName]}}function _fnExtend(oOut,oExtender){var val;for(var prop in oExtender){if(oExtender.hasOwnProperty(prop)){val=oExtender[prop];if(typeof oInit[prop]==="object"&&val!==null&&$.isArray(val)===false){$.extend(true,oOut[prop],val)}else{oOut[prop]=val}}}return oOut}function _fnBindAction(n,oData,fn){$(n).bind("click.DT",oData,function(e){n.blur();fn(e)}).bind("keypress.DT",oData,function(e){if(e.which===13){fn(e)}}).bind("selectstart.DT",function(){return false})}function _fnCallbackReg(oSettings,sStore,fn,sName){if(fn){oSettings[sStore].push({fn:fn,sName:sName})}}function _fnCallbackFire(oSettings,sStore,sTrigger,aArgs){var aoStore=oSettings[sStore];var aRet=[];for(var i=aoStore.length-1;i>=0;i--){aRet.push(aoStore[i].fn.apply(oSettings.oInstance,aArgs))}if(sTrigger!==null){$(oSettings.oInstance).trigger(sTrigger,aArgs)}return aRet}var _fnJsonString=(window.JSON)?JSON.stringify:function(o){var sType=typeof o;if(sType!=="object"||o===null){if(sType==="string"){o='"'+o+'"'}return o+""}var sProp,mValue,json=[],bArr=$.isArray(o);for(sProp in o){mValue=o[sProp];sType=typeof mValue;if(sType==="string"){mValue='"'+mValue+'"'}else{if(sType==="object"&&mValue!==null){mValue=_fnJsonString(mValue)}}json.push((bArr?"":'"'+sProp+'":')+mValue)}return(bArr?"[":"{")+json+(bArr?"]":"}")};function _fnBrowserDetect(oSettings){var n=$('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];document.body.appendChild(n);oSettings.oBrowser.bScrollOversize=$("#DT_BrowserTest",n)[0].offsetWidth===100?true:false;document.body.removeChild(n)}this.$=function(sSelector,oOpts){var i,iLen,a=[],tr;var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var aoData=oSettings.aoData;var aiDisplay=oSettings.aiDisplay;var aiDisplayMaster=oSettings.aiDisplayMaster;if(!oOpts){oOpts={}}oOpts=$.extend({},{filter:"none",order:"current",page:"all"},oOpts);if(oOpts.page=="current"){for(i=oSettings._iDisplayStart,iLen=oSettings.fnDisplayEnd();i<iLen;i++){tr=aoData[aiDisplay[i]].nTr;if(tr){a.push(tr)}}}else{if(oOpts.order=="current"&&oOpts.filter=="none"){for(i=0,iLen=aiDisplayMaster.length;i<iLen;i++){tr=aoData[aiDisplayMaster[i]].nTr;if(tr){a.push(tr)}}}else{if(oOpts.order=="current"&&oOpts.filter=="applied"){for(i=0,iLen=aiDisplay.length;i<iLen;i++){tr=aoData[aiDisplay[i]].nTr;if(tr){a.push(tr)}}}else{if(oOpts.order=="original"&&oOpts.filter=="none"){for(i=0,iLen=aoData.length;i<iLen;i++){tr=aoData[i].nTr;if(tr){a.push(tr)}}}else{if(oOpts.order=="original"&&oOpts.filter=="applied"){for(i=0,iLen=aoData.length;i<iLen;i++){tr=aoData[i].nTr;if($.inArray(i,aiDisplay)!==-1&&tr){a.push(tr)}}}else{_fnLog(oSettings,1,"Unknown selection options")}}}}}var jqA=$(a);var jqTRs=jqA.filter(sSelector);var jqDescendants=jqA.find(sSelector);return $([].concat($.makeArray(jqTRs),$.makeArray(jqDescendants)))};this._=function(sSelector,oOpts){var aOut=[];var i,iLen,iIndex;var aTrs=this.$(sSelector,oOpts);for(i=0,iLen=aTrs.length;i<iLen;i++){aOut.push(this.fnGetData(aTrs[i]))}return aOut};this.fnAddData=function(mData,bRedraw){if(mData.length===0){return[]}var aiReturn=[];var iTest;var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(typeof mData[0]==="object"&&mData[0]!==null){for(var i=0;i<mData.length;i++){iTest=_fnAddData(oSettings,mData[i]);if(iTest==-1){return aiReturn}aiReturn.push(iTest)}}else{iTest=_fnAddData(oSettings,mData);if(iTest==-1){return aiReturn}aiReturn.push(iTest)}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();if(bRedraw===undefined||bRedraw){_fnReDraw(oSettings)}return aiReturn};this.fnAdjustColumnSizing=function(bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(oSettings);if(bRedraw===undefined||bRedraw){this.fnDraw(false)}else{if(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!==""){this.oApi._fnScrollDraw(oSettings)}}};this.fnClearTable=function(bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(oSettings);if(bRedraw===undefined||bRedraw){_fnDraw(oSettings)}};this.fnClose=function(nTr){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);for(var i=0;i<oSettings.aoOpenRows.length;i++){if(oSettings.aoOpenRows[i].nParent==nTr){var nTrParent=oSettings.aoOpenRows[i].nTr.parentNode;if(nTrParent){nTrParent.removeChild(oSettings.aoOpenRows[i].nTr)}oSettings.aoOpenRows.splice(i,1);return 0}}return 1};this.fnDeleteRow=function(mTarget,fnCallBack,bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var i,iLen,iAODataIndex;iAODataIndex=(typeof mTarget==="object")?_fnNodeToDataIndex(oSettings,mTarget):mTarget;var oData=oSettings.aoData.splice(iAODataIndex,1);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){if(oSettings.aoData[i].nTr!==null){oSettings.aoData[i].nTr._DT_RowIndex=i}}var iDisplayIndex=$.inArray(iAODataIndex,oSettings.aiDisplay);oSettings.asDataSearch.splice(iDisplayIndex,1);_fnDeleteIndex(oSettings.aiDisplayMaster,iAODataIndex);_fnDeleteIndex(oSettings.aiDisplay,iAODataIndex);if(typeof fnCallBack==="function"){fnCallBack.call(this,oSettings,oData)}if(oSettings._iDisplayStart>=oSettings.fnRecordsDisplay()){oSettings._iDisplayStart-=oSettings._iDisplayLength;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}if(bRedraw===undefined||bRedraw){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}return oData};this.fnDestroy=function(bRemove){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var nOrig=oSettings.nTableWrapper.parentNode;var nBody=oSettings.nTBody;var i,iLen;bRemove=(bRemove===undefined)?false:bRemove;oSettings.bDestroying=true;_fnCallbackFire(oSettings,"aoDestroyCallback","destroy",[oSettings]);if(!bRemove){for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(oSettings.aoColumns[i].bVisible===false){this.fnSetColumnVis(i,true)}}}$(oSettings.nTableWrapper).find("*").andSelf().unbind(".DT");$("tbody>tr>td."+oSettings.oClasses.sRowEmpty,oSettings.nTable).parent().remove();if(oSettings.nTable!=oSettings.nTHead.parentNode){$(oSettings.nTable).children("thead").remove();oSettings.nTable.appendChild(oSettings.nTHead)}if(oSettings.nTFoot&&oSettings.nTable!=oSettings.nTFoot.parentNode){$(oSettings.nTable).children("tfoot").remove();oSettings.nTable.appendChild(oSettings.nTFoot)}oSettings.nTable.parentNode.removeChild(oSettings.nTable);$(oSettings.nTableWrapper).remove();oSettings.aaSorting=[];oSettings.aaSortingFixed=[];_fnSortingClasses(oSettings);$(_fnGetTrNodes(oSettings)).removeClass(oSettings.asStripeClasses.join(" "));$("th, td",oSettings.nTHead).removeClass([oSettings.oClasses.sSortable,oSettings.oClasses.sSortableAsc,oSettings.oClasses.sSortableDesc,oSettings.oClasses.sSortableNone].join(" "));if(oSettings.bJUI){$("th span."+oSettings.oClasses.sSortIcon+", td span."+oSettings.oClasses.sSortIcon,oSettings.nTHead).remove();$("th, td",oSettings.nTHead).each(function(){var jqWrapper=$("div."+oSettings.oClasses.sSortJUIWrapper,this);var kids=jqWrapper.contents();$(this).append(kids);jqWrapper.remove()})}if(!bRemove&&oSettings.nTableReinsertBefore){nOrig.insertBefore(oSettings.nTable,oSettings.nTableReinsertBefore)}else{if(!bRemove){nOrig.appendChild(oSettings.nTable)}}for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){if(oSettings.aoData[i].nTr!==null){nBody.appendChild(oSettings.aoData[i].nTr)}}if(oSettings.oFeatures.bAutoWidth===true){oSettings.nTable.style.width=_fnStringToCss(oSettings.sDestroyWidth)}iLen=oSettings.asDestroyStripes.length;if(iLen){var anRows=$(nBody).children("tr");for(i=0;i<iLen;i++){anRows.filter(":nth-child("+iLen+"n + "+i+")").addClass(oSettings.asDestroyStripes[i])}}for(i=0,iLen=DataTable.settings.length;i<iLen;i++){if(DataTable.settings[i]==oSettings){DataTable.settings.splice(i,1)}}oSettings=null;oInit=null};this.fnDraw=function(bComplete){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(bComplete===false){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}else{_fnReDraw(oSettings)}};this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal,bCaseInsensitive){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(!oSettings.oFeatures.bFilter){return}if(bRegex===undefined||bRegex===null){bRegex=false}if(bSmart===undefined||bSmart===null){bSmart=true}if(bShowGlobal===undefined||bShowGlobal===null){bShowGlobal=true}if(bCaseInsensitive===undefined||bCaseInsensitive===null){bCaseInsensitive=true}if(iColumn===undefined||iColumn===null){_fnFilterComplete(oSettings,{sSearch:sInput+"",bRegex:bRegex,bSmart:bSmart,bCaseInsensitive:bCaseInsensitive},1);if(bShowGlobal&&oSettings.aanFeatures.f){var n=oSettings.aanFeatures.f;for(var i=0,iLen=n.length;i<iLen;i++){try{if(n[i]._DT_Input!=document.activeElement){$(n[i]._DT_Input).val(sInput)}}catch(e){$(n[i]._DT_Input).val(sInput)}}}}else{$.extend(oSettings.aoPreSearchCols[iColumn],{sSearch:sInput+"",bRegex:bRegex,bSmart:bSmart,bCaseInsensitive:bCaseInsensitive});_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)}};this.fnGetData=function(mRow,iCol){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(mRow!==undefined){var iRow=mRow;if(typeof mRow==="object"){var sNode=mRow.nodeName.toLowerCase();if(sNode==="tr"){iRow=_fnNodeToDataIndex(oSettings,mRow)}else{if(sNode==="td"){iRow=_fnNodeToDataIndex(oSettings,mRow.parentNode);iCol=_fnNodeToColumnIndex(oSettings,iRow,mRow)}}}if(iCol!==undefined){return _fnGetCellData(oSettings,iRow,iCol,"")}return(oSettings.aoData[iRow]!==undefined)?oSettings.aoData[iRow]._aData:null}return _fnGetDataMaster(oSettings)};this.fnGetNodes=function(iRow){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(iRow!==undefined){return(oSettings.aoData[iRow]!==undefined)?oSettings.aoData[iRow].nTr:null}return _fnGetTrNodes(oSettings)};this.fnGetPosition=function(nNode){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var sNodeName=nNode.nodeName.toUpperCase();if(sNodeName=="TR"){return _fnNodeToDataIndex(oSettings,nNode)}else{if(sNodeName=="TD"||sNodeName=="TH"){var iDataIndex=_fnNodeToDataIndex(oSettings,nNode.parentNode);var iColumnIndex=_fnNodeToColumnIndex(oSettings,iDataIndex,nNode);return[iDataIndex,_fnColumnIndexToVisible(oSettings,iColumnIndex),iColumnIndex]}}return null};this.fnIsOpen=function(nTr){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var aoOpenRows=oSettings.aoOpenRows;for(var i=0;i<oSettings.aoOpenRows.length;i++){if(oSettings.aoOpenRows[i].nParent==nTr){return true}}return false};this.fnOpen=function(nTr,mHtml,sClass){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var nTableRows=_fnGetTrNodes(oSettings);if($.inArray(nTr,nTableRows)===-1){return}this.fnClose(nTr);var nNewRow=document.createElement("tr");var nNewCell=document.createElement("td");nNewRow.appendChild(nNewCell);nNewCell.className=sClass;nNewCell.colSpan=_fnVisbleColumns(oSettings);if(typeof mHtml==="string"){nNewCell.innerHTML=mHtml}else{$(nNewCell).html(mHtml)}var nTrs=$("tr",oSettings.nTBody);if($.inArray(nTr,nTrs)!=-1){$(nNewRow).insertAfter(nTr)}oSettings.aoOpenRows.push({nTr:nNewRow,nParent:nTr});return nNewRow};this.fnPageChange=function(mAction,bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(oSettings,mAction);_fnCalculateEnd(oSettings);if(bRedraw===undefined||bRedraw){_fnDraw(oSettings)}};this.fnSetColumnVis=function(iCol,bShow,bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var i,iLen;var aoColumns=oSettings.aoColumns;var aoData=oSettings.aoData;var nTd,bAppend,iBefore;if(aoColumns[iCol].bVisible==bShow){return}if(bShow){var iInsert=0;for(i=0;i<iCol;i++){if(aoColumns[i].bVisible){iInsert++}}bAppend=(iInsert>=_fnVisbleColumns(oSettings));if(!bAppend){for(i=iCol;i<aoColumns.length;i++){if(aoColumns[i].bVisible){iBefore=i;break}}}for(i=0,iLen=aoData.length;i<iLen;i++){if(aoData[i].nTr!==null){if(bAppend){aoData[i].nTr.appendChild(aoData[i]._anHidden[iCol])}else{aoData[i].nTr.insertBefore(aoData[i]._anHidden[iCol],_fnGetTdNodes(oSettings,i)[iBefore])}}}}else{for(i=0,iLen=aoData.length;i<iLen;i++){if(aoData[i].nTr!==null){nTd=_fnGetTdNodes(oSettings,i)[iCol];aoData[i]._anHidden[iCol]=nTd;nTd.parentNode.removeChild(nTd)}}}aoColumns[iCol].bVisible=bShow;_fnDrawHead(oSettings,oSettings.aoHeader);if(oSettings.nTFoot){_fnDrawHead(oSettings,oSettings.aoFooter)}for(i=0,iLen=oSettings.aoOpenRows.length;i<iLen;i++){oSettings.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(oSettings)}if(bRedraw===undefined||bRedraw){_fnAdjustColumnSizing(oSettings);_fnDraw(oSettings)}_fnSaveState(oSettings)};this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])};this.fnSort=function(aaSort){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);oSettings.aaSorting=aaSort;_fnSort(oSettings)};this.fnSortListener=function(nNode,iColumn,fnCallback){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),nNode,iColumn,fnCallback)};this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var i,iLen,sDisplay;var iRow=(typeof mRow==="object")?_fnNodeToDataIndex(oSettings,mRow):mRow;if($.isArray(mData)&&iColumn===undefined){oSettings.aoData[iRow]._aData=mData.slice();for(i=0;i<oSettings.aoColumns.length;i++){this.fnUpdate(_fnGetCellData(oSettings,iRow,i),iRow,i,false,false)}}else{if($.isPlainObject(mData)&&iColumn===undefined){oSettings.aoData[iRow]._aData=$.extend(true,{},mData);for(i=0;i<oSettings.aoColumns.length;i++){this.fnUpdate(_fnGetCellData(oSettings,iRow,i),iRow,i,false,false)}}else{_fnSetCellData(oSettings,iRow,iColumn,mData);sDisplay=_fnGetCellData(oSettings,iRow,iColumn,"display");var oCol=oSettings.aoColumns[iColumn];if(oCol.fnRender!==null){sDisplay=_fnRender(oSettings,iRow,iColumn);if(oCol.bUseRendered){_fnSetCellData(oSettings,iRow,iColumn,sDisplay)}}if(oSettings.aoData[iRow].nTr!==null){_fnGetTdNodes(oSettings,iRow)[iColumn].innerHTML=sDisplay}}}var iDisplayIndex=$.inArray(iRow,oSettings.aiDisplay);oSettings.asDataSearch[iDisplayIndex]=_fnBuildSearchRow(oSettings,_fnGetRowData(oSettings,iRow,"filter",_fnGetColumns(oSettings,"bSearchable")));if(bAction===undefined||bAction){_fnAdjustColumnSizing(oSettings)}if(bRedraw===undefined||bRedraw){_fnReDraw(oSettings)}return 0};this.fnVersionCheck=DataTable.ext.fnVersionCheck;function _fnExternApiFunc(sFunc){return function(){var aArgs=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[sFunc].apply(this,aArgs)}}this.oApi={_fnExternApiFunc:_fnExternApiFunc,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLanguageCompat:_fnLanguageCompat,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAddData:_fnAddData,_fnCreateTr:_fnCreateTr,_fnGatherData:_fnGatherData,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnServerParams:_fnServerParams,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnBuildSearchArray:_fnBuildSearchArray,_fnBuildSearchRow:_fnBuildSearchRow,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnDataToSearch:_fnDataToSearch,_fnSort:_fnSort,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnVisbleColumns:_fnVisbleColumns,_fnCalculateEnd:_fnCalculateEnd,_fnConvertToWidth:_fnConvertToWidth,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnScrollingWidthAdjust:_fnScrollingWidthAdjust,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnDetectType:_fnDetectType,_fnSettingsFromNode:_fnSettingsFromNode,_fnGetDataMaster:_fnGetDataMaster,_fnGetTrNodes:_fnGetTrNodes,_fnGetTdNodes:_fnGetTdNodes,_fnEscapeRegex:_fnEscapeRegex,_fnDeleteIndex:_fnDeleteIndex,_fnReOrderIndex:_fnReOrderIndex,_fnColumnOrdering:_fnColumnOrdering,_fnLog:_fnLog,_fnClearTable:_fnClearTable,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnCreateCookie:_fnCreateCookie,_fnReadCookie:_fnReadCookie,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnScrollBarWidth:_fnScrollBarWidth,_fnApplyToChildren:_fnApplyToChildren,_fnMap:_fnMap,_fnGetRowData:_fnGetRowData,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnBindAction:_fnBindAction,_fnExtend:_fnExtend,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnJsonString:_fnJsonString,_fnRender:_fnRender,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnInfoMacros:_fnInfoMacros,_fnBrowserDetect:_fnBrowserDetect,_fnGetColumns:_fnGetColumns};$.extend(DataTable.ext.oApi,this.oApi);for(var sFunc in DataTable.ext.oApi){if(sFunc){this[sFunc]=_fnExternApiFunc(sFunc)}}var _that=this;this.each(function(){var i=0,iLen,j,jLen,k,kLen;var sId=this.getAttribute("id");var bInitHandedOff=false;var bUsePassedData=false;if(this.nodeName.toLowerCase()!="table"){_fnLog(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);return}for(i=0,iLen=DataTable.settings.length;i<iLen;i++){if(DataTable.settings[i].nTable==this){if(oInit===undefined||oInit.bRetrieve){return DataTable.settings[i].oInstance}else{if(oInit.bDestroy){DataTable.settings[i].oInstance.fnDestroy();break}else{_fnLog(DataTable.settings[i],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}}}if(DataTable.settings[i].sTableId==this.id){DataTable.settings.splice(i,1);break}}if(sId===null||sId===""){sId="DataTables_Table_"+(DataTable.ext._oExternConfig.iNextUnique++);this.id=sId}var oSettings=$.extend(true,{},DataTable.models.oSettings,{nTable:this,oApi:_that.oApi,oInit:oInit,sDestroyWidth:$(this).width(),sInstance:sId,sTableId:sId});DataTable.settings.push(oSettings);oSettings.oInstance=(_that.length===1)?_that:$(this).dataTable();if(!oInit){oInit={}}if(oInit.oLanguage){_fnLanguageCompat(oInit.oLanguage)}oInit=_fnExtend($.extend(true,{},DataTable.defaults),oInit);_fnMap(oSettings.oFeatures,oInit,"bPaginate");_fnMap(oSettings.oFeatures,oInit,"bLengthChange");_fnMap(oSettings.oFeatures,oInit,"bFilter");_fnMap(oSettings.oFeatures,oInit,"bSort");_fnMap(oSettings.oFeatures,oInit,"bInfo");_fnMap(oSettings.oFeatures,oInit,"bProcessing");_fnMap(oSettings.oFeatures,oInit,"bAutoWidth");_fnMap(oSettings.oFeatures,oInit,"bSortClasses");_fnMap(oSettings.oFeatures,oInit,"bServerSide");_fnMap(oSettings.oFeatures,oInit,"bDeferRender");_fnMap(oSettings.oScroll,oInit,"sScrollX","sX");_fnMap(oSettings.oScroll,oInit,"sScrollXInner","sXInner");_fnMap(oSettings.oScroll,oInit,"sScrollY","sY");_fnMap(oSettings.oScroll,oInit,"bScrollCollapse","bCollapse");_fnMap(oSettings.oScroll,oInit,"bScrollInfinite","bInfinite");_fnMap(oSettings.oScroll,oInit,"iScrollLoadGap","iLoadGap");_fnMap(oSettings.oScroll,oInit,"bScrollAutoCss","bAutoCss");_fnMap(oSettings,oInit,"asStripeClasses");_fnMap(oSettings,oInit,"asStripClasses","asStripeClasses");_fnMap(oSettings,oInit,"fnServerData");_fnMap(oSettings,oInit,"fnFormatNumber");_fnMap(oSettings,oInit,"sServerMethod");_fnMap(oSettings,oInit,"aaSorting");_fnMap(oSettings,oInit,"aaSortingFixed");_fnMap(oSettings,oInit,"aLengthMenu");_fnMap(oSettings,oInit,"sPaginationType");_fnMap(oSettings,oInit,"sAjaxSource");_fnMap(oSettings,oInit,"sAjaxDataProp");_fnMap(oSettings,oInit,"iCookieDuration");_fnMap(oSettings,oInit,"sCookiePrefix");_fnMap(oSettings,oInit,"sDom");_fnMap(oSettings,oInit,"bSortCellsTop");_fnMap(oSettings,oInit,"iTabIndex");_fnMap(oSettings,oInit,"oSearch","oPreviousSearch");_fnMap(oSettings,oInit,"aoSearchCols","aoPreSearchCols");_fnMap(oSettings,oInit,"iDisplayLength","_iDisplayLength");_fnMap(oSettings,oInit,"bJQueryUI","bJUI");_fnMap(oSettings,oInit,"fnCookieCallback");_fnMap(oSettings,oInit,"fnStateLoad");_fnMap(oSettings,oInit,"fnStateSave");_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback");_fnCallbackReg(oSettings,"aoDrawCallback",oInit.fnDrawCallback,"user");_fnCallbackReg(oSettings,"aoServerParams",oInit.fnServerParams,"user");_fnCallbackReg(oSettings,"aoStateSaveParams",oInit.fnStateSaveParams,"user");_fnCallbackReg(oSettings,"aoStateLoadParams",oInit.fnStateLoadParams,"user");_fnCallbackReg(oSettings,"aoStateLoaded",oInit.fnStateLoaded,"user");_fnCallbackReg(oSettings,"aoRowCallback",oInit.fnRowCallback,"user");_fnCallbackReg(oSettings,"aoRowCreatedCallback",oInit.fnCreatedRow,"user");_fnCallbackReg(oSettings,"aoHeaderCallback",oInit.fnHeaderCallback,"user");_fnCallbackReg(oSettings,"aoFooterCallback",oInit.fnFooterCallback,"user");_fnCallbackReg(oSettings,"aoInitComplete",oInit.fnInitComplete,"user");_fnCallbackReg(oSettings,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user");if(oSettings.oFeatures.bServerSide&&oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){_fnCallbackReg(oSettings,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes")}else{if(oSettings.oFeatures.bDeferRender){_fnCallbackReg(oSettings,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes")}}if(oInit.bJQueryUI){$.extend(oSettings.oClasses,DataTable.ext.oJUIClasses);if(oInit.sDom===DataTable.defaults.sDom&&DataTable.defaults.sDom==="lfrtip"){oSettings.sDom='<"H"lfr>t<"F"ip>'}}else{$.extend(oSettings.oClasses,DataTable.ext.oStdClasses)}$(this).addClass(oSettings.oClasses.sTable);if(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!==""){oSettings.oScroll.iBarWidth=_fnScrollBarWidth()}if(oSettings.iInitDisplayStart===undefined){oSettings.iInitDisplayStart=oInit.iDisplayStart;oSettings._iDisplayStart=oInit.iDisplayStart}if(oInit.bStateSave){oSettings.oFeatures.bStateSave=true;_fnLoadState(oSettings,oInit);_fnCallbackReg(oSettings,"aoDrawCallback",_fnSaveState,"state_save")}if(oInit.iDeferLoading!==null){oSettings.bDeferLoading=true;var tmp=$.isArray(oInit.iDeferLoading);oSettings._iRecordsDisplay=tmp?oInit.iDeferLoading[0]:oInit.iDeferLoading;oSettings._iRecordsTotal=tmp?oInit.iDeferLoading[1]:oInit.iDeferLoading}if(oInit.aaData!==null){bUsePassedData=true}if(oInit.oLanguage.sUrl!==""){oSettings.oLanguage.sUrl=oInit.oLanguage.sUrl;$.getJSON(oSettings.oLanguage.sUrl,null,function(json){_fnLanguageCompat(json);$.extend(true,oSettings.oLanguage,oInit.oLanguage,json);_fnInitialise(oSettings)});bInitHandedOff=true}else{$.extend(true,oSettings.oLanguage,oInit.oLanguage)}if(oInit.asStripeClasses===null){oSettings.asStripeClasses=[oSettings.oClasses.sStripeOdd,oSettings.oClasses.sStripeEven]}iLen=oSettings.asStripeClasses.length;oSettings.asDestroyStripes=[];if(iLen){var bStripeRemove=false;var anRows=$(this).children("tbody").children("tr:lt("+iLen+")");for(i=0;i<iLen;i++){if(anRows.hasClass(oSettings.asStripeClasses[i])){bStripeRemove=true;oSettings.asDestroyStripes.push(oSettings.asStripeClasses[i])}}if(bStripeRemove){anRows.removeClass(oSettings.asStripeClasses.join(" "))}}var anThs=[];var aoColumnsInit;var nThead=this.getElementsByTagName("thead");if(nThead.length!==0){_fnDetectHeader(oSettings.aoHeader,nThead[0]);anThs=_fnGetUniqueThs(oSettings)}if(oInit.aoColumns===null){aoColumnsInit=[];for(i=0,iLen=anThs.length;i<iLen;i++){aoColumnsInit.push(null)}}else{aoColumnsInit=oInit.aoColumns}for(i=0,iLen=aoColumnsInit.length;i<iLen;i++){if(oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==iLen){if(aoColumnsInit[i]===null){aoColumnsInit[i]={}}aoColumnsInit[i].bVisible=oInit.saved_aoColumns[i].bVisible}_fnAddColumn(oSettings,anThs?anThs[i]:null)}_fnApplyColumnDefs(oSettings,oInit.aoColumnDefs,aoColumnsInit,function(iCol,oDef){_fnColumnOptions(oSettings,iCol,oDef)});for(i=0,iLen=oSettings.aaSorting.length;i<iLen;i++){if(oSettings.aaSorting[i][0]>=oSettings.aoColumns.length){oSettings.aaSorting[i][0]=0}var oColumn=oSettings.aoColumns[oSettings.aaSorting[i][0]];if(oSettings.aaSorting[i][2]===undefined){oSettings.aaSorting[i][2]=0}if(oInit.aaSorting===undefined&&oSettings.saved_aaSorting===undefined){oSettings.aaSorting[i][1]=oColumn.asSorting[0]}for(j=0,jLen=oColumn.asSorting.length;j<jLen;j++){if(oSettings.aaSorting[i][1]==oColumn.asSorting[j]){oSettings.aaSorting[i][2]=j;break}}}_fnSortingClasses(oSettings);_fnBrowserDetect(oSettings);var captions=$(this).children("caption").each(function(){this._captionSide=$(this).css("caption-side")});var thead=$(this).children("thead");if(thead.length===0){thead=[document.createElement("thead")];this.appendChild(thead[0])}oSettings.nTHead=thead[0];var tbody=$(this).children("tbody");if(tbody.length===0){tbody=[document.createElement("tbody")];this.appendChild(tbody[0])}oSettings.nTBody=tbody[0];oSettings.nTBody.setAttribute("role","alert");oSettings.nTBody.setAttribute("aria-live","polite");oSettings.nTBody.setAttribute("aria-relevant","all");var tfoot=$(this).children("tfoot");if(tfoot.length===0&&captions.length>0&&(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!=="")){tfoot=[document.createElement("tfoot")];this.appendChild(tfoot[0])}if(tfoot.length>0){oSettings.nTFoot=tfoot[0];_fnDetectHeader(oSettings.aoFooter,oSettings.nTFoot)}if(bUsePassedData){for(i=0;i<oInit.aaData.length;i++){_fnAddData(oSettings,oInit.aaData[i])}}else{_fnGatherData(oSettings)}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bInitialised=true;if(bInitHandedOff===false){_fnInitialise(oSettings)}});_that=null;return this};DataTable.fnVersionCheck=function(sVersion){var fnZPad=function(Zpad,count){while(Zpad.length<count){Zpad+="0"}return Zpad};var aThis=DataTable.ext.sVersion.split(".");var aThat=sVersion.split(".");var sThis="",sThat="";for(var i=0,iLen=aThat.length;i<iLen;i++){sThis+=fnZPad(aThis[i],3);sThat+=fnZPad(aThat[i],3)}return parseInt(sThis,10)>=parseInt(sThat,10)};DataTable.fnIsDataTable=function(nTable){var o=DataTable.settings;for(var i=0;i<o.length;i++){if(o[i].nTable===nTable||o[i].nScrollHead===nTable||o[i].nScrollFoot===nTable){return true}}return false};DataTable.fnTables=function(bVisible){var out=[];jQuery.each(DataTable.settings,function(i,o){if(!bVisible||(bVisible===true&&$(o.nTable).is(":visible"))){out.push(o.nTable)}});return out};DataTable.version="1.9.4";DataTable.settings=[];DataTable.models={};DataTable.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:DataTable.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}};DataTable.models.oSearch={bCaseInsensitive:true,sSearch:"",bRegex:false,bSmart:true};DataTable.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""};DataTable.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:true,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:true,bDeferRender:false,bDestroy:false,bFilter:true,bInfo:true,bJQueryUI:false,bLengthChange:true,bPaginate:true,bProcessing:false,bRetrieve:false,bScrollAutoCss:true,bScrollCollapse:false,bScrollInfinite:false,bServerSide:false,bSort:true,bSortCellsTop:false,bSortClasses:true,bStateSave:false,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(iIn){if(iIn<1000){return iIn}var s=(iIn+""),a=s.split(""),out="",iLen=s.length;for(var i=0;i<iLen;i++){if(i%3===0&&i!==0){out=this.oLanguage.sInfoThousands+out}out=a[iLen-i-1]+out}return out},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(sUrl,aoData,fnCallback,oSettings){oSettings.jqXHR=$.ajax({url:sUrl,data:aoData,success:function(json){if(json.sError){oSettings.oApi._fnLog(oSettings,0,json.sError)}$(oSettings.oInstance).trigger("xhr",[oSettings,json]);fnCallback(json)},dataType:"json",cache:false,type:oSettings.sServerMethod,error:function(xhr,error,thrown){if(error=="parsererror"){oSettings.oApi._fnLog(oSettings,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}})},fnServerParams:null,fnStateLoad:function(oSettings){var sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance);var oData;try{oData=(typeof $.parseJSON==="function")?$.parseJSON(sData):eval("("+sData+")")}catch(e){oData=null}return oData},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(oSettings,oData){this.oApi._fnCreateCookie(oSettings.sCookiePrefix+oSettings.sInstance,this.oApi._fnJsonString(oData),oSettings.iCookieDuration,oSettings.sCookiePrefix,oSettings.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"};DataTable.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:true,bSortable:true,bUseRendered:true,bVisible:true,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:false},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:false,bInitialised:false,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:true,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:false,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:false,bSorted:false,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsTotal,10)}else{return this.aiDisplayMaster.length}},fnRecordsDisplay:function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsDisplay,10)}else{return this.aiDisplay.length}},fnDisplayEnd:function(){if(this.oFeatures.bServerSide){if(this.oFeatures.bPaginate===false||this._iDisplayLength==-1){return this._iDisplayStart+this.aiDisplay.length}else{return Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay)}}else{return this._iDisplayEnd}},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null};DataTable.ext=$.extend(true,{},DataTable.models.ext);$.extend(DataTable.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""});$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"});$.extend(DataTable.ext.oPagination,{two_button:{fnInit:function(oSettings,nPaging,fnCallbackDraw){var oLang=oSettings.oLanguage.oPaginate;var oClasses=oSettings.oClasses;var fnClickHandler=function(e){if(oSettings.oApi._fnPageChange(oSettings,e.data.action)){fnCallbackDraw(oSettings)}};var sAppend=(!oSettings.bJUI)?'<a class="'+oSettings.oClasses.sPagePrevDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button">'+oLang.sPrevious+'</a><a class="'+oSettings.oClasses.sPageNextDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button">'+oLang.sNext+"</a>":'<a class="'+oSettings.oClasses.sPagePrevDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button"><span class="'+oSettings.oClasses.sPageJUIPrev+'"></span></a><a class="'+oSettings.oClasses.sPageNextDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button"><span class="'+oSettings.oClasses.sPageJUINext+'"></span></a>';$(nPaging).append(sAppend);var els=$("a",nPaging);var nPrevious=els[0],nNext=els[1];oSettings.oApi._fnBindAction(nPrevious,{action:"previous"},fnClickHandler);oSettings.oApi._fnBindAction(nNext,{action:"next"},fnClickHandler);if(!oSettings.aanFeatures.p){nPaging.id=oSettings.sTableId+"_paginate";nPrevious.id=oSettings.sTableId+"_previous";nNext.id=oSettings.sTableId+"_next";nPrevious.setAttribute("aria-controls",oSettings.sTableId);nNext.setAttribute("aria-controls",oSettings.sTableId)}},fnUpdate:function(oSettings,fnCallbackDraw){if(!oSettings.aanFeatures.p){return}var oClasses=oSettings.oClasses;var an=oSettings.aanFeatures.p;var nNode;for(var i=0,iLen=an.length;i<iLen;i++){nNode=an[i].firstChild;if(nNode){nNode.className=(oSettings._iDisplayStart===0)?oClasses.sPagePrevDisabled:oClasses.sPagePrevEnabled;nNode=nNode.nextSibling;nNode.className=(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay())?oClasses.sPageNextDisabled:oClasses.sPageNextEnabled}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(oSettings,nPaging,fnCallbackDraw){var oLang=oSettings.oLanguage.oPaginate;var oClasses=oSettings.oClasses;var fnClickHandler=function(e){if(oSettings.oApi._fnPageChange(oSettings,e.data.action)){fnCallbackDraw(oSettings)}};$(nPaging).append('<a  tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPageFirst+'">'+oLang.sFirst+'</a><a  tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPagePrevious+'">'+oLang.sPrevious+'</a><span></span><a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPageNext+'">'+oLang.sNext+'</a><a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPageLast+'">'+oLang.sLast+"</a>");var els=$("a",nPaging);var nFirst=els[0],nPrev=els[1],nNext=els[2],nLast=els[3];oSettings.oApi._fnBindAction(nFirst,{action:"first"},fnClickHandler);oSettings.oApi._fnBindAction(nPrev,{action:"previous"},fnClickHandler);oSettings.oApi._fnBindAction(nNext,{action:"next"},fnClickHandler);oSettings.oApi._fnBindAction(nLast,{action:"last"},fnClickHandler);if(!oSettings.aanFeatures.p){nPaging.id=oSettings.sTableId+"_paginate";nFirst.id=oSettings.sTableId+"_first";nPrev.id=oSettings.sTableId+"_previous";nNext.id=oSettings.sTableId+"_next";nLast.id=oSettings.sTableId+"_last"}},fnUpdate:function(oSettings,fnCallbackDraw){if(!oSettings.aanFeatures.p){return}var iPageCount=DataTable.ext.oPagination.iFullNumbersShowPages;var iPageCountHalf=Math.floor(iPageCount/2);var iPages=Math.ceil((oSettings.fnRecordsDisplay())/oSettings._iDisplayLength);var iCurrentPage=Math.ceil(oSettings._iDisplayStart/oSettings._iDisplayLength)+1;var sList="";var iStartButton,iEndButton,i,iLen;var oClasses=oSettings.oClasses;var anButtons,anStatic,nPaginateList,nNode;var an=oSettings.aanFeatures.p;var fnBind=function(j){oSettings.oApi._fnBindAction(this,{page:j+iStartButton-1},function(e){oSettings.oApi._fnPageChange(oSettings,e.data.page);fnCallbackDraw(oSettings);e.preventDefault()})};if(oSettings._iDisplayLength===-1){iStartButton=1;iEndButton=1;iCurrentPage=1}else{if(iPages<iPageCount){iStartButton=1;iEndButton=iPages}else{if(iCurrentPage<=iPageCountHalf){iStartButton=1;iEndButton=iPageCount}else{if(iCurrentPage>=(iPages-iPageCountHalf)){iStartButton=iPages-iPageCount+1;iEndButton=iPages}else{iStartButton=iCurrentPage-Math.ceil(iPageCount/2)+1;iEndButton=iStartButton+iPageCount-1}}}}for(i=iStartButton;i<=iEndButton;i++){sList+=(iCurrentPage!==i)?'<a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+'">'+oSettings.fnFormatNumber(i)+"</a>":'<a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButtonActive+'">'+oSettings.fnFormatNumber(i)+"</a>"}for(i=0,iLen=an.length;i<iLen;i++){nNode=an[i];if(!nNode.hasChildNodes()){continue}$("span:eq(0)",nNode).html(sList).children("a").each(fnBind);anButtons=nNode.getElementsByTagName("a");anStatic=[anButtons[0],anButtons[1],anButtons[anButtons.length-2],anButtons[anButtons.length-1]];$(anStatic).removeClass(oClasses.sPageButton+" "+oClasses.sPageButtonActive+" "+oClasses.sPageButtonStaticDisabled);$([anStatic[0],anStatic[1]]).addClass((iCurrentPage==1)?oClasses.sPageButtonStaticDisabled:oClasses.sPageButton);$([anStatic[2],anStatic[3]]).addClass((iPages===0||iCurrentPage===iPages||oSettings._iDisplayLength===-1)?oClasses.sPageButtonStaticDisabled:oClasses.sPageButton)}}}});$.extend(DataTable.ext.oSort,{"string-pre":function(a){if(typeof a!="string"){a=(a!==null&&a.toString)?a.toString():""}return a.toLowerCase()},"string-asc":function(x,y){return((x<y)?-1:((x>y)?1:0))},"string-desc":function(x,y){return((x<y)?1:((x>y)?-1:0))},"html-pre":function(a){return a.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(x,y){return((x<y)?-1:((x>y)?1:0))},"html-desc":function(x,y){return((x<y)?1:((x>y)?-1:0))},"date-pre":function(a){var x=Date.parse(a);if(isNaN(x)||x===""){x=Date.parse("01/01/1970 00:00:00")}return x},"date-asc":function(x,y){return x-y},"date-desc":function(x,y){return y-x},"numeric-pre":function(a){return(a=="-"||a==="")?0:a*1},"numeric-asc":function(x,y){return x-y},"numeric-desc":function(x,y){return y-x}});$.extend(DataTable.ext.aTypes,[function(sData){if(typeof sData==="number"){return"numeric"}else{if(typeof sData!=="string"){return null}}var sValidFirstChars="0123456789-";var sValidChars="0123456789.";var Char;var bDecimal=false;Char=sData.charAt(0);if(sValidFirstChars.indexOf(Char)==-1){return null}for(var i=1;i<sData.length;i++){Char=sData.charAt(i);if(sValidChars.indexOf(Char)==-1){return null}if(Char=="."){if(bDecimal){return null}bDecimal=true}}return"numeric"},function(sData){var iParse=Date.parse(sData);if((iParse!==null&&!isNaN(iParse))||(typeof sData==="string"&&sData.length===0)){return"date"}return null},function(sData){if(typeof sData==="string"&&sData.indexOf("<")!=-1&&sData.indexOf(">")!=-1){return"html"}return null}]);$.fn.DataTable=DataTable;$.fn.dataTable=DataTable;$.fn.dataTableSettings=DataTable.settings;$.fn.dataTableExt=DataTable.ext}))}(window,document));jQuery.extend(jQuery.fn.dataTableExt.oSort,{"num-html-pre":function(c){var b=String(c).replace(/<[\s\S]*?>/g,"");return parseFloat(b)},"num-html-asc":function(d,c){return((d<c)?-1:((d>c)?1:0))},"num-html-desc":function(d,c){return((d<c)?1:((d>c)?-1:0))}});
/*! ColVis 1.1.0
 * ©2010-2014 SpryMedia Ltd - datatables.net/license
 */
(function(c,a,d){var b=function(h,g){var f=function(k,j){if(!this.CLASS||this.CLASS!="ColVis"){alert("Warning: ColVis must be initialised with the keyword 'new'")}if(typeof j=="undefined"){j={}}if(h.fn.dataTable.camelToHungarian){h.fn.dataTable.camelToHungarian(f.defaults,j)}this.s={dt:null,oInit:j,hidden:true,abOriginal:[]};this.dom={wrapper:null,button:null,collection:null,background:null,catcher:null,buttons:[],groupButtons:[],restore:null};f.aInstances.push(this);this.s.dt=h.fn.dataTable.Api?new h.fn.dataTable.Api(k).settings()[0]:k;this._fnConstruct(j);return this};f.prototype={button:function(){return this.dom.wrapper},fnRebuild:function(){this.rebuild()},rebuild:function(){for(var j=this.dom.buttons.length-1;j>=0;j--){this.dom.collection.removeChild(this.dom.buttons[j])}this.dom.buttons.splice(0,this.dom.buttons.length);if(this.dom.restore){this.dom.restore.parentNode(this.dom.restore)}this._fnAddGroups();this._fnAddButtons();this._fnDrawCallback()},_fnConstruct:function(m){this._fnApplyCustomisation(m);var l=this;var k,j;this.dom.wrapper=a.createElement("div");this.dom.wrapper.className="ColVis";this.dom.button=h("<button />",{"class":!this.s.dt.bJUI?"ColVis_Button ColVis_MasterButton":"ColVis_Button ColVis_MasterButton ui-button ui-state-default"}).append("<span>"+this.s.buttonText+"</span>").bind(this.s.activate=="mouseover"?"mouseover":"click",function(n){n.preventDefault();l._fnCollectionShow()}).appendTo(this.dom.wrapper)[0];this.dom.catcher=this._fnDomCatcher();this.dom.collection=this._fnDomCollection();this.dom.background=this._fnDomBackground();this._fnAddGroups();this._fnAddButtons();for(k=0,j=this.s.dt.aoColumns.length;k<j;k++){this.s.abOriginal.push(this.s.dt.aoColumns[k].bVisible)}this.s.dt.aoDrawCallback.push({fn:function(){l._fnDrawCallback.call(l)},sName:"ColVis"});h(this.s.dt.oInstance).bind("column-reorder",function(q,p,o){for(k=0,j=l.s.aiExclude.length;k<j;k++){l.s.aiExclude[k]=o.aiInvertMapping[l.s.aiExclude[k]]}var n=l.s.abOriginal.splice(o.iFrom,1)[0];l.s.abOriginal.splice(o.iTo,0,n);l.fnRebuild()});this._fnDrawCallback()},_fnApplyCustomisation:function(n){h.extend(true,this.s,f.defaults,n);if(!this.s.showAll&&this.s.bShowAll){this.s.showAll=this.s.sShowAll}if(!this.s.restore&&this.s.bRestore){this.s.restore=this.s.sRestore}var j=this.s.groups;var m=this.s.aoGroups;if(j){for(var l=0,k=j.length;l<k;l++){if(j[l].title){m[l].sTitle=j[l].title}if(j[l].columns){m[l].aiColumns=j[l].columns}}}},_fnDrawCallback:function(){var l=this.s.dt.aoColumns;var p=this.dom.buttons;var k=this.s.aoGroups;var o;for(var n=0,s=p.length;n<s;n++){o=p[n];if(o.__columnIdx!==d){h("input",o).prop("checked",l[o.__columnIdx].bVisible)}}var r=function(v){for(var j=0,u=v.length;j<u;j++){if(l[v[j]].bVisible===false){return false}}return true};var q=function(u){for(var j=0,v=u.length;j<v;j++){if(l[u[j]].bVisible===true){return false}}return true};for(var m=0,t=k.length;m<t;m++){if(r(k[m].aiColumns)){h("input",this.dom.groupButtons[m]).prop("checked",true);h("input",this.dom.groupButtons[m]).prop("indeterminate",false)}else{if(q(k[m].aiColumns)){h("input",this.dom.groupButtons[m]).prop("checked",false);h("input",this.dom.groupButtons[m]).prop("indeterminate",false)}else{h("input",this.dom.groupButtons[m]).prop("indeterminate",true)}}}},_fnAddGroups:function(){var l;if(typeof this.s.aoGroups!="undefined"){for(var k=0,j=this.s.aoGroups.length;k<j;k++){l=this._fnDomGroupButton(k);this.dom.groupButtons.push(l);this.dom.buttons.push(l);this.dom.collection.appendChild(l)}}},_fnAddButtons:function(){var m,l=this.s.dt.aoColumns;if(h.inArray("all",this.s.aiExclude)===-1){for(var k=0,j=l.length;k<j;k++){if(h.inArray(k,this.s.aiExclude)===-1){m=this._fnDomColumnButton(k);m.__columnIdx=k;this.dom.buttons.push(m)}}}if(this.s.order==="alpha"){this.dom.buttons.sort(function(o,n){var q=l[o.__columnIdx].sTitle;var p=l[n.__columnIdx].sTitle;return q===p?0:q<p?-1:1})}if(this.s.restore){m=this._fnDomRestoreButton();m.className+=" ColVis_Restore";this.dom.buttons.push(m)}if(this.s.showAll){m=this._fnDomShowAllButton();m.className+=" ColVis_ShowAll";this.dom.buttons.push(m)}h(this.dom.collection).append(this.dom.buttons)},_fnDomRestoreButton:function(){var k=this,j=this.s.dt;return h('<li class="ColVis_Special '+(j.bJUI?"ui-button ui-state-default":"")+'">'+this.s.restore+"</li>").click(function(n){for(var m=0,l=k.s.abOriginal.length;m<l;m++){k.s.dt.oInstance.fnSetColumnVis(m,k.s.abOriginal[m],false)}k._fnAdjustOpenRows();k.s.dt.oInstance.fnAdjustColumnSizing(false);k.s.dt.oInstance.fnDraw(false)})[0]},_fnDomShowAllButton:function(){var k=this,j=this.s.dt;return h('<li class="ColVis_Special '+(j.bJUI?"ui-button ui-state-default":"")+'">'+this.s.showAll+"</li>").click(function(n){for(var m=0,l=k.s.abOriginal.length;m<l;m++){if(k.s.aiExclude.indexOf(m)===-1){k.s.dt.oInstance.fnSetColumnVis(m,true,false)}}k._fnAdjustOpenRows();k.s.dt.oInstance.fnAdjustColumnSizing(false);k.s.dt.oInstance.fnDraw(false)})[0]},_fnDomGroupButton:function(k){var m=this,l=this.s.dt,j=this.s.aoGroups[k];return h('<li class="ColVis_Special '+(l.bJUI?"ui-button ui-state-default":"")+'"><label><input type="checkbox" /><span>'+j.sTitle+"</span></label></li>").click(function(o){var p=!h("input",this).is(":checked");if(o.target.nodeName.toLowerCase()!=="li"){p=!p}for(var n=0;n<j.aiColumns.length;n++){m.s.dt.oInstance.fnSetColumnVis(j.aiColumns[n],p)}})[0]},_fnDomColumnButton:function(j){var m=this,k=this.s.dt.aoColumns[j],l=this.s.dt;var n=this.s.fnLabel===null?k.sTitle:this.s.fnLabel(j,k.sTitle,k.nTh);return h("<li "+(l.bJUI?'class="ui-button ui-state-default"':"")+'><label><input type="checkbox" /><span>'+n+"</span></label></li>").click(function(o){var p=!h("input",this).is(":checked");if(o.target.nodeName.toLowerCase()!=="li"){p=!p}var q=h.fn.dataTableExt.iApiIndex;h.fn.dataTableExt.iApiIndex=m._fnDataTablesApiIndex.call(m);if(l.oFeatures.bServerSide){m.s.dt.oInstance.fnSetColumnVis(j,p,false);m.s.dt.oInstance.fnAdjustColumnSizing(false);if(l.oScroll.sX!==""||l.oScroll.sY!==""){m.s.dt.oInstance.oApi._fnScrollDraw(m.s.dt)}m._fnDrawCallback()}else{m.s.dt.oInstance.fnSetColumnVis(j,p)}h.fn.dataTableExt.iApiIndex=q;if(o.target.nodeName.toLowerCase()==="input"&&m.s.fnStateChange!==null){m.s.fnStateChange.call(m,j,p)}})[0]},_fnDataTablesApiIndex:function(){for(var k=0,j=this.s.dt.oInstance.length;k<j;k++){if(this.s.dt.oInstance[k]==this.s.dt.nTable){return k}}return 0},_fnDomCollection:function(){return h("<ul />",{"class":!this.s.dt.bJUI?"ColVis_collection":"ColVis_collection ui-buttonset ui-buttonset-multi"}).css({display:"none",opacity:0,position:!this.s.bCssPosition?"absolute":""})[0]},_fnDomCatcher:function(){var k=this,j=a.createElement("div");j.className="ColVis_catcher";h(j).click(function(){k._fnCollectionHide.call(k,null,null)});return j},_fnDomBackground:function(){var k=this;var j=h("<div></div>").addClass("ColVis_collectionBackground").css("opacity",0).click(function(){k._fnCollectionHide.call(k,null,null)});if(this.s.activate=="mouseover"){j.mouseover(function(){k.s.overcollection=false;k._fnCollectionHide.call(k,null,null)})}return j[0]},_fnCollectionShow:function(){var r=this,p,n,q;var t=h(this.dom.button).offset();var o=this.dom.collection;var l=this.dom.background;var k=parseInt(t.left,10);var j=parseInt(t.top+h(this.dom.button).outerHeight(),10);if(!this.s.bCssPosition){o.style.top=j+"px";o.style.left=k+"px"}h(o).css({display:"block",opacity:0});l.style.bottom="0px";l.style.right="0px";var v=this.dom.catcher.style;v.height=h(this.dom.button).outerHeight()+"px";v.width=h(this.dom.button).outerWidth()+"px";v.top=t.top+"px";v.left=k+"px";a.body.appendChild(l);a.body.appendChild(o);a.body.appendChild(this.dom.catcher);h(o).animate({opacity:1},r.s.iOverlayFade);h(l).animate({opacity:0.1},r.s.iOverlayFade,"linear",function(){if(h.browser&&h.browser.msie&&h.browser.version=="6.0"){r._fnDrawCallback()}});if(!this.s.bCssPosition){q=(this.s.sAlign=="left")?k:k-h(o).outerWidth()+h(this.dom.button).outerWidth();o.style.left=q+"px";var m=h(o).outerWidth();var u=h(o).outerHeight();var s=h(a).width();if(q+m>s){o.style.left=(s-m)+"px"}}this.s.hidden=false},_fnCollectionHide:function(){var j=this;if(!this.s.hidden&&this.dom.collection!==null){this.s.hidden=true;h(this.dom.collection).animate({opacity:0},j.s.iOverlayFade,function(k){this.style.display="none"});h(this.dom.background).animate({opacity:0},j.s.iOverlayFade,function(k){a.body.removeChild(j.dom.background);a.body.removeChild(j.dom.catcher)})}},_fnAdjustOpenRows:function(){var m=this.s.dt.aoOpenRows;var k=this.s.dt.oApi._fnVisbleColumns(this.s.dt);for(var l=0,j=m.length;l<j;l++){m[l].nTr.getElementsByTagName("td")[0].colSpan=k}}};f.fnRebuild=function(k){var l=null;if(typeof k!="undefined"){l=k.fnSettings().nTable}for(var m=0,j=f.aInstances.length;m<j;m++){if(typeof k=="undefined"||l==f.aInstances[m].s.dt.nTable){f.aInstances[m].fnRebuild()}}};f.defaults={active:"click",buttonText:"Show / hide columns",aiExclude:[],bRestore:false,sRestore:"Restore original",bShowAll:false,sShowAll:"Show All",sAlign:"left",fnStateChange:null,iOverlayFade:500,fnLabel:null,bCssPosition:false,aoGroups:[],order:"column"};f.aInstances=[];f.prototype.CLASS="ColVis";f.VERSION="1.1.0";f.prototype.VERSION=f.VERSION;if(typeof h.fn.dataTable=="function"&&typeof h.fn.dataTableExt.fnVersionCheck=="function"&&h.fn.dataTableExt.fnVersionCheck("1.7.0")){h.fn.dataTableExt.aoFeatures.push({fnInit:function(l){var j=l.oInit;var k=new f(l,j.colVis||j.oColVis||{});return k.button()},cFeature:"C",sFeature:"ColVis"})}else{alert("Warning: ColVis requires DataTables 1.7 or greater - www.datatables.net/download")}h.fn.dataTable.ColVis=f;h.fn.DataTable.ColVis=f;return f};if(typeof define==="function"&&define.amd){define("datatables-colvis",["jquery","datatables"],b)}else{if(jQuery&&!jQuery.fn.dataTable.ColVis){b(jQuery,jQuery.fn.dataTable)}}})(window,document);
/*! TableTools 2.2.2
 * 2009-2014 SpryMedia Ltd - datatables.net/license
 *
 * ZeroClipboard 1.0.4
 * Author: Joseph Huckaby - MIT licensed
 */
;var TableTools;(function(c,a,d){var b=function(h,g){var f={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(j){if(typeof(j)=="string"){j=a.getElementById(j)}if(!j.addClass){j.hide=function(){this.style.display="none"};j.show=function(){this.style.display=""};j.addClass=function(k){this.removeClass(k);this.className+=" "+k};j.removeClass=function(k){this.className=this.className.replace(new RegExp("\\s*"+k+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")};j.hasClass=function(k){return !!this.className.match(new RegExp("\\s*"+k+"\\s*"))}}return j},setMoviePath:function(j){this.moviePath=j},dispatch:function(m,k,l){var j=this.clients[m];if(j){j.receiveEvent(k,l)}},register:function(k,j){this.clients[k]=j},getDOMObjectPosition:function(k){var j={left:0,top:0,width:k.width?k.width:k.offsetWidth,height:k.height?k.height:k.offsetHeight};if(k.style.width!==""){j.width=k.style.width.replace("px","")}if(k.style.height!==""){j.height=k.style.height.replace("px","")}while(k){j.left+=k.offsetLeft;j.top+=k.offsetTop;k=k.offsetParent}return j},Client:function(j){this.handlers={};this.id=f.nextId++;this.movieId="ZeroClipboard_TableToolsMovie_"+this.id;f.register(this.id,this);if(j){this.glue(j)}}};f.Client.prototype={id:0,ready:false,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:true,cssEffects:true,handlers:null,sized:false,glue:function(l,m){this.domElement=f.$(l);var n=99;if(this.domElement.style.zIndex){n=parseInt(this.domElement.style.zIndex,10)+1}var k=f.getDOMObjectPosition(this.domElement);this.div=a.createElement("div");var j=this.div.style;j.position="absolute";j.left="0px";j.top="0px";j.width=(k.width)+"px";j.height=k.height+"px";j.zIndex=n;if(typeof m!="undefined"&&m!==""){this.div.title=m}if(k.width!==0&&k.height!==0){this.sized=true}if(this.domElement){this.domElement.appendChild(this.div);this.div.innerHTML=this.getHTML(k.width,k.height).replace(/&/g,"&amp;")}},positionElement:function(){var l=f.getDOMObjectPosition(this.domElement);var k=this.div.style;k.position="absolute";k.width=l.width+"px";k.height=l.height+"px";if(l.width!==0&&l.height!==0){this.sized=true}else{return}var j=this.div.childNodes[0];j.width=l.width;j.height=l.height},getHTML:function(m,j){var l="";var k="id="+this.id+"&width="+m+"&height="+j;if(navigator.userAgent.match(/MSIE/)){var n=location.href.match(/^https/i)?"https://":"http://";l+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+n+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+m+'" height="'+j+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+f.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+k+'"/><param name="wmode" value="transparent"/></object>'}else{l+='<embed id="'+this.movieId+'" src="'+f.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+m+'" height="'+j+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+k+'" wmode="transparent" />'}return l},hide:function(){if(this.div){this.div.style.left="-2000px"}},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var j=a.getElementsByTagName("body")[0];try{j.removeChild(this.div)}catch(k){}this.domElement=null;this.div=null}},reposition:function(l){if(l){this.domElement=f.$(l);if(!this.domElement){this.hide()}}if(this.domElement&&this.div){var k=f.getDOMObjectPosition(this.domElement);var j=this.div.style;j.left=""+k.left+"px";j.top=""+k.top+"px"}},clearText:function(){this.clipText="";if(this.ready){this.movie.clearText()}},appendText:function(j){this.clipText+=j;if(this.ready){this.movie.appendText(j)}},setText:function(j){this.clipText=j;if(this.ready){this.movie.setText(j)}},setCharSet:function(j){this.charSet=j;if(this.ready){this.movie.setCharSet(j)}},setBomInc:function(j){this.incBom=j;if(this.ready){this.movie.setBomInc(j)}},setFileName:function(j){this.fileName=j;if(this.ready){this.movie.setFileName(j)}},setAction:function(j){this.action=j;if(this.ready){this.movie.setAction(j)}},addEventListener:function(j,k){j=j.toString().toLowerCase().replace(/^on/,"");if(!this.handlers[j]){this.handlers[j]=[]}this.handlers[j].push(k)},setHandCursor:function(j){this.handCursorEnabled=j;if(this.ready){this.movie.setHandCursor(j)}},setCSSEffects:function(j){this.cssEffects=!!j},receiveEvent:function(m,n){var l;m=m.toString().toLowerCase().replace(/^on/,"");switch(m){case"load":this.movie=a.getElementById(this.movieId);if(!this.movie){l=this;setTimeout(function(){l.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){l=this;setTimeout(function(){l.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;this.movie.clearText();this.movie.appendText(this.clipText);this.movie.setFileName(this.fileName);this.movie.setAction(this.action);this.movie.setCharSet(this.charSet);this.movie.setBomInc(this.incBom);this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":if(this.domElement&&this.cssEffects){if(this.recoverActive){this.domElement.addClass("active")}}break;case"mouseout":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass("active")){this.domElement.removeClass("active");this.recoverActive=true}}break;case"mousedown":if(this.domElement&&this.cssEffects){this.domElement.addClass("active")}break;case"mouseup":if(this.domElement&&this.cssEffects){this.domElement.removeClass("active");this.recoverActive=false}break}if(this.handlers[m]){for(var k=0,j=this.handlers[m].length;k<j;k++){var o=this.handlers[m][k];if(typeof(o)=="function"){o(this,n)}else{if((typeof(o)=="object")&&(o.length==2)){o[0][o[1]](this,n)}else{if(typeof(o)=="string"){c[o](this,n)}}}}}}};c.ZeroClipboard_TableTools=f;(function(l,k,j){TableTools=function(m,o){if(!this instanceof TableTools){alert("Warning: TableTools must be initialised with the keyword 'new'")}var n=l.fn.dataTable.Api?new l.fn.dataTable.Api(m).settings()[0]:m.fnSettings();this.s={that:this,dt:n,print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:false,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:false,tags:{}};this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}};this.classes=l.extend(true,{},TableTools.classes);if(this.s.dt.bJUI){l.extend(true,this.classes,TableTools.classes_themeroller)}this.fnSettings=function(){return this.s};if(typeof o=="undefined"){o={}}TableTools._aInstances.push(this);this._fnConstruct(o);return this};TableTools.prototype={fnGetSelected:function(o){var n=[],r=this.s.dt.aoData,q=this.s.dt.aiDisplay,p,m;if(o){for(p=0,m=q.length;p<m;p++){if(r[q[p]]._DTTT_selected){n.push(r[q[p]].nTr)}}}else{for(p=0,m=r.length;p<m;p++){if(r[p]._DTTT_selected){n.push(r[p].nTr)}}}return n},fnGetSelectedData:function(){var n=[];var p=this.s.dt.aoData;var o,m;for(o=0,m=p.length;o<m;o++){if(p[o]._DTTT_selected){n.push(this.s.dt.oInstance.fnGetData(o))}}return n},fnGetSelectedIndexes:function(o){var n=[],r=this.s.dt.aoData,q=this.s.dt.aiDisplay,p,m;if(o){for(p=0,m=q.length;p<m;p++){if(r[q[p]]._DTTT_selected){n.push(q[p])}}}else{for(p=0,m=r.length;p<m;p++){if(r[p]._DTTT_selected){n.push(p)}}}return n},fnIsSelected:function(o){var m=this.s.dt.oInstance.fnGetPosition(o);return(this.s.dt.aoData[m]._DTTT_selected===true)?true:false},fnSelectAll:function(m){this._fnRowSelect(m?this.s.dt.aiDisplay:this.s.dt.aoData)},fnSelectNone:function(m){this._fnRowDeselect(this.fnGetSelectedIndexes(m))},fnSelect:function(m){if(this.s.select.type=="single"){this.fnSelectNone();this._fnRowSelect(m)}else{this._fnRowSelect(m)}},fnDeselect:function(m){this._fnRowDeselect(m)},fnGetTitle:function(o){var m="";if(typeof o.sTitle!="undefined"&&o.sTitle!==""){m=o.sTitle}else{var n=j.getElementsByTagName("title");if(n.length>0){m=n[0].innerHTML}}if("\u00A1".toString().length<4){return m.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"")}else{return m.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")}},fnCalcColRatios:function(r){var q=this.s.dt.aoColumns,n=this._fnColumnTargets(r.mColumns),p=[],s=0,t=0,o,m;for(o=0,m=n.length;o<m;o++){if(n[o]){s=q[o].nTh.offsetWidth;t+=s;p.push(s)}}for(o=0,m=p.length;o<m;o++){p[o]=p[o]/t}return p.join("\t")},fnGetTableData:function(m){if(this.s.dt){return this._fnGetDataTablesData(m)}},fnSetText:function(m,n){this._fnFlashSetText(m,n)},fnResizeButtons:function(){for(var m in f.clients){if(m){var n=f.clients[m];if(typeof n.domElement!="undefined"&&n.domElement.parentNode){n.positionElement()}}}},fnResizeRequired:function(){for(var m in f.clients){if(m){var n=f.clients[m];if(typeof n.domElement!="undefined"&&n.domElement.parentNode==this.dom.container&&n.sized===false){return true}}}return false},fnPrint:function(m,n){if(n===d){n={}}if(m===d||m){this._fnPrintStart(n)}else{this._fnPrintEnd()}},fnInfo:function(m,o){var n=l("<div/>").addClass(this.classes.print.info).html(m).appendTo("body");setTimeout(function(){n.fadeOut("normal",function(){n.remove()})},o)},fnContainer:function(){return this.dom.container},_fnConstruct:function(n){var m=this;this._fnCustomiseSettings(n);this.dom.container=j.createElement(this.s.tags.container);this.dom.container.className=this.classes.container;if(this.s.select.type!="none"){this._fnRowSelectConfig()}this._fnButtonDefinations(this.s.buttonSet,this.dom.container);this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){l(m.s.dt.nTBody).off("click.DTTT_Select","tr");l(m.dom.container).empty();var o=l.inArray(m,TableTools._aInstances);if(o!==-1){TableTools._aInstances.splice(o,1)}}})},_fnCustomiseSettings:function(m){if(typeof this.s.dt._TableToolsInit=="undefined"){this.s.master=true;this.s.dt._TableToolsInit=true}this.dom.table=this.s.dt.nTable;this.s.custom=l.extend({},TableTools.DEFAULTS,m);this.s.swfPath=this.s.custom.sSwfPath;if(typeof f!="undefined"){f.moviePath=this.s.swfPath}this.s.select.type=this.s.custom.sRowSelect;this.s.select.preRowSelect=this.s.custom.fnPreRowSelect;this.s.select.postSelected=this.s.custom.fnRowSelected;this.s.select.postDeselected=this.s.custom.fnRowDeselected;if(this.s.custom.sSelectedClass){this.classes.select.row=this.s.custom.sSelectedClass}this.s.tags=this.s.custom.oTags;this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(r,t){var n;for(var q=0,m=r.length;q<m;q++){if(typeof r[q]=="string"){if(typeof TableTools.BUTTONS[r[q]]=="undefined"){alert("TableTools: Warning - unknown button type: "+r[q]);continue}n=l.extend({},TableTools.BUTTONS[r[q]],true)}else{if(typeof TableTools.BUTTONS[r[q].sExtends]=="undefined"){alert("TableTools: Warning - unknown button type: "+r[q].sExtends);continue}var s=l.extend({},TableTools.BUTTONS[r[q].sExtends],true);n=l.extend(s,r[q],true)}var p=this._fnCreateButton(n,l(t).hasClass(this.classes.collection.container));if(p){t.appendChild(p)}}},_fnCreateButton:function(o,m){var n=this._fnButtonBase(o,m);if(o.sAction.match(/flash/)){if(!this._fnHasFlash()){return false}this._fnFlashConfig(n,o)}else{if(o.sAction=="text"){this._fnTextConfig(n,o)}else{if(o.sAction=="div"){this._fnTextConfig(n,o)}else{if(o.sAction=="collection"){this._fnTextConfig(n,o);this._fnCollectionConfig(n,o)}}}}return n},_fnButtonBase:function(t,n){var p,r,u;if(n){p=t.sTag&&t.sTag!=="default"?t.sTag:this.s.tags.collection.button;r=t.sLinerTag&&t.sLinerTag!=="default"?t.sLiner:this.s.tags.collection.liner;u=this.classes.collection.buttons.normal}else{p=t.sTag&&t.sTag!=="default"?t.sTag:this.s.tags.button;r=t.sLinerTag&&t.sLinerTag!=="default"?t.sLiner:this.s.tags.liner;u=this.classes.buttons.normal}var q=j.createElement(p),m=j.createElement(r),s=this._fnGetMasterSettings();q.className=u+" "+t.sButtonClass;q.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+s.buttonCounter);q.appendChild(m);m.innerHTML=t.sButtonText;s.buttonCounter++;return q},_fnGetMasterSettings:function(){if(this.s.master){return this.s}else{var o=TableTools._aInstances;for(var n=0,m=o.length;n<m;n++){if(this.dom.table==o[n].s.dt.nTable){return o[n].s}}}},_fnCollectionConfig:function(m,n){var o=j.createElement(this.s.tags.collection.container);o.style.display="none";o.className=this.classes.collection.container;n._collection=o;j.body.appendChild(o);this._fnButtonDefinations(n.aButtons,o)},_fnCollectionShow:function(q,t){var w=this,y=l(q).offset(),r=t._collection,n=y.left,m=y.top+l(q).outerHeight(),v=l(k).height(),s=l(j).height(),u=l(k).width(),x=l(j).width();r.style.position="absolute";r.style.left=n+"px";r.style.top=m+"px";r.style.display="block";l(r).css("opacity",0);var o=j.createElement("div");o.style.position="absolute";o.style.left="0px";o.style.top="0px";o.style.height=((v>s)?v:s)+"px";o.style.width=((u>x)?u:x)+"px";o.className=this.classes.collection.background;l(o).css("opacity",0);j.body.appendChild(o);j.body.appendChild(r);var p=l(r).outerWidth();var z=l(r).outerHeight();if(n+p>x){r.style.left=(x-p)+"px"}if(m+z>s){r.style.top=(m-z-l(q).outerHeight())+"px"}this.dom.collection.collection=r;this.dom.collection.background=o;setTimeout(function(){l(r).animate({opacity:1},500);l(o).animate({opacity:0.25},500)},10);this.fnResizeButtons();l(o).click(function(){w._fnCollectionHide.call(w,null,null)})},_fnCollectionHide:function(m,n){if(n!==null&&n.sExtends=="collection"){return}if(this.dom.collection.collection!==null){l(this.dom.collection.collection).animate({opacity:0},500,function(o){this.style.display="none"});l(this.dom.collection.background).animate({opacity:0},500,function(o){this.parentNode.removeChild(this)});this.dom.collection.collection=null;this.dom.collection.background=null}},_fnRowSelectConfig:function(){if(this.s.master){var p=this,n,m,o=this.s.dt,q=this.s.dt.aoOpenRows;l(o.nTable).addClass(this.classes.select.table);if(this.s.select.type==="os"){l(o.nTBody).on("mousedown.DTTT_Select","tr",function(r){if(r.shiftKey){l(o.nTBody).css("-moz-user-select","none").one("selectstart.DTTT_Select","tr",function(){return false})}});l(o.nTBody).on("mouseup.DTTT_Select","tr",function(r){l(o.nTBody).css("-moz-user-select","")})}l(o.nTBody).on("click.DTTT_Select",this.s.custom.sRowSelector,function(w){var x=this.nodeName.toLowerCase()==="tr"?this:l(this).parents("tr")[0];var r=p.s.select;var y=p.s.dt.oInstance.fnGetPosition(x);if(x.parentNode!=o.nTBody){return}if(o.oInstance.fnGetData(x)===null){return}if(r.type=="os"){if(w.ctrlKey||w.metaKey){if(p.fnIsSelected(x)){p._fnRowDeselect(x,w)}else{p._fnRowSelect(x,w)}}else{if(w.shiftKey){var u=p.s.dt.aiDisplay.slice();var t=l.inArray(r.lastRow,u);var s=l.inArray(y,u);if(p.fnGetSelected().length===0||t===-1){u.splice(l.inArray(y,u)+1,u.length)}else{if(t>s){var v=s;s=t;t=v}u.splice(s+1,u.length);u.splice(0,t)}if(!p.fnIsSelected(x)){p._fnRowSelect(u,w)}else{u.splice(l.inArray(y,u),1);p._fnRowDeselect(u,w)}}else{if(p.fnIsSelected(x)&&p.fnGetSelected().length===1){p._fnRowDeselect(x,w)}else{p.fnSelectNone();p._fnRowSelect(x,w)}}}}else{if(p.fnIsSelected(x)){p._fnRowDeselect(x,w)}else{if(r.type=="single"){p.fnSelectNone();p._fnRowSelect(x,w)}else{if(r.type=="multi"){p._fnRowSelect(x,w)}}}}r.lastRow=y});o.oApi._fnCallbackReg(o,"aoRowCreatedCallback",function(t,s,r){if(o.aoData[r]._DTTT_selected){l(t).addClass(p.classes.select.row)}},"TableTools-SelectAll")}},_fnRowSelect:function(t,s){var q=this,r=this._fnSelectData(t),o=r.length===0?null:r[0].nTr,n=[],p,m;for(p=0,m=r.length;p<m;p++){if(r[p].nTr){n.push(r[p].nTr)}}if(this.s.select.preRowSelect!==null&&!this.s.select.preRowSelect.call(this,s,n,true)){return}for(p=0,m=r.length;p<m;p++){r[p]._DTTT_selected=true;if(r[p].nTr){l(r[p].nTr).addClass(q.classes.select.row)}}if(this.s.select.postSelected!==null){this.s.select.postSelected.call(this,n)}TableTools._fnEventDispatch(this,"select",n,true)},_fnRowDeselect:function(t,s){var p=this,q=this._fnSelectData(t),n=q.length===0?null:q[0].nTr,r=[],o,m;for(o=0,m=q.length;o<m;o++){if(q[o].nTr){r.push(q[o].nTr)}}if(this.s.select.preRowSelect!==null&&!this.s.select.preRowSelect.call(this,s,r,false)){return}for(o=0,m=q.length;o<m;o++){q[o]._DTTT_selected=false;if(q[o].nTr){l(q[o].nTr).removeClass(p.classes.select.row)}}if(this.s.select.postDeselected!==null){this.s.select.postDeselected.call(this,r)}TableTools._fnEventDispatch(this,"select",r,false)},_fnSelectData:function(p){var n=[],q,o,m;if(p.nodeName){q=this.s.dt.oInstance.fnGetPosition(p);n.push(this.s.dt.aoData[q])}else{if(typeof p.length!=="undefined"){for(o=0,m=p.length;o<m;o++){if(p[o].nodeName){q=this.s.dt.oInstance.fnGetPosition(p[o]);n.push(this.s.dt.aoData[q])}else{if(typeof p[o]==="number"){n.push(this.s.dt.aoData[p[o]])}else{n.push(p[o])}}}return n}else{n.push(p)}}return n},_fnTextConfig:function(m,o){var n=this;if(o.fnInit!==null){o.fnInit.call(this,m,o)}if(o.sToolTip!==""){m.title=o.sToolTip}l(m).hover(function(){if(o.fnMouseover!==null){o.fnMouseover.call(this,m,o,null)}},function(){if(o.fnMouseout!==null){o.fnMouseout.call(this,m,o,null)}});if(o.fnSelect!==null){TableTools._fnEventListen(this,"select",function(p){o.fnSelect.call(n,m,o,p)})}l(m).click(function(p){if(o.fnClick!==null){o.fnClick.call(n,m,o,null,p)}if(o.fnComplete!==null){o.fnComplete.call(n,m,o,null,null)}n._fnCollectionHide(m,o)})},_fnHasFlash:function(){try{var m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(m){return true}}catch(n){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==d&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){return true}}return false},_fnFlashConfig:function(n,p){var o=this;var m=new f.Client();if(p.fnInit!==null){p.fnInit.call(this,n,p)}m.setHandCursor(true);if(p.sAction=="flash_save"){m.setAction("save");m.setCharSet((p.sCharSet=="utf16le")?"UTF16LE":"UTF8");m.setBomInc(p.bBomInc);m.setFileName(p.sFileName.replace("*",this.fnGetTitle(p)))}else{if(p.sAction=="flash_pdf"){m.setAction("pdf");m.setFileName(p.sFileName.replace("*",this.fnGetTitle(p)))}else{m.setAction("copy")}}m.addEventListener("mouseOver",function(q){if(p.fnMouseover!==null){p.fnMouseover.call(o,n,p,m)}});m.addEventListener("mouseOut",function(q){if(p.fnMouseout!==null){p.fnMouseout.call(o,n,p,m)}});m.addEventListener("mouseDown",function(q){if(p.fnClick!==null){p.fnClick.call(o,n,p,m)}});m.addEventListener("complete",function(q,r){if(p.fnComplete!==null){p.fnComplete.call(o,n,p,m,r)}o._fnCollectionHide(n,p)});this._fnFlashGlue(m,n,p.sToolTip)},_fnFlashGlue:function(m,o,p){var n=this;var q=o.getAttribute("id");if(j.getElementById(q)){m.glue(o,p)}else{setTimeout(function(){n._fnFlashGlue(m,o,p)},100)}},_fnFlashSetText:function(q,n){var p=this._fnChunkData(n,8192);q.clearText();for(var o=0,m=p.length;o<m;o++){q.appendText(p[o])}},_fnColumnTargets:function(o){var q=[];var p=this.s.dt;var n,m;if(typeof o=="object"){for(n=0,m=p.aoColumns.length;n<m;n++){q.push(false)}for(n=0,m=o.length;n<m;n++){q[o[n]]=true}}else{if(o=="visible"){for(n=0,m=p.aoColumns.length;n<m;n++){q.push(p.aoColumns[n].bVisible?true:false)}}else{if(o=="hidden"){for(n=0,m=p.aoColumns.length;n<m;n++){q.push(p.aoColumns[n].bVisible?false:true)}}else{if(o=="sortable"){for(n=0,m=p.aoColumns.length;n<m;n++){q.push(p.aoColumns[n].bSortable?true:false)}}else{for(n=0,m=p.aoColumns.length;n<m;n++){q.push(true)}}}}}return q},_fnNewline:function(m){if(m.sNewLine=="auto"){return navigator.userAgent.match(/Windows/)?"\r\n":"\n"}else{return m.sNewLine}},_fnGetDataTablesData:function(s){var C,A,B,F;var o,q=[],m="",n;var z=this.s.dt,p,v;var r=new RegExp(s.sFieldBoundary,"g");var x=this._fnColumnTargets(s.mColumns);var D=(typeof s.bSelectedOnly!="undefined")?s.bSelectedOnly:false;if(s.bHeader){o=[];for(C=0,A=z.aoColumns.length;C<A;C++){if(x[C]){m=z.aoColumns[C].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"");m=this._fnHtmlDecode(m);o.push(this._fnBoundData(m,s.sFieldBoundary,r))}}q.push(o.join(s.sFieldSeperator))}var E=this.fnGetSelected();D=this.s.select.type!=="none"&&D&&E.length!==0;var y=l.fn.dataTable.Api;var t=y?new y(z).rows(s.oSelectorOpts).indexes().flatten().toArray():z.oInstance.$("tr",s.oSelectorOpts).map(function(H,G){return D&&l.inArray(G,E)===-1?null:z.oInstance.fnGetPosition(G)}).get();for(B=0,F=t.length;B<F;B++){p=z.aoData[t[B]].nTr;o=[];for(C=0,A=z.aoColumns.length;C<A;C++){if(x[C]){var w=z.oApi._fnGetCellData(z,t[B],C,"display");if(s.fnCellRender){m=s.fnCellRender(w,C,p,t[B])+""}else{if(typeof w=="string"){m=w.replace(/\n/g," ");m=m.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3");m=m.replace(/<.*?>/g,"")}else{m=w+""}}m=m.replace(/^\s+/,"").replace(/\s+$/,"");m=this._fnHtmlDecode(m);o.push(this._fnBoundData(m,s.sFieldBoundary,r))}}q.push(o.join(s.sFieldSeperator));if(s.bOpenRows){n=l.grep(z.aoOpenRows,function(G){return G.nParent===p});if(n.length===1){m=this._fnBoundData(l("td",n[0].nTr).html(),s.sFieldBoundary,r);q.push(m)}}}if(s.bFooter&&z.nTFoot!==null){o=[];for(C=0,A=z.aoColumns.length;C<A;C++){if(x[C]&&z.aoColumns[C].nTf!==null){m=z.aoColumns[C].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,"");m=this._fnHtmlDecode(m);o.push(this._fnBoundData(m,s.sFieldBoundary,r))}}q.push(o.join(s.sFieldSeperator))}var u=q.join(this._fnNewline(s));return u},_fnBoundData:function(m,o,n){if(o===""){return m}else{return o+m.replace(n,o+o)+o}},_fnChunkData:function(m,o){var p=[];var q=m.length;for(var n=0;n<q;n+=o){if(n+o<q){p.push(m.substring(n,n+o))}else{p.push(m.substring(n,q))}}return p},_fnHtmlDecode:function(m){if(m.indexOf("&")===-1){return m}var o=j.createElement("div");return m.replace(/&([^\s]*?);/g,function(n,p){if(n.substr(1,1)==="#"){return String.fromCharCode(Number(p.substr(1)))}else{o.innerHTML=n;return o.childNodes[0].nodeValue}})},_fnPrintStart:function(r){var q=this;var o=this.s.dt;this._fnPrintHideNodes(o.nTable);this.s.print.saveStart=o._iDisplayStart;this.s.print.saveLength=o._iDisplayLength;if(r.bShowAll){o._iDisplayStart=0;o._iDisplayLength=-1;if(o.oApi._fnCalculateEnd){o.oApi._fnCalculateEnd(o)}o.oApi._fnDraw(o)}if(o.oScroll.sX!==""||o.oScroll.sY!==""){this._fnPrintScrollStart(o);l(this.s.dt.nTable).bind("draw.DTTT_Print",function(){q._fnPrintScrollStart(o)})}var n=o.aanFeatures;for(var s in n){if(s!="i"&&s!="t"&&s.length==1){for(var p=0,m=n[s].length;p<m;p++){this.dom.print.hidden.push({node:n[s][p],display:"block"});n[s][p].style.display="none"}}}l(j.body).addClass(this.classes.print.body);if(r.sInfo!==""){this.fnInfo(r.sInfo,3000)}if(r.sMessage){l("<div/>").addClass(this.classes.print.message).html(r.sMessage).prependTo("body")}this.s.print.saveScroll=l(k).scrollTop();k.scrollTo(0,0);l(j).bind("keydown.DTTT",function(t){if(t.keyCode==27){t.preventDefault();q._fnPrintEnd.call(q,t)}})},_fnPrintEnd:function(q){var o=this;var m=this.s.dt;var p=this.s.print;var n=this.dom.print;this._fnPrintShowNodes();if(m.oScroll.sX!==""||m.oScroll.sY!==""){l(this.s.dt.nTable).unbind("draw.DTTT_Print");this._fnPrintScrollEnd()}k.scrollTo(0,p.saveScroll);l("div."+this.classes.print.message).remove();l(j.body).removeClass("DTTT_Print");m._iDisplayStart=p.saveStart;m._iDisplayLength=p.saveLength;if(m.oApi._fnCalculateEnd){m.oApi._fnCalculateEnd(m)}m.oApi._fnDraw(m);l(j).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var o=this.s.dt,q=o.nScrollHead.getElementsByTagName("div")[0],m=q.getElementsByTagName("table")[0],r=o.nTable.parentNode,n,p;n=o.nTable.getElementsByTagName("thead");if(n.length>0){o.nTable.removeChild(n[0])}if(o.nTFoot!==null){p=o.nTable.getElementsByTagName("tfoot");if(p.length>0){o.nTable.removeChild(p[0])}}n=o.nTHead.cloneNode(true);o.nTable.insertBefore(n,o.nTable.childNodes[0]);if(o.nTFoot!==null){p=o.nTFoot.cloneNode(true);o.nTable.insertBefore(p,o.nTable.childNodes[1])}if(o.oScroll.sX!==""){o.nTable.style.width=l(o.nTable).outerWidth()+"px";r.style.width=l(o.nTable).outerWidth()+"px";r.style.overflow="visible"}if(o.oScroll.sY!==""){r.style.height=l(o.nTable).outerHeight()+"px";r.style.overflow="visible"}},_fnPrintScrollEnd:function(){var m=this.s.dt,n=m.nTable.parentNode;if(m.oScroll.sX!==""){n.style.width=m.oApi._fnStringToCss(m.oScroll.sX);n.style.overflow="auto"}if(m.oScroll.sY!==""){n.style.height=m.oApi._fnStringToCss(m.oScroll.sY);n.style.overflow="auto"}},_fnPrintShowNodes:function(){var o=this.dom.print.hidden;for(var n=0,m=o.length;n<m;n++){o[n].node.style.display=o[n].display}o.splice(0,o.length)},_fnPrintHideNodes:function(n){var p=this.dom.print.hidden;var r=n.parentNode;var s=r.childNodes;for(var o=0,m=s.length;o<m;o++){if(s[o]!=n&&s[o].nodeType==1){var q=l(s[o]).css("display");if(q!="none"){p.push({node:s[o],display:q});s[o].style.display="none"}}}if(r.nodeName.toUpperCase()!="BODY"){this._fnPrintHideNodes(r)}}};TableTools._aInstances=[];TableTools._aListeners=[];TableTools.fnGetMasters=function(){var n=[];for(var o=0,m=TableTools._aInstances.length;o<m;o++){if(TableTools._aInstances[o].s.master){n.push(TableTools._aInstances[o])}}return n};TableTools.fnGetInstance=function(o){if(typeof o!="object"){o=j.getElementById(o)}for(var n=0,m=TableTools._aInstances.length;n<m;n++){if(TableTools._aInstances[n].s.master&&TableTools._aInstances[n].dom.table==o){return TableTools._aInstances[n]}}return null};TableTools._fnEventListen=function(o,n,m){TableTools._aListeners.push({that:o,type:n,fn:m})};TableTools._fnEventDispatch=function(s,q,r,p){var o=TableTools._aListeners;for(var n=0,m=o.length;n<m;n++){if(s.dom.table==o[n].that.dom.table&&o[n].type==q){o[n].fn(r,p)}}};TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:false,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",mColumns:"all",bHeader:true,bFooter:true,bOpenRows:false,bSelectedOnly:false,oSelectorOpts:d,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null};TableTools.BUTTONS={csv:l.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(n,o,m){this.fnSetText(m,this.fnGetTableData(o))}}),xls:l.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:true,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(n,o,m){this.fnSetText(m,this.fnGetTableData(o))}}),copy:l.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(n,o,m){this.fnSetText(m,this.fnGetTableData(o))},fnComplete:function(p,q,o,r){var m=r.split("\n").length;if(q.bHeader){m--}if(this.s.dt.nTFoot!==null&&q.bFooter){m--}var n=(m==1)?"":"s";this.fnInfo("<h6>Table copied</h6><p>Copied "+m+" row"+n+" to the clipboard.</p>",1500)}}),pdf:l.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(n,o,m){this.fnSetText(m,"title:"+this.fnGetTitle(o)+"\nmessage:"+o.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(o)+"\norientation:"+o.sPdfOrientation+"\nsize:"+o.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(o))}}),print:l.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.</p>",sMessage:null,bShowAll:true,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(m,n){this.fnPrint(true,n)}}),text:l.extend({},TableTools.buttonBase),select:l.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(m,n){if(this.fnGetSelected().length!==0){l(m).removeClass(this.classes.buttons.disabled)}else{l(m).addClass(this.classes.buttons.disabled)}},fnInit:function(m,n){l(m).addClass(this.classes.buttons.disabled)}}),select_single:l.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(n,o){var m=this.fnGetSelected().length;if(m==1){l(n).removeClass(this.classes.buttons.disabled)}else{l(n).addClass(this.classes.buttons.disabled)}},fnInit:function(m,n){l(m).addClass(this.classes.buttons.disabled)}}),select_all:l.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(m,n){this.fnSelectAll()},fnSelect:function(m,n){if(this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()){l(m).addClass(this.classes.buttons.disabled)}else{l(m).removeClass(this.classes.buttons.disabled)}}}),select_none:l.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(m,n){this.fnSelectNone()},fnSelect:function(m,n){if(this.fnGetSelected().length!==0){l(m).removeClass(this.classes.buttons.disabled)}else{l(m).addClass(this.classes.buttons.disabled)}},fnInit:function(m,n){l(m).addClass(this.classes.buttons.disabled)}}),ajax:l.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(n,o){var m=this.fnGetTableData(o);l.ajax({url:o.sAjaxUrl,data:[{name:"tableData",value:m}],success:o.fnAjaxComplete,dataType:"json",type:"POST",cache:false,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(m){alert("Ajax complete")}}),div:l.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:l.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(m,n){this._fnCollectionShow(m,n)}})};TableTools.buttons=TableTools.BUTTONS;TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}};TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}};TableTools.DEFAULTS={sSwfPath:"../swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sRowSelector:"tr",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}};TableTools.defaults=TableTools.DEFAULTS;TableTools.prototype.CLASS="TableTools";TableTools.version="2.2.2";if(l.fn.dataTable.Api){l.fn.dataTable.Api.register("tabletools()",function(){var m=null;if(this.context.length>0){m=TableTools.fnGetInstance(this.context[0].nTable)}return m})}if(typeof l.fn.dataTable=="function"&&typeof l.fn.dataTableExt.fnVersionCheck=="function"&&l.fn.dataTableExt.fnVersionCheck("1.9.0")){l.fn.dataTableExt.aoFeatures.push({fnInit:function(o){var n=o.oInit;var m=n?n.tableTools||n.oTableTools||{}:{};return new TableTools(o.oInstance,m).dom.container},cFeature:"T",sFeature:"TableTools"})}else{alert("Warning: TableTools requires DataTables 1.9.0 or newer - www.datatables.net/download")}l.fn.DataTable.TableTools=TableTools})(jQuery,c,a);if(typeof h.fn.dataTable=="function"&&typeof h.fn.dataTableExt.fnVersionCheck=="function"&&h.fn.dataTableExt.fnVersionCheck("1.9.0")){h.fn.dataTableExt.aoFeatures.push({fnInit:function(l){var k=typeof l.oInit.oTableTools!="undefined"?l.oInit.oTableTools:{};var j=new TableTools(l.oInstance,k);TableTools._aInstances.push(j);return j.dom.container},cFeature:"T",sFeature:"TableTools"})}else{alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download")}h.fn.dataTable.TableTools=TableTools;h.fn.DataTable.TableTools=TableTools;return TableTools};if(typeof define==="function"&&define.amd){define(["jquery","datatables"],b)}else{if(typeof exports==="object"){b(require("jquery"),require("datatables"))}else{if(jQuery&&!jQuery.fn.dataTable.TableTools){b(jQuery,jQuery.fn.dataTable)}}}})(window,document);
/*!jQuery Knob*/
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(d){var b={},a=Math.max,c=Math.min;b.c={};b.c.d=d(document);b.c.t=function(f){return f.originalEvent.touches.length-1};b.o=function(){var f=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.w=0;this.h=0;this.$c=null;this.c=null;this.t=0;this.isInit=false;this.fgColor=null;this.pColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.scale=1;this.relative=false;this.relativeWidth=false;this.relativeHeight=false;this.$div=null;this.run=function(){var g=function(l,j){var h;for(h in j){f.o[h]=j[h]}f._carve().init();f._configure()._draw()};if(this.$.data("kontroled")){return}this.$.data("kontroled",true);this.extend();this.o=d.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:true,readOnly:this.$.data("readonly")||(this.$.attr("readonly")==="readonly"),cursor:this.$.data("cursor")===true&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),0.01)||0.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:false,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(h){return h},parse:function(h){return parseFloat(h)}},this.o);this.o.flip=this.o.rotation==="anticlockwise"||this.o.rotation==="acw";if(!this.o.inputColor){this.o.inputColor=this.o.fgColor}if(this.$.is("fieldset")){this.v={};this.i=this.$.find("input");this.i.each(function(h){var j=d(this);f.i[h]=j;f.v[h]=f.o.parse(j.val());j.bind("change blur",function(){var k={};k[h]=j.val();f.val(f._validate(k))})});this.$.find("legend").remove()}else{this.i=this.$;this.v=this.o.parse(this.$.val());this.v===""&&(this.v=this.o.min);this.$.bind("change blur",function(){f.val(f._validate(f.o.parse(f.$.val())))})}!this.o.displayInput&&this.$.hide();this.$c=d(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height});this.$div=d('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>');this.$.wrap(this.$div).before(this.$c);this.$div=this.$.parent();if(typeof G_vmlCanvasManager!=="undefined"){G_vmlCanvasManager.initElement(this.$c[0])}this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null;if(!this.c){throw {name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}}}this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1);this.relativeWidth=this.o.width%1!==0&&this.o.width.indexOf("%");this.relativeHeight=this.o.height%1!==0&&this.o.height.indexOf("%");this.relative=this.relativeWidth||this.relativeHeight;this._carve();if(this.v instanceof Object){this.cv={};this.copy(this.v,this.cv)}else{this.cv=this.v}this.$.bind("configure",g).parent().bind("configure",g);this._listen()._configure()._xy().init();this.isInit=true;this.$.val(this.o.format(this.v));this._draw();return this};this._carve=function(){if(this.relative){var g=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),j=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(g,j)}else{this.w=this.o.width;this.h=this.o.height}this.$div.css({width:this.w+"px",height:this.h+"px"});this.$c.attr({width:this.w,height:this.h});if(this.scale!==1){this.$c[0].width=this.$c[0].width*this.scale;this.$c[0].height=this.$c[0].height*this.scale;this.$c.width(this.w);this.$c.height(this.h)}return this};this._draw=function(){var g=true;f.g=f.c;f.clear();f.dH&&(g=f.dH());g!==false&&f.draw()};this._touch=function(g){var h=function(k){var j=f.xy2val(k.originalEvent.touches[f.t].pageX,k.originalEvent.touches[f.t].pageY);if(j==f.cv){return}if(f.cH&&f.cH(j)===false){return}f.change(f._validate(j));f._draw()};this.t=b.c.t(g);h(g);b.c.d.bind("touchmove.k",h).bind("touchend.k",function(){b.c.d.unbind("touchmove.k touchend.k");f.val(f.cv)});return this};this._mouse=function(h){var g=function(k){var j=f.xy2val(k.pageX,k.pageY);if(j==f.cv){return}if(f.cH&&(f.cH(j)===false)){return}f.change(f._validate(j));f._draw()};g(h);b.c.d.bind("mousemove.k",g).bind("keyup.k",function(j){if(j.keyCode===27){b.c.d.unbind("mouseup.k mousemove.k keyup.k");if(f.eH&&f.eH()===false){return}f.cancel()}}).bind("mouseup.k",function(j){b.c.d.unbind("mousemove.k mouseup.k keyup.k");f.val(f.cv)});return this};this._xy=function(){var g=this.$c.offset();this.x=g.left;this.y=g.top;return this};this._listen=function(){if(!this.o.readOnly){this.$c.bind("mousedown",function(g){g.preventDefault();f._xy()._mouse(g)}).bind("touchstart",function(g){g.preventDefault();f._xy()._touch(g)});this.listen()}else{this.$.attr("readonly","readonly")}if(this.relative){d(window).resize(function(){f._carve().init();f._draw()})}return this};this._configure=function(){if(this.o.draw){this.dH=this.o.draw}if(this.o.change){this.cH=this.o.change}if(this.o.cancel){this.eH=this.o.cancel}if(this.o.release){this.rH=this.o.release}if(this.o.displayPrevious){this.pColor=this.h2rgba(this.o.fgColor,"0.4");this.fgColor=this.h2rgba(this.o.fgColor,"0.6")}else{this.fgColor=this.o.fgColor}return this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(g){var h=(~~(((g<0)?-0.5:0.5)+(g/this.o.step)))*this.o.step;return Math.round(h*100)/100};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(g){};this.val=function(g){};this.xy2val=function(g,h){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(k,g){var j;k=k.substring(1,7);j=[parseInt(k.substring(0,2),16),parseInt(k.substring(2,4),16),parseInt(k.substring(4,6),16)];return"rgba("+j[0]+","+j[1]+","+j[2]+","+g+")"};this.copy=function(j,h){for(var g in j){h[g]=j[g]}}};b.Dial=function(){b.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.cursorExt=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=d.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:true},this.o)};this.val=function(f,g){if(null!=f){f=this.o.parse(f);if(g!==false&&f!=this.v&&this.rH&&this.rH(f)===false){return}this.cv=this.o.stopper?a(c(f,this.o.max),this.o.min):f;this.v=this.cv;this.$.val(this.o.format(this.v));this._draw()}else{return this.v}};this.xy2val=function(f,j){var g,h;g=Math.atan2(f-(this.x+this.w2),-(j-this.y-this.w2))-this.angleOffset;if(this.o.flip){g=this.angleArc-g-this.PI2}if(this.angleArc!=this.PI2&&(g<0)&&(g>-0.5)){g=0}else{if(g<0){g+=this.PI2}}h=(g*(this.o.max-this.o.min)/this.angleArc)+this.o.min;this.o.stopper&&(h=a(c(h,this.o.max),this.o.min));return h};this.listen=function(){var j=this,h,g,o=function(s){s.preventDefault();var r=s.originalEvent,p=r.detail||r.wheelDeltaX,m=r.detail||r.wheelDeltaY,q=j._validate(j.o.parse(j.$.val()))+(p>0||m>0?j.o.step:p<0||m<0?-j.o.step:0);q=a(c(q,j.o.max),j.o.min);j.val(q,false);if(j.rH){clearTimeout(h);h=setTimeout(function(){j.rH(q);h=null},100);if(!g){g=setTimeout(function(){if(h){j.rH(q)}g=null},200)}}},l,n,f=1,k={37:-j.o.step,38:j.o.step,39:j.o.step,40:-j.o.step};this.$.bind("keydown",function(q){var p=q.keyCode;if(p>=96&&p<=105){p=q.keyCode=p-48}l=parseInt(String.fromCharCode(p));if(isNaN(l)){(p!==13)&&p!==8&&p!==9&&p!==189&&(p!==190||j.$.val().match(/\./))&&q.preventDefault();if(d.inArray(p,[37,38,39,40])>-1){q.preventDefault();var m=j.o.parse(j.$.val())+k[p]*f;j.o.stopper&&(m=a(c(m,j.o.max),j.o.min));j.change(j._validate(m));j._draw();n=window.setTimeout(function(){f*=2},30)}}}).bind("keyup",function(m){if(isNaN(l)){if(n){window.clearTimeout(n);n=null;f=1;j.val(j.$.val())}}else{(j.$.val()>j.o.max&&j.$.val(j.o.max))||(j.$.val()<j.o.min&&j.$.val(j.o.min))}});this.$c.bind("mousewheel DOMMouseScroll",o);this.$.bind("mousewheel DOMMouseScroll",o)};this.init=function(){if(this.v<this.o.min||this.v>this.o.max){this.v=this.o.min}this.$.val(this.v);this.w2=this.w/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2*this.scale;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var f=a(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:((this.w/2+4)>>0)+"px",height:((this.w/3)>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":((this.w/3)>>0)+"px","margin-left":"-"+((this.w*3/4+2)>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+((this.w/f)>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})};this.change=function(f){this.cv=f;this.$.val(this.o.format(f))};this.angle=function(f){return(f-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.arc=function(g){var f,h;g=this.angle(g);if(this.o.flip){f=this.endAngle+0.00001;h=f-g-0.00001}else{f=this.startAngle-0.00001;h=f+g+0.00001}this.o.cursor&&(f=h-this.cursorExt)&&(h=h+this.cursorExt);return{s:f,e:h,d:this.o.flip&&!this.o.cursor}};this.draw=function(){var j=this.g,f=this.arc(this.cv),g,h=1;j.lineWidth=this.lineWidth;j.lineCap=this.lineCap;if(this.o.bgColor!=="none"){j.beginPath();j.strokeStyle=this.o.bgColor;j.arc(this.xy,this.xy,this.radius,this.endAngle-0.00001,this.startAngle+0.00001,true);j.stroke()}if(this.o.displayPrevious){g=this.arc(this.v);j.beginPath();j.strokeStyle=this.pColor;j.arc(this.xy,this.xy,this.radius,g.s,g.e,g.d);j.stroke();h=this.cv==this.v}j.beginPath();j.strokeStyle=h?this.o.fgColor:this.fgColor;j.arc(this.xy,this.xy,this.radius,f.s,f.e,f.d);j.stroke()};this.cancel=function(){this.val(this.v)}};d.fn.dial=d.fn.knob=function(f){return this.each(function(){var g=new b.Dial();g.o=f;g.$=d(this);g.run()}).parent()}}));(function(){var b,a=function(c,d){return function(){return c.apply(d,arguments)}};jQuery.fn.ils=function(d){var c;if(d==null){d={}}if($.isPlainObject(d)){return this.each(function(){if(!$.data(this,"plugin_membean_ils")){return $.data(this,"plugin_membean_ils",new b($(this),d))}})}else{c=Array.prototype.slice.call(arguments);return this.each(function(){var f;f=$.data(this,"plugin_membean_ils");return f[c[0]](c[1])})}};b=(function(){c.prototype.defaults={form:"form",item:".line-item"};function c(f,d){this.element=f;this.addItem=a(this.addItem,this);this.itemClicked=a(this.itemClicked,this);this.scrollItemClick=a(this.scrollItemClick,this);this.options=_.extend(this.defaults,d);this.initialize()}c.prototype.initialize=function(){this._ul=this.element.find("ul");this._ul.on("click","li",this.itemClicked);this.element.find(".ils-prev,.ils-next").on("click",this.scrollItemClick);this._prev=this.element.find(".ils-prev");this._next=this.element.find(".ils-next");return this.highlightItem(this._ul.find("li:first"))};c.prototype.scrollItemClick=function(d){if($(d.currentTarget).hasClass("ils-prev")){return this.scrollItem("prev")}else{return this.scrollItem("next")}};c.prototype.itemClicked=function(d){return this.highlightItem($(d.target))};c.prototype.addItem=function(d){var f;f=$("<li>"+d+"</li>");this.element.find("li").css({left:0});this._ul.prepend(f);return this.highlightItem(f)};c.prototype._count=0;c.prototype._ul=null;c.prototype._activeItem=null;c.prototype._prev=null;c.prototype._next=null;c.prototype.highlightItem=function(g){var d,f;if((g!=null?g.length:void 0)!==1){this.scrollItemButtonState();return false}if((f=this._activeItem)!=null){f.removeClass("ils-item-active")}this._activeItem=g;this._activeItem.addClass("ils-item-active");if(this.options.onActivateItem){d=this._activeItem.contents();if(d.length===1){d=d[0];if(d.nodeType===3){d=d.textContent}}this.options.onActivateItem.call(this._activeItem,d)}return this.scrollItemButtonState()};c.prototype.scrollItemButtonState=function(){if(!this._activeItem||this._activeItem.prev().length===0){this._prev.prop("disabled",true)}else{this._prev.prop("disabled",false)}if(!this._activeItem||this._activeItem.next().length===0){return this._next.prop("disabled",true)}else{return this._next.prop("disabled",false)}};c.prototype.scrollItem=function(g){var j,f,d,h;j=this.element.find("li");if(j.length===0||j.is(":animated")){return false}if(g==="prev"){if(this._prev.prop("disabled")){return false}d="+";this.highlightItem(this._activeItem.prev());h=this._activeItem.outerWidth(true)+2}else{if(this._next.prop("disabled")){return false}d="-";h=this._activeItem.outerWidth(true)+2;this.highlightItem(this._activeItem.next())}f=d+"="+h+"px";return j.animate({left:f},300)};return c})()}).call(this);if(typeof jwplayer=="undefined"){var jwplayer=function(b){if(jwplayer.api){return jwplayer.api.selectPlayer(b)}};var $jw=jwplayer;jwplayer.version="5.10.2295 (Licensed version)";jwplayer.vid=document.createElement("video");jwplayer.audio=document.createElement("audio");jwplayer.source=document.createElement("source");(function(c){c.utils=function(){};c.utils.typeOf=function(a){var b=typeof a;if(b==="object"){if(a){if(a instanceof Array){b="array"}}else{b="null"}}return b};c.utils.extend=function(){var f=c.utils.extend["arguments"];if(f.length>1){for(var a=1;a<f.length;a++){for(var b in f[a]){f[0][b]=f[a][b]}}return f[0]}return null};c.utils.clone=function(a){var h;var g=c.utils.clone["arguments"];if(g.length==1){switch(c.utils.typeOf(g[0])){case"object":h={};for(var b in g[0]){h[b]=c.utils.clone(g[0][b])}break;case"array":h=[];for(var b in g[0]){h[b]=c.utils.clone(g[0][b])}break;default:return g[0];break}}return h};c.utils.extension=function(a){if(!a){return""}a=a.substring(a.lastIndexOf("/")+1,a.length);a=a.split("?")[0];if(a.lastIndexOf(".")>-1){return a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase()}return};c.utils.html=function(b,a){b.innerHTML=a};c.utils.wrap=function(b,a){if(b.parentNode){b.parentNode.replaceChild(a,b)}a.appendChild(b)};c.utils.ajax=function(a,b,k){var h;if(window.XMLHttpRequest){h=new XMLHttpRequest()}else{h=new ActiveXObject("Microsoft.XMLHTTP")}h.onreadystatechange=function(){if(h.readyState===4){if(h.status===200){if(b){if(!c.utils.exists(h.responseXML)){try{if(window.DOMParser){var g=(new DOMParser()).parseFromString(h.responseText,"text/xml");if(g){h=c.utils.extend({},h,{responseXML:g})}}else{g=new ActiveXObject("Microsoft.XMLDOM");g.async="false";g.loadXML(h.responseText);h=c.utils.extend({},h,{responseXML:g})}}catch(f){if(k){k(a)}}}b(h)}}else{if(k){k(a)}}}};try{h.open("GET",a,true);h.send(null)}catch(j){if(k){k(a)}}return h};c.utils.load=function(b,a,f){b.onreadystatechange=function(){if(b.readyState===4){if(b.status===200){if(a){a()}}else{if(f){f()}}}}};c.utils.find=function(a,b){return a.getElementsByTagName(b)};c.utils.append=function(b,a){b.appendChild(a)};c.utils.isIE=function(){return((!+"\v1")||(typeof window.ActiveXObject!="undefined"))};c.utils.userAgentMatch=function(a){var b=navigator.userAgent.toLowerCase();return(b.match(a)!==null)};c.utils.isIOS=function(){return c.utils.userAgentMatch(/iP(hone|ad|od)/i)};c.utils.isIPad=function(){return c.utils.userAgentMatch(/iPad/i)};c.utils.isIPod=function(){return c.utils.userAgentMatch(/iP(hone|od)/i)};c.utils.isAndroid=function(){return c.utils.userAgentMatch(/android/i)};c.utils.isLegacyAndroid=function(){return c.utils.userAgentMatch(/android 2.[012]/i)};c.utils.isBlackberry=function(){return c.utils.userAgentMatch(/blackberry/i)};c.utils.isMobile=function(){return c.utils.userAgentMatch(/(iP(hone|ad|od))|android/i)};c.utils.getFirstPlaylistItemFromConfig=function(f){var b={};var a;if(f.playlist&&f.playlist.length){a=f.playlist[0]}else{a=f}b.file=a.file;b.levels=a.levels;b.streamer=a.streamer;b.playlistfile=a.playlistfile;b.provider=a.provider;if(!b.provider){if(b.file&&(b.file.toLowerCase().indexOf("youtube.com")>-1||b.file.toLowerCase().indexOf("youtu.be")>-1)){b.provider="youtube"}if(b.streamer&&b.streamer.toLowerCase().indexOf("rtmp://")==0){b.provider="rtmp"}if(a.type){b.provider=a.type.toLowerCase()}}if(b.provider=="audio"){b.provider="sound"}return b};c.utils.getOuterHTML=function(b){if(b.outerHTML){return b.outerHTML}else{try{return new XMLSerializer().serializeToString(b)}catch(a){return""}}};c.utils.setOuterHTML=function(b,h){if(b.outerHTML){b.outerHTML=h}else{var a=document.createElement("div");a.innerHTML=h;var k=document.createRange();k.selectNodeContents(a);var j=k.extractContents();b.parentNode.insertBefore(j,b);b.parentNode.removeChild(b)}};c.utils.hasFlash=function(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]!="undefined"){return true}if(typeof window.ActiveXObject!="undefined"){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true}catch(a){}}return false};c.utils.getPluginName=function(a){if(a.lastIndexOf("/")>=0){a=a.substring(a.lastIndexOf("/")+1,a.length)}if(a.lastIndexOf("-")>=0){a=a.substring(0,a.lastIndexOf("-"))}if(a.lastIndexOf(".swf")>=0){a=a.substring(0,a.lastIndexOf(".swf"))}if(a.lastIndexOf(".js")>=0){a=a.substring(0,a.lastIndexOf(".js"))}return a};c.utils.getPluginVersion=function(a){if(a.lastIndexOf("-")>=0){if(a.lastIndexOf(".js")>=0){return a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".js"))}else{if(a.lastIndexOf(".swf")>=0){return a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".swf"))}else{return a.substring(a.lastIndexOf("-")+1)}}}return""};c.utils.getAbsolutePath=function(b,l){if(!c.utils.exists(l)){l=document.location.href}if(!c.utils.exists(b)){return undefined}if(d(b)){return b}var a=l.substring(0,l.indexOf("://")+3);var m=l.substring(a.length,l.indexOf("/",a.length+1));var p;if(b.indexOf("/")===0){p=b.split("/")}else{var o=l.split("?")[0];o=o.substring(a.length+m.length+1,o.lastIndexOf("/"));p=o.split("/").concat(b.split("/"))}var q=[];for(var n=0;n<p.length;n++){if(!p[n]||!c.utils.exists(p[n])||p[n]=="."){continue}else{if(p[n]==".."){q.pop()}else{q.push(p[n])}}}return a+m+"/"+q.join("/")};function d(b){if(!c.utils.exists(b)){return}var a=b.indexOf("://");var f=b.indexOf("?");return(a>0&&(f<0||(f>a)))}c.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"};c.utils.getPluginPathType=function(g){if(typeof g!="string"){return}g=g.split("?")[0];var b=g.indexOf("://");if(b>0){return c.utils.pluginPathType.ABSOLUTE}var h=g.indexOf("/");var a=c.utils.extension(g);if(b<0&&h<0&&(!a||!isNaN(a))){return c.utils.pluginPathType.CDN}return c.utils.pluginPathType.RELATIVE};c.utils.mapEmpty=function(b){for(var a in b){return false}return true};c.utils.mapLength=function(b){var f=0;for(var a in b){f++}return f};c.utils.log=function(a,b){if(typeof console!="undefined"&&typeof console.log!="undefined"){if(b){console.log(a,b)}else{console.log(a)}}};c.utils.css=function(j,a,k){if(c.utils.exists(j)){for(var h in a){try{if(typeof a[h]==="undefined"){continue}else{if(typeof a[h]=="number"&&!(h=="zIndex"||h=="opacity")){if(isNaN(a[h])){continue}if(h.match(/color/i)){a[h]="#"+c.utils.strings.pad(a[h].toString(16),6)}else{a[h]=Math.ceil(a[h])+"px"}}}j.style[h]=a[h]}catch(b){}}}};c.utils.isYouTube=function(a){return(a.indexOf("youtube.com")>-1||a.indexOf("youtu.be")>-1)};c.utils.transform=function(k,l,m,b,a){if(!c.utils.exists(l)){l=1}if(!c.utils.exists(m)){m=1}if(!c.utils.exists(b)){b=0}if(!c.utils.exists(a)){a=0}if(l==1&&m==1&&b==0&&a==0){k.style.webkitTransform="";k.style.MozTransform="";k.style.OTransform=""}else{var j="scale("+l+","+m+") translate("+b+"px,"+a+"px)";k.style.webkitTransform=j;k.style.MozTransform=j;k.style.OTransform=j}};c.utils.stretch=function(v,a,b,y,s,x){if(typeof b=="undefined"||typeof y=="undefined"||typeof s=="undefined"||typeof x=="undefined"){return}var B=b/s;var z=y/x;var t=0;var u=0;var A=false;var C={};if(a.parentElement){a.parentElement.style.overflow="hidden"}c.utils.transform(a);switch(v.toUpperCase()){case c.utils.stretching.NONE:C.width=s;C.height=x;C.top=(y-C.height)/2;C.left=(b-C.width)/2;break;case c.utils.stretching.UNIFORM:if(B>z){C.width=s*z;C.height=x*z;if(C.width/b>0.95){A=true;B=Math.ceil(100*b/C.width)/100;z=1;C.width=b}}else{C.width=s*B;C.height=x*B;if(C.height/y>0.95){A=true;B=1;z=Math.ceil(100*y/C.height)/100;C.height=y}}C.top=(y-C.height)/2;C.left=(b-C.width)/2;break;case c.utils.stretching.FILL:if(B>z){C.width=s*B;C.height=x*B}else{C.width=s*z;C.height=x*z}C.top=(y-C.height)/2;C.left=(b-C.width)/2;break;case c.utils.stretching.EXACTFIT:C.width=s;C.height=x;var r=Math.round((s/2)*(1-1/B));var w=Math.round((x/2)*(1-1/z));A=true;C.top=C.left=0;break;default:break}if(A){c.utils.transform(a,B,z,r,w)}c.utils.css(a,C)};c.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"};c.utils.deepReplaceKeyName=function(a,o,q){switch(c.utils.typeOf(a)){case"array":for(var m=0;m<a.length;m++){a[m]=c.utils.deepReplaceKeyName(a[m],o,q)}break;case"object":for(var n in a){var b,l;if(o instanceof Array&&q instanceof Array){if(o.length!=q.length){continue}else{b=o;l=q}}else{b=[o];l=[q]}var p=n;for(var m=0;m<b.length;m++){p=p.replace(new RegExp(o[m],"g"),q[m])}a[p]=c.utils.deepReplaceKeyName(a[n],o,q);if(n!=p){delete a[n]}}break}return a};c.utils.isInArray=function(a,b){if(!(a)||!(a instanceof Array)){return false}for(var f=0;f<a.length;f++){if(b===a[f]){return true}}return false};c.utils.exists=function(a){switch(typeof(a)){case"string":return(a.length>0);break;case"object":return(a!==null);case"undefined":return false}return true};c.utils.empty=function(a){if(typeof a.hasChildNodes=="function"){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}};c.utils.parseDimension=function(a){if(typeof a=="string"){if(a===""){return 0}else{if(a.lastIndexOf("%")>-1){return a}else{return parseInt(a.replace("px",""),10)}}}return a};c.utils.getDimensions=function(a){if(a&&a.style){return{x:c.utils.parseDimension(a.style.left),y:c.utils.parseDimension(a.style.top),width:c.utils.parseDimension(a.style.width),height:c.utils.parseDimension(a.style.height)}}else{return{}}};c.utils.getElementWidth=function(a){if(!a){return null}else{if(a==document.body){return c.utils.parentNode(a).clientWidth}else{if(a.clientWidth>0){return a.clientWidth}else{if(a.style){return c.utils.parseDimension(a.style.width)}else{return null}}}}};c.utils.getElementHeight=function(a){if(!a){return null}else{if(a==document.body){return c.utils.parentNode(a).clientHeight}else{if(a.clientHeight>0){return a.clientHeight}else{if(a.style){return c.utils.parseDimension(a.style.height)}else{return null}}}}};c.utils.timeFormat=function(a){str="00:00";if(a>0){str=Math.floor(a/60)<10?"0"+Math.floor(a/60)+":":Math.floor(a/60)+":";str+=Math.floor(a%60)<10?"0"+Math.floor(a%60):Math.floor(a%60)}return str};c.utils.useNativeFullscreen=function(){return(navigator&&navigator.vendor&&navigator.vendor.indexOf("Apple")==0)};c.utils.parentNode=function(a){if(!a){return document.body}else{if(a.parentNode){return a.parentNode}else{if(a.parentElement){return a.parentElement}else{return a}}}};c.utils.getBoundingClientRect=function(a){if(typeof a.getBoundingClientRect=="function"){return a.getBoundingClientRect()}else{return{left:a.offsetLeft+document.body.scrollLeft,top:a.offsetTop+document.body.scrollTop,width:a.offsetWidth,height:a.offsetHeight}}};c.utils.translateEventResponse=function(h,k){var a=c.utils.extend({},k);if(h==c.api.events.JWPLAYER_FULLSCREEN&&!a.fullscreen){a.fullscreen=a.message=="true"?true:false;delete a.message}else{if(typeof a.data=="object"){a=c.utils.extend(a,a.data);delete a.data}else{if(typeof a.metadata=="object"){c.utils.deepReplaceKeyName(a.metadata,["__dot__","__spc__","__dsh__"],["."," ","-"])}}}var j=["position","duration","offset"];for(var b in j){if(a[j[b]]){a[j[b]]=Math.round(a[j[b]]*1000)/1000}}return a};c.utils.saveCookie=function(b,a){document.cookie="jwplayer."+b+"="+a+"; path=/"};c.utils.getCookies=function(){var a={};var b=document.cookie.split("; ");for(var g=0;g<b.length;g++){var h=b[g].split("=");if(h[0].indexOf("jwplayer.")==0){a[h[0].substring(9,h[0].length)]=h[1]}}return a};c.utils.readCookie=function(a){return c.utils.getCookies()[a]}})(jwplayer);(function(b){b.events=function(){};b.events.COMPLETE="COMPLETE";b.events.ERROR="ERROR"})(jwplayer);(function(jwplayer){jwplayer.events.eventdispatcher=function(debug){var _debug=debug;var _listeners;var _globallisteners;this.resetEventListeners=function(){_listeners={};_globallisteners=[]};this.resetEventListeners();this.addEventListener=function(type,listener,count){try{if(!jwplayer.utils.exists(_listeners[type])){_listeners[type]=[]}if(typeof(listener)=="string"){eval("listener = "+listener)}_listeners[type].push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return false};this.removeEventListener=function(type,listener){if(!_listeners[type]){return}try{for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){if(_listeners[type][listenerIndex].listener.toString()==listener.toString()){_listeners[type].splice(listenerIndex,1);break}}}catch(err){jwplayer.utils.log("error",err)}return false};this.addGlobalListener=function(listener,count){try{if(typeof(listener)=="string"){eval("listener = "+listener)}_globallisteners.push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return false};this.removeGlobalListener=function(listener){if(!listener){return}try{for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){if(_globallisteners[globalListenerIndex].listener.toString()==listener.toString()){_globallisteners.splice(globalListenerIndex,1);break}}}catch(err){jwplayer.utils.log("error",err)}return false};this.sendEvent=function(type,data){if(!jwplayer.utils.exists(data)){data={}}if(_debug){jwplayer.utils.log(type,data)}if(typeof _listeners[type]!="undefined"){for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){try{_listeners[type][listenerIndex].listener(data)}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_listeners[type][listenerIndex].listener)}if(_listeners[type][listenerIndex]){if(_listeners[type][listenerIndex].count===1){delete _listeners[type][listenerIndex]}else{if(_listeners[type][listenerIndex].count>0){_listeners[type][listenerIndex].count=_listeners[type][listenerIndex].count-1}}}}}for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){try{_globallisteners[globalListenerIndex].listener(data)}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_globallisteners[globalListenerIndex].listener)}if(_globallisteners[globalListenerIndex]){if(_globallisteners[globalListenerIndex].count===1){delete _globallisteners[globalListenerIndex]}else{if(_globallisteners[globalListenerIndex].count>0){_globallisteners[globalListenerIndex].count=_globallisteners[globalListenerIndex].count-1}}}}}}})(jwplayer);(function(d){var c={};d.utils.animations=function(){};d.utils.animations.transform=function(b,a){b.style.webkitTransform=a;b.style.MozTransform=a;b.style.OTransform=a;b.style.msTransform=a};d.utils.animations.transformOrigin=function(b,a){b.style.webkitTransformOrigin=a;b.style.MozTransformOrigin=a;b.style.OTransformOrigin=a;b.style.msTransformOrigin=a};d.utils.animations.rotate=function(b,a){d.utils.animations.transform(b,["rotate(",a,"deg)"].join(""))};d.utils.cancelAnimation=function(a){delete c[a.id]};d.utils.fadeTo=function(a,r,s,o,p,t){if(c[a.id]!=t&&d.utils.exists(t)){return}if(a.style.opacity==r){return}var u=new Date().getTime();if(t>u){setTimeout(function(){d.utils.fadeTo(a,r,s,o,0,t)},t-u)}if(a.style.display=="none"){a.style.display="block"}if(!d.utils.exists(o)){o=a.style.opacity===""?1:a.style.opacity}if(a.style.opacity==r&&a.style.opacity!==""&&d.utils.exists(t)){if(r===0){a.style.display="none"}return}if(!d.utils.exists(t)){t=u;c[a.id]=t}if(!d.utils.exists(p)){p=0}var n=(s>0)?((u-t)/(s*1000)):0;n=n>1?1:n;var b=r-o;var q=o+(n*b);if(q>1){q=1}else{if(q<0){q=0}}a.style.opacity=q;if(p>0){c[a.id]=t+p*1000;d.utils.fadeTo(a,r,s,o,0,c[a.id]);return}setTimeout(function(){d.utils.fadeTo(a,r,s,o,0,t)},10)}})(jwplayer);(function(b){b.utils.arrays=function(){};b.utils.arrays.indexOf=function(g,f){for(var a=0;a<g.length;a++){if(g[a]==f){return a}}return -1};b.utils.arrays.remove=function(g,f){var a=b.utils.arrays.indexOf(g,f);if(a>-1){g.splice(a,1)}}})(jwplayer);(function(b){b.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},oga:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}}})(jwplayer);(function(o){o.utils.mediaparser=function(){};var m={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}};var n={};o.utils.mediaparser.parseMedia=function(a){return p(a)};function q(a,b){if(!o.utils.exists(b)){b=m[a]}else{o.utils.extend(b,m[a])}return b}function p(g,d){if(n[g.tagName.toLowerCase()]&&!o.utils.exists(d)){return n[g.tagName.toLowerCase()](g)}else{d=q("element",d);var f={};for(var c in d){if(c!="length"){var a=g.getAttribute(c);if(o.utils.exists(a)){f[d[c]]=a}}}var b=g.style["#background-color"];if(b&&!(b=="transparent"||b=="rgba(0, 0, 0, 0)")){f.screencolor=b}return f}}function l(g,c){c=q("media",c);var b=[];var d=o.utils.selectors("source",g);for(var a in d){if(!isNaN(a)){b.push(k(d[a]))}}var f=p(g,c);if(o.utils.exists(f.file)){b[0]={file:f.file}}f.levels=b;return f}function k(a,b){b=q("source",b);var c=p(a,b);c.width=c.width?c.width:0;c.bitrate=c.bitrate?c.bitrate:0;return c}function j(a,b){b=q("video",b);var c=l(a,b);return c}n.media=l;n.audio=l;n.source=k;n.video=j})(jwplayer);(function(b){b.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"};b.utils.scriptloader=function(g){var f=b.utils.loaderstatus.NEW;var a=new b.events.eventdispatcher();b.utils.extend(this,a);this.load=function(){if(f==b.utils.loaderstatus.NEW){f=b.utils.loaderstatus.LOADING;var c=document.createElement("script");c.onload=function(d){f=b.utils.loaderstatus.COMPLETE;a.sendEvent(b.events.COMPLETE)};c.onerror=function(d){f=b.utils.loaderstatus.ERROR;a.sendEvent(b.events.ERROR)};c.onreadystatechange=function(){if(c.readyState=="loaded"||c.readyState=="complete"){f=b.utils.loaderstatus.COMPLETE;a.sendEvent(b.events.COMPLETE)}};document.getElementsByTagName("head")[0].appendChild(c);c.src=g}};this.getStatus=function(){return f}}})(jwplayer);(function(b){b.utils.selectors=function(a,f){if(!b.utils.exists(f)){f=document}a=b.utils.strings.trim(a);var h=a.charAt(0);if(h=="#"){return f.getElementById(a.substr(1))}else{if(h=="."){if(f.getElementsByClassName){return f.getElementsByClassName(a.substr(1))}else{return b.utils.selectors.getElementsByTagAndClass("*",a.substr(1))}}else{if(a.indexOf(".")>0){var g=a.split(".");return b.utils.selectors.getElementsByTagAndClass(g[0],g[1])}else{return f.getElementsByTagName(a)}}}return null};b.utils.selectors.getElementsByTagAndClass=function(o,l,m){var k=[];if(!b.utils.exists(m)){m=document}var n=m.getElementsByTagName(o);for(var p=0;p<n.length;p++){if(b.utils.exists(n[p].className)){var q=n[p].className.split(" ");for(var a=0;a<q.length;a++){if(q[a]==l){k.push(n[p])}}}}return k}})(jwplayer);(function(b){b.utils.strings=function(){};b.utils.strings.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")};b.utils.strings.pad=function(g,f,a){if(!a){a="0"}while(g.length<f){g=a+g}return g};b.utils.strings.serialize=function(a){if(a==null){return null}else{if(a=="true"){return true}else{if(a=="false"){return false}else{if(isNaN(Number(a))||a.length>5||a.length==0){return a}else{return Number(a)}}}}};b.utils.strings.seconds=function(f){f=f.replace(",",".");var a=f.split(":");var g=0;if(f.substr(-1)=="s"){g=Number(f.substr(0,f.length-1))}else{if(f.substr(-1)=="m"){g=Number(f.substr(0,f.length-1))*60}else{if(f.substr(-1)=="h"){g=Number(f.substr(0,f.length-1))*3600}else{if(a.length>1){g=Number(a[a.length-1]);g+=Number(a[a.length-2])*60;if(a.length==3){g+=Number(a[a.length-3])*3600}}else{g=Number(f)}}}}return g};b.utils.strings.xmlAttribute=function(a,g){for(var f=0;f<a.attributes.length;f++){if(a.attributes[f].name&&a.attributes[f].name.toLowerCase()==g.toLowerCase()){return a.attributes[f].value.toString()}}return""};b.utils.strings.jsonToString=function(l){var j=j||{};if(j&&j.stringify){return j.stringify(l)}var o=typeof(l);if(o!="object"||l===null){if(o=="string"){l='"'+l.replace(/"/g,'\\"')+'"'}else{return String(l)}}else{var k=[],a=(l&&l.constructor==Array);for(var n in l){var m=l[n];switch(typeof(m)){case"string":m='"'+m.replace(/"/g,'\\"')+'"';break;case"object":if(b.utils.exists(m)){m=b.utils.strings.jsonToString(m)}break}if(a){if(typeof(m)!="function"){k.push(String(m))}}else{if(typeof(m)!="function"){k.push('"'+n+'":'+String(m))}}}if(a){return"["+String(k)+"]"}else{return"{"+String(k)+"}"}}}})(jwplayer);(function(k){var j=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);k.utils.typechecker=function(a,b){b=!k.utils.exists(b)?f(a):b;return h(a,b)};function f(b){var a=["true","false","t","f"];if(a.toString().indexOf(b.toLowerCase().replace(" ",""))>=0){return"boolean"}else{if(j.test(b)){return"color"}else{if(!isNaN(parseInt(b,10))&&parseInt(b,10).toString().length==b.length){return"integer"}else{if(!isNaN(parseFloat(b))&&parseFloat(b).toString().length==b.length){return"float"}}}}return"string"}function h(a,b){if(!k.utils.exists(b)){return a}switch(b){case"color":if(a.length>0){return g(a)}return null;case"integer":return parseInt(a,10);case"float":return parseFloat(a);case"boolean":if(a.toLowerCase()=="true"){return true}else{if(a=="1"){return true}}return false}return a}function g(a){switch(a.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:a=a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2");if(a.length==3){a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)}return parseInt(a,16)}return parseInt("000000",16)}})(jwplayer);(function(b){b.utils.parsers=function(){};b.utils.parsers.localName=function(a){if(!a){return""}else{if(a.localName){return a.localName}else{if(a.baseName){return a.baseName}else{return""}}}};b.utils.parsers.textContent=function(a){if(!a){return""}else{if(a.textContent){return a.textContent}else{if(a.text){return a.text}else{return""}}}}})(jwplayer);(function(b){b.utils.parsers.jwparser=function(){};b.utils.parsers.jwparser.PREFIX="jwplayer";b.utils.parsers.jwparser.parseEntry=function(g,f){for(var a=0;a<g.childNodes.length;a++){if(g.childNodes[a].prefix==b.utils.parsers.jwparser.PREFIX){f[b.utils.parsers.localName(g.childNodes[a])]=b.utils.strings.serialize(b.utils.parsers.textContent(g.childNodes[a]));if(b.utils.parsers.localName(g.childNodes[a])=="file"&&f.levels){delete f.levels}}if(!f.file&&String(f.link).toLowerCase().indexOf("youtube")>-1){f.file=f.link}}return f};b.utils.parsers.jwparser.getProvider=function(d){if(d.type){return d.type}else{if(d.file.indexOf("youtube.com/w")>-1||d.file.indexOf("youtube.com/v")>-1||d.file.indexOf("youtu.be/")>-1){return"youtube"}else{if(d.streamer&&d.streamer.indexOf("rtmp")==0){return"rtmp"}else{if(d.streamer&&d.streamer.indexOf("http")==0){return"http"}else{var a=b.utils.strings.extension(d.file);if(extensions.hasOwnProperty(a)){return extensions[a]}}}}}return""}})(jwplayer);(function(b){b.utils.parsers.mediaparser=function(){};b.utils.parsers.mediaparser.PREFIX="media";b.utils.parsers.mediaparser.parseGroup=function(j,g){var h=false;for(var k=0;k<j.childNodes.length;k++){if(j.childNodes[k].prefix==b.utils.parsers.mediaparser.PREFIX){if(!b.utils.parsers.localName(j.childNodes[k])){continue}switch(b.utils.parsers.localName(j.childNodes[k]).toLowerCase()){case"content":if(!h){g.file=b.utils.strings.xmlAttribute(j.childNodes[k],"url")}if(b.utils.strings.xmlAttribute(j.childNodes[k],"duration")){g.duration=b.utils.strings.seconds(b.utils.strings.xmlAttribute(j.childNodes[k],"duration"))}if(b.utils.strings.xmlAttribute(j.childNodes[k],"start")){g.start=b.utils.strings.seconds(b.utils.strings.xmlAttribute(j.childNodes[k],"start"))}if(j.childNodes[k].childNodes&&j.childNodes[k].childNodes.length>0){g=b.utils.parsers.mediaparser.parseGroup(j.childNodes[k],g)}if(b.utils.strings.xmlAttribute(j.childNodes[k],"width")||b.utils.strings.xmlAttribute(j.childNodes[k],"bitrate")||b.utils.strings.xmlAttribute(j.childNodes[k],"url")){if(!g.levels){g.levels=[]}g.levels.push({width:b.utils.strings.xmlAttribute(j.childNodes[k],"width"),bitrate:b.utils.strings.xmlAttribute(j.childNodes[k],"bitrate"),file:b.utils.strings.xmlAttribute(j.childNodes[k],"url")})}break;case"title":g.title=b.utils.parsers.textContent(j.childNodes[k]);break;case"description":g.description=b.utils.parsers.textContent(j.childNodes[k]);break;case"keywords":g.tags=b.utils.parsers.textContent(j.childNodes[k]);break;case"thumbnail":g.image=b.utils.strings.xmlAttribute(j.childNodes[k],"url");break;case"credit":g.author=b.utils.parsers.textContent(j.childNodes[k]);break;case"player":var a=j.childNodes[k].url;if(a.indexOf("youtube.com")>=0||a.indexOf("youtu.be")>=0){h=true;g.file=b.utils.strings.xmlAttribute(j.childNodes[k],"url")}break;case"group":b.utils.parsers.mediaparser.parseGroup(j.childNodes[k],g);break}}}return g}})(jwplayer);(function(c){c.utils.parsers.rssparser=function(){};c.utils.parsers.rssparser.parse=function(a){var h=[];for(var b=0;b<a.childNodes.length;b++){if(c.utils.parsers.localName(a.childNodes[b]).toLowerCase()=="channel"){for(var g=0;g<a.childNodes[b].childNodes.length;g++){if(c.utils.parsers.localName(a.childNodes[b].childNodes[g]).toLowerCase()=="item"){h.push(d(a.childNodes[b].childNodes[g]))}}}}return h};function d(b){var a={};for(var f=0;f<b.childNodes.length;f++){if(!c.utils.parsers.localName(b.childNodes[f])){continue}switch(c.utils.parsers.localName(b.childNodes[f]).toLowerCase()){case"enclosure":a.file=c.utils.strings.xmlAttribute(b.childNodes[f],"url");break;case"title":a.title=c.utils.parsers.textContent(b.childNodes[f]);break;case"pubdate":a.date=c.utils.parsers.textContent(b.childNodes[f]);break;case"description":a.description=c.utils.parsers.textContent(b.childNodes[f]);break;case"link":a.link=c.utils.parsers.textContent(b.childNodes[f]);break;case"category":if(a.tags){a.tags+=c.utils.parsers.textContent(b.childNodes[f])}else{a.tags=c.utils.parsers.textContent(b.childNodes[f])}break}}a=c.utils.parsers.mediaparser.parseGroup(b,a);a=c.utils.parsers.jwparser.parseEntry(b,a);return new c.html5.playlistitem(a)}})(jwplayer);(function(f){var g={};var d={};f.plugins=function(){};f.plugins.loadPlugins=function(a,b){d[a]=new f.plugins.pluginloader(new f.plugins.model(g),b);return d[a]};f.plugins.registerPlugin=function(a,c,j){var k=f.utils.getPluginName(a);if(g[k]){g[k].registerPlugin(a,c,j)}else{f.utils.log("A plugin ("+a+") was registered with the player that was not loaded. Please check your configuration.");for(var b in d){d[b].pluginFailed()}}}})(jwplayer);(function(b){b.plugins.model=function(a){this.addPlugin=function(g){var f=b.utils.getPluginName(g);if(!a[f]){a[f]=new b.plugins.plugin(g)}return a[f]}}})(jwplayer);(function(b){b.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"};b.plugins.plugin=function(u){var s="http://lp.longtailvideo.com";var n=b.utils.loaderstatus.NEW;var m;var o;var a;var t=new b.events.eventdispatcher();b.utils.extend(this,t);function r(){switch(b.utils.getPluginPathType(u)){case b.utils.pluginPathType.ABSOLUTE:return u;case b.utils.pluginPathType.RELATIVE:return b.utils.getAbsolutePath(u,window.location.href);case b.utils.pluginPathType.CDN:var d=b.utils.getPluginName(u);var f=b.utils.getPluginVersion(u);var c=(window.location.href.indexOf("https://")==0)?s.replace("http://","https://secure"):s;return c+"/"+b.version.split(".")[0]+"/"+d+"/"+d+(f!==""?("-"+f):"")+".js"}}function p(c){a=setTimeout(function(){n=b.utils.loaderstatus.COMPLETE;t.sendEvent(b.events.COMPLETE)},1000)}function q(c){n=b.utils.loaderstatus.ERROR;t.sendEvent(b.events.ERROR)}this.load=function(){if(n==b.utils.loaderstatus.NEW){if(u.lastIndexOf(".swf")>0){m=u;n=b.utils.loaderstatus.COMPLETE;t.sendEvent(b.events.COMPLETE);return}n=b.utils.loaderstatus.LOADING;var c=new b.utils.scriptloader(r());c.addEventListener(b.events.COMPLETE,p);c.addEventListener(b.events.ERROR,q);c.load()}};this.registerPlugin=function(d,f,c){if(a){clearTimeout(a);a=undefined}if(f&&c){m=c;o=f}else{if(typeof f=="string"){m=f}else{if(typeof f=="function"){o=f}else{if(!f&&!c){m=d}}}}n=b.utils.loaderstatus.COMPLETE;t.sendEvent(b.events.COMPLETE)};this.getStatus=function(){return n};this.getPluginName=function(){return b.utils.getPluginName(u)};this.getFlashPath=function(){if(m){switch(b.utils.getPluginPathType(m)){case b.utils.pluginPathType.ABSOLUTE:return m;case b.utils.pluginPathType.RELATIVE:if(u.lastIndexOf(".swf")>0){return b.utils.getAbsolutePath(m,window.location.href)}return b.utils.getAbsolutePath(m,r());case b.utils.pluginPathType.CDN:if(m.indexOf("-")>-1){return m+"h"}return m+"-h"}}return null};this.getJS=function(){return o};this.getPluginmode=function(){if(typeof m!="undefined"&&typeof o!="undefined"){return b.plugins.pluginmodes.HYBRID}else{if(typeof m!="undefined"){return b.plugins.pluginmodes.FLASH}else{if(typeof o!="undefined"){return b.plugins.pluginmodes.JAVASCRIPT}}}};this.getNewInstance=function(f,c,d){return new o(f,c,d)};this.getURL=function(){return u}}})(jwplayer);(function(b){b.plugins.pluginloader=function(m,p){var n={};var a=b.utils.loaderstatus.NEW;var q=false;var s=false;var r=new b.events.eventdispatcher();b.utils.extend(this,r);function o(){if(!s){s=true;a=b.utils.loaderstatus.COMPLETE;r.sendEvent(b.events.COMPLETE)}}function l(){if(!s){var c=0;for(plugin in n){var d=n[plugin].getStatus();if(d==b.utils.loaderstatus.LOADING||d==b.utils.loaderstatus.NEW){c++}}if(c==0){o()}}}this.setupPlugins=function(t,d,f){var c={length:0,plugins:{}};var j={length:0,plugins:{}};for(var k in n){var h=n[k].getPluginName();if(n[k].getFlashPath()){c.plugins[n[k].getFlashPath()]=d.plugins[k];c.plugins[n[k].getFlashPath()].pluginmode=n[k].getPluginmode();c.length++}if(n[k].getJS()){var g=document.createElement("div");g.id=t.id+"_"+h;g.style.position="absolute";g.style.zIndex=j.length+10;j.plugins[h]=n[k].getNewInstance(t,d.plugins[k],g);j.length++;if(typeof j.plugins[h].resize!="undefined"){t.onReady(f(j.plugins[h],g,true));t.onResize(f(j.plugins[h],g))}}}t.plugins=j.plugins;return c};this.load=function(){a=b.utils.loaderstatus.LOADING;q=true;for(var c in p){if(b.utils.exists(c)){n[c]=m.addPlugin(c);n[c].addEventListener(b.events.COMPLETE,l);n[c].addEventListener(b.events.ERROR,l)}}for(c in n){n[c].load()}q=false;l()};this.pluginFailed=function(){o()};this.getStatus=function(){return a}}})(jwplayer);(function(c){var d=[];c.api=function(F){this.container=F;this.id=F.id;var x={};var H={};var u={};var G=[];var C=undefined;var z=false;var B=[];var a=undefined;var v=c.utils.getOuterHTML(F);var I={};var A={};this.getBuffer=function(){return this.callInternal("jwGetBuffer")};this.getContainer=function(){return this.container};function E(f,g){return function(j,k,h,m){if(f.renderingMode=="flash"||f.renderingMode=="html5"){var l;if(k){A[j]=k;l="jwplayer('"+f.id+"').callback('"+j+"')"}else{if(!k&&A[j]){delete A[j]}}C.jwDockSetButton(j,l,h,m)}return g}}this.getPlugin=function(h){var f=this;var g={};if(h=="dock"){return c.utils.extend(g,{setButton:E(f,g),show:function(){f.callInternal("jwDockShow");return g},hide:function(){f.callInternal("jwDockHide");return g},onShow:function(j){f.componentListener("dock",c.api.events.JWPLAYER_COMPONENT_SHOW,j);return g},onHide:function(j){f.componentListener("dock",c.api.events.JWPLAYER_COMPONENT_HIDE,j);return g}})}else{if(h=="controlbar"){return c.utils.extend(g,{show:function(){f.callInternal("jwControlbarShow");return g},hide:function(){f.callInternal("jwControlbarHide");return g},onShow:function(j){f.componentListener("controlbar",c.api.events.JWPLAYER_COMPONENT_SHOW,j);return g},onHide:function(j){f.componentListener("controlbar",c.api.events.JWPLAYER_COMPONENT_HIDE,j);return g}})}else{if(h=="display"){return c.utils.extend(g,{show:function(){f.callInternal("jwDisplayShow");return g},hide:function(){f.callInternal("jwDisplayHide");return g},onShow:function(j){f.componentListener("display",c.api.events.JWPLAYER_COMPONENT_SHOW,j);return g},onHide:function(j){f.componentListener("display",c.api.events.JWPLAYER_COMPONENT_HIDE,j);return g}})}else{return this.plugins[h]}}}};this.callback=function(f){if(A[f]){return A[f]()}};this.getDuration=function(){return this.callInternal("jwGetDuration")};this.getFullscreen=function(){return this.callInternal("jwGetFullscreen")};this.getHeight=function(){return this.callInternal("jwGetHeight")};this.getLockState=function(){return this.callInternal("jwGetLockState")};this.getMeta=function(){return this.getItemMeta()};this.getMute=function(){return this.callInternal("jwGetMute")};this.getPlaylist=function(){var f=this.callInternal("jwGetPlaylist");if(this.renderingMode=="flash"){c.utils.deepReplaceKeyName(f,["__dot__","__spc__","__dsh__"],["."," ","-"])}for(var g=0;g<f.length;g++){if(!c.utils.exists(f[g].index)){f[g].index=g}}return f};this.getPlaylistItem=function(f){if(!c.utils.exists(f)){f=this.getCurrentItem()}return this.getPlaylist()[f]};this.getPosition=function(){return this.callInternal("jwGetPosition")};this.getRenderingMode=function(){return this.renderingMode};this.getState=function(){return this.callInternal("jwGetState")};this.getVolume=function(){return this.callInternal("jwGetVolume")};this.getWidth=function(){return this.callInternal("jwGetWidth")};this.setFullscreen=function(f){if(!c.utils.exists(f)){this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen"))}else{this.callInternal("jwSetFullscreen",f)}return this};this.setMute=function(f){if(!c.utils.exists(f)){this.callInternal("jwSetMute",!this.callInternal("jwGetMute"))}else{this.callInternal("jwSetMute",f)}return this};this.lock=function(){return this};this.unlock=function(){return this};this.load=function(f){this.callInternal("jwLoad",f);return this};this.playlistItem=function(f){this.callInternal("jwPlaylistItem",f);return this};this.playlistPrev=function(){this.callInternal("jwPlaylistPrev");return this};this.playlistNext=function(){this.callInternal("jwPlaylistNext");return this};this.resize=function(g,h){if(this.renderingMode=="html5"){C.jwResize(g,h)}else{this.container.width=g;this.container.height=h;var f=document.getElementById(this.id+"_wrapper");if(f){f.style.width=g+"px";f.style.height=h+"px"}}return this};this.play=function(f){if(typeof f=="undefined"){f=this.getState();if(f==c.api.events.state.PLAYING||f==c.api.events.state.BUFFERING){this.callInternal("jwPause")}else{this.callInternal("jwPlay")}}else{this.callInternal("jwPlay",f)}return this};this.pause=function(f){if(typeof f=="undefined"){f=this.getState();if(f==c.api.events.state.PLAYING||f==c.api.events.state.BUFFERING){this.callInternal("jwPause")}else{this.callInternal("jwPlay")}}else{this.callInternal("jwPause",f)}return this};this.stop=function(){this.callInternal("jwStop");return this};this.seek=function(f){this.callInternal("jwSeek",f);return this};this.setVolume=function(f){this.callInternal("jwSetVolume",f);return this};this.loadInstream=function(f,g){a=new c.api.instream(this,C,f,g);return a};this.onBufferChange=function(f){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BUFFER,f)};this.onBufferFull=function(f){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BUFFER_FULL,f)};this.onError=function(f){return this.eventListener(c.api.events.JWPLAYER_ERROR,f)};this.onFullscreen=function(f){return this.eventListener(c.api.events.JWPLAYER_FULLSCREEN,f)};this.onMeta=function(f){return this.eventListener(c.api.events.JWPLAYER_MEDIA_META,f)};this.onMute=function(f){return this.eventListener(c.api.events.JWPLAYER_MEDIA_MUTE,f)};this.onPlaylist=function(f){return this.eventListener(c.api.events.JWPLAYER_PLAYLIST_LOADED,f)};this.onPlaylistItem=function(f){return this.eventListener(c.api.events.JWPLAYER_PLAYLIST_ITEM,f)};this.onReady=function(f){return this.eventListener(c.api.events.API_READY,f)};this.onResize=function(f){return this.eventListener(c.api.events.JWPLAYER_RESIZE,f)};this.onComplete=function(f){return this.eventListener(c.api.events.JWPLAYER_MEDIA_COMPLETE,f)};this.onSeek=function(f){return this.eventListener(c.api.events.JWPLAYER_MEDIA_SEEK,f)};this.onTime=function(f){return this.eventListener(c.api.events.JWPLAYER_MEDIA_TIME,f)};this.onVolume=function(f){return this.eventListener(c.api.events.JWPLAYER_MEDIA_VOLUME,f)};this.onBeforePlay=function(f){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BEFOREPLAY,f)};this.onBeforeComplete=function(f){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE,f)};this.onBuffer=function(f){return this.stateListener(c.api.events.state.BUFFERING,f)};this.onPause=function(f){return this.stateListener(c.api.events.state.PAUSED,f)};this.onPlay=function(f){return this.stateListener(c.api.events.state.PLAYING,f)};this.onIdle=function(f){return this.stateListener(c.api.events.state.IDLE,f)};this.remove=function(){if(!z){throw"Cannot call remove() before player is ready";return}b(this)};function b(f){B=[];if(c.utils.getOuterHTML(f.container)!=v){c.api.destroyPlayer(f.id,v)}}this.setup=function(g){if(c.embed){var h=this.id;b(this);var f=c(h);f.config=g;return new c.embed(f)}return this};this.registerPlugin=function(f,g,h){c.plugins.registerPlugin(f,g,h)};this.setPlayer=function(g,f){C=g;this.renderingMode=f};this.stateListener=function(g,f){if(!H[g]){H[g]=[];this.eventListener(c.api.events.JWPLAYER_PLAYER_STATE,D(g))}H[g].push(f);return this};this.detachMedia=function(){if(this.renderingMode=="html5"){return this.callInternal("jwDetachMedia")}};this.attachMedia=function(){if(this.renderingMode=="html5"){return this.callInternal("jwAttachMedia")}};function D(f){return function(h){var j=h.newstate,l=h.oldstate;if(j==f){var g=H[j];if(g){for(var k=0;k<g.length;k++){if(typeof g[k]=="function"){g[k].call(this,{oldstate:l,newstate:j})}}}}}}this.componentListener=function(h,g,f){if(!u[h]){u[h]={}}if(!u[h][g]){u[h][g]=[];this.eventListener(g,y(h,g))}u[h][g].push(f);return this};function y(g,f){return function(h){if(g==h.component){var j=u[g][f];if(j){for(var k=0;k<j.length;k++){if(typeof j[k]=="function"){j[k].call(this,h)}}}}}}this.addInternalListener=function(h,g){try{h.jwAddEventListener(g,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+g+'", dat); }')}catch(f){c.utils.log("Could not add internal listener")}};this.eventListener=function(g,f){if(!x[g]){x[g]=[];if(C&&z){this.addInternalListener(C,g)}}x[g].push(f);return this};this.dispatchEvent=function(f){if(x[f]){var g=_utils.translateEventResponse(f,arguments[1]);for(var h=0;h<x[f].length;h++){if(typeof x[f][h]=="function"){x[f][h].call(this,g)}}}};this.dispatchInstreamEvent=function(f){if(a){a.dispatchEvent(f,arguments)}};this.callInternal=function(){if(z){var f=arguments[0],h=[];for(var g=1;g<arguments.length;g++){h.push(arguments[g])}if(typeof C!="undefined"&&typeof C[f]=="function"){if(h.length==2){return(C[f])(h[0],h[1])}else{if(h.length==1){return(C[f])(h[0])}else{return(C[f])()}}}return null}else{B.push(arguments)}};this.playerReady=function(f){z=true;if(!C){this.setPlayer(document.getElementById(f.id))}this.container=document.getElementById(this.id);for(var g in x){this.addInternalListener(C,g)}this.eventListener(c.api.events.JWPLAYER_PLAYLIST_ITEM,function(h){I={}});this.eventListener(c.api.events.JWPLAYER_MEDIA_META,function(h){c.utils.extend(I,h.metadata)});this.dispatchEvent(c.api.events.API_READY);while(B.length>0){this.callInternal.apply(this,B.shift())}};this.getItemMeta=function(){return I};this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex")};function w(g,k,f){var j=[];if(!k){k=0}if(!f){f=g.length-1}for(var h=k;h<=f;h++){j.push(g[h])}return j}return this};c.api.selectPlayer=function(b){var f;if(!c.utils.exists(b)){b=0}if(b.nodeType){f=b}else{if(typeof b=="string"){f=document.getElementById(b)}}if(f){var a=c.api.playerById(f.id);if(a){return a}else{return c.api.addPlayer(new c.api(f))}}else{if(typeof b=="number"){return c.getPlayers()[b]}}return null};c.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed"};c.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"};c.api.playerById=function(a){for(var b=0;b<d.length;b++){if(d[b].id==a){return d[b]}}return null};c.api.addPlayer=function(b){for(var a=0;a<d.length;a++){if(d[a]==b){return b}}d.push(b);return b};c.api.destroyPlayer=function(n,q){var o=-1;for(var a=0;a<d.length;a++){if(d[a].id==n){o=a;continue}}if(o>=0){try{d[o].callInternal("jwDestroy")}catch(b){}var r=document.getElementById(d[o].id);if(document.getElementById(d[o].id+"_wrapper")){r=document.getElementById(d[o].id+"_wrapper")}if(r){if(q){c.utils.setOuterHTML(r,q)}else{var m=document.createElement("div");var p=r.id;if(r.id.indexOf("_wrapper")==r.id.length-8){newID=r.id.substring(0,r.id.length-8)}m.setAttribute("id",p);r.parentNode.replaceChild(m,r)}}d.splice(o,1)}return null};c.getPlayers=function(){return d.slice(0)}})(jwplayer);var _userPlayerReady=(typeof playerReady=="function")?playerReady:undefined;playerReady=function(c){var d=jwplayer.api.playerById(c.id);if(d){d.playerReady(c)}else{jwplayer.api.selectPlayer(c.id).playerReady(c)}if(_userPlayerReady){_userPlayerReady.call(this,c)}};(function(b){b.api.instream=function(D,x,t,a){var y=D;var E=x;var z=t;var w=a;var B={};var r={};function A(){y.callInternal("jwLoadInstream",t,a)}function u(d,c){E.jwInstreamAddEventListener(c,'function(dat) { jwplayer("'+y.id+'").dispatchInstreamEvent("'+c+'", dat); }')}function C(d,c){if(!B[d]){B[d]=[];u(E,d)}B[d].push(c);return this}function s(d,c){if(!r[d]){r[d]=[];C(b.api.events.JWPLAYER_PLAYER_STATE,v(d))}r[d].push(c);return this}function v(c){return function(h){var j=h.newstate,f=h.oldstate;if(j==c){var g=r[j];if(g){for(var d=0;d<g.length;d++){if(typeof g[d]=="function"){g[d].call(this,{oldstate:f,newstate:j,type:h.type})}}}}}}this.dispatchEvent=function(c,d){if(B[c]){var f=_utils.translateEventResponse(c,d[1]);for(var g=0;g<B[c].length;g++){if(typeof B[c][g]=="function"){B[c][g].call(this,f)}}}};this.onError=function(c){return C(b.api.events.JWPLAYER_ERROR,c)};this.onFullscreen=function(c){return C(b.api.events.JWPLAYER_FULLSCREEN,c)};this.onMeta=function(c){return C(b.api.events.JWPLAYER_MEDIA_META,c)};this.onMute=function(c){return C(b.api.events.JWPLAYER_MEDIA_MUTE,c)};this.onComplete=function(c){return C(b.api.events.JWPLAYER_MEDIA_COMPLETE,c)};this.onSeek=function(c){return C(b.api.events.JWPLAYER_MEDIA_SEEK,c)};this.onTime=function(c){return C(b.api.events.JWPLAYER_MEDIA_TIME,c)};this.onVolume=function(c){return C(b.api.events.JWPLAYER_MEDIA_VOLUME,c)};this.onBuffer=function(c){return s(b.api.events.state.BUFFERING,c)};this.onPause=function(c){return s(b.api.events.state.PAUSED,c)};this.onPlay=function(c){return s(b.api.events.state.PLAYING,c)};this.onIdle=function(c){return s(b.api.events.state.IDLE,c)};this.onInstreamClick=function(c){return C(b.api.events.JWPLAYER_INSTREAM_CLICK,c)};this.onInstreamDestroyed=function(c){return C(b.api.events.JWPLAYER_INSTREAM_DESTROYED,c)};this.play=function(c){E.jwInstreamPlay(c)};this.pause=function(c){E.jwInstreamPause(c)};this.seek=function(c){E.jwInstreamSeek(c)};this.destroy=function(){E.jwInstreamDestroy()};this.getState=function(){return E.jwInstreamGetState()};this.getDuration=function(){return E.jwInstreamGetDuration()};this.getPosition=function(){return E.jwInstreamGetPosition()};A()}})(jwplayer);(function(f){var g=f.utils;f.embed=function(c){var a={width:400,height:300,components:{controlbar:{position:"over"}}};var l=g.mediaparser.parseMedia(c.container);var m=new f.embed.config(g.extend(a,l,c.config),this);var b=f.plugins.loadPlugins(c.id,m.plugins);function o(k,h){for(var j in h){if(typeof k[j]=="function"){(k[j]).call(k,h[j])}}}function n(){if(b.getStatus()==g.loaderstatus.COMPLETE){for(var v=0;v<m.modes.length;v++){if(m.modes[v].type&&f.embed[m.modes[v].type]){var k=m.modes[v].config;var y=m;if(k){y=g.extend(g.clone(m),k);var z=["file","levels","playlist"];for(var w=0;w<z.length;w++){var j=z[w];if(g.exists(k[j])){for(var x=0;x<z.length;x++){if(x!=w){var u=z[x];if(g.exists(y[u])&&!g.exists(k[u])){delete y[u]}}}}}}var h=new f.embed[m.modes[v].type](document.getElementById(c.id),m.modes[v],y,b,c);if(h.supportsConfig()){h.embed();o(c,m.events);return c}}}g.log("No suitable players found");new f.embed.logo(g.extend({hide:true},m.components.logo),"none",c.id)}}b.addEventListener(f.events.COMPLETE,n);b.addEventListener(f.events.ERROR,n);b.load();return c};function d(){if(!document.body){return setTimeout(d,15)}var c=g.selectors.getElementsByTagAndClass("video","jwplayer");for(var b=0;b<c.length;b++){var a=c[b];if(a.id==""){a.id="jwplayer_"+Math.round(Math.random()*100000)}f(a.id).setup({})}}d()})(jwplayer);(function(q){var l=q.utils;function n(a){var b=[{type:"flash",src:a?a:"/jwplayer/player.swf"},{type:"html5"},{type:"download"}];if(l.isAndroid()){b[0]=b.splice(1,1,b[0])[0]}return b}var u={players:"modes",autoplay:"autostart"};function t(c){var d=c.toLowerCase();var a=["left","right","top","bottom"];for(var b=0;b<a.length;b++){if(d==a[b]){return true}}return false}function s(a){var b=false;b=(a instanceof Array)||(typeof a=="object"&&!a.position&&!a.size);return b}function m(a){if(typeof a=="string"){if(parseInt(a).toString()==a||a.toLowerCase().indexOf("px")>-1){return parseInt(a)}}return a}var o=["playlist","dock","controlbar","logo","display"];function p(b){var d={};switch(l.typeOf(b.plugins)){case"object":for(var f in b.plugins){d[l.getPluginName(f)]=f}break;case"string":var c=b.plugins.split(",");for(var a=0;a<c.length;a++){d[l.getPluginName(c[a])]=c[a]}break}return d}function r(d,f,g,b){if(l.typeOf(d[f])!="object"){d[f]={}}var a=d[f][g];if(l.typeOf(a)!="object"){d[f][g]=a={}}if(b){if(f=="plugins"){var c=l.getPluginName(g);a[b]=d[c+"."+b];delete d[c+"."+b]}else{a[b]=d[g+"."+b];delete d[g+"."+b]}}}q.embed.deserialize=function(a){var g=p(a);for(var b in g){r(a,"plugins",g[b])}for(var c in a){if(c.indexOf(".")>-1){var d=c.split(".");var f=d[0];var c=d[1];if(l.isInArray(o,f)){r(a,"components",f,c)}else{if(g[f]){r(a,"plugins",g[f],c)}}}}return a};q.embed.config=function(h,j){var k=l.extend({},h);var x;if(s(k.playlist)){x=k.playlist;delete k.playlist}k=q.embed.deserialize(k);k.height=m(k.height);k.width=m(k.width);if(typeof k.plugins=="string"){var g=k.plugins.split(",");if(typeof k.plugins!="object"){k.plugins={}}for(var b=0;b<g.length;b++){var a=l.getPluginName(g[b]);if(typeof k[a]=="object"){k.plugins[g[b]]=k[a];delete k[a]}else{k.plugins[g[b]]={}}}}for(var w=0;w<o.length;w++){var c=o[w];if(l.exists(k[c])){if(typeof k[c]!="object"){if(!k.components[c]){k.components[c]={}}if(c=="logo"){k.components[c].file=k[c]}else{k.components[c].position=k[c]}delete k[c]}else{if(!k.components[c]){k.components[c]={}}l.extend(k.components[c],k[c]);delete k[c]}}if(typeof k[c+"size"]!="undefined"){if(!k.components[c]){k.components[c]={}}k.components[c].size=k[c+"size"];delete k[c+"size"]}}if(typeof k.icons!="undefined"){if(!k.components.display){k.components.display={}}k.components.display.icons=k.icons;delete k.icons}for(var d in u){if(k[d]){if(!k[u[d]]){k[u[d]]=k[d]}delete k[d]}}var f;if(k.flashplayer&&!k.modes){f=n(k.flashplayer);delete k.flashplayer}else{if(k.modes){if(typeof k.modes=="string"){f=n(k.modes)}else{if(k.modes instanceof Array){f=k.modes}else{if(typeof k.modes=="object"&&k.modes.type){f=[k.modes]}}}delete k.modes}else{f=n()}}k.modes=f;if(x){k.playlist=x}return k}})(jwplayer);(function(b){b.embed.download=function(m,h,a,l,j){this.embed=function(){var y=b.utils.extend({},a);var d={};var z=a.width?a.width:480;if(typeof z!="number"){z=parseInt(z,10)}var w=a.height?a.height:320;if(typeof w!="number"){w=parseInt(w,10)}var B,g,v;var D={};if(a.playlist&&a.playlist.length){D.file=a.playlist[0].file;g=a.playlist[0].image;D.levels=a.playlist[0].levels}else{D.file=a.file;g=a.image;D.levels=a.levels}if(D.file){B=D.file}else{if(D.levels&&D.levels.length){B=D.levels[0].file}}v=B?"pointer":"auto";var x={display:{style:{cursor:v,width:z,height:w,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:v,position:"absolute",display:B?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:v,position:"absolute",display:B?"block":"none",top:((w-50)/2),left:((z-50)/2),border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:z,height:w,display:g?"block":"none",position:"absolute",cursor:v,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}};var A=function(p,n,q){var o=document.createElement(p);if(q){o.id=q}else{o.id=m.id+"_jwplayer_"+n}b.utils.css(o,x[n].style);return o};d.display=A("a","display",m.id);if(B){d.display.setAttribute("href",b.utils.getAbsolutePath(B))}d.display_image=A("img","display_image");d.display_image.setAttribute("alt","Click to download...");if(g){d.display_image.setAttribute("src",b.utils.getAbsolutePath(g))}if(true){d.display_icon=A("div","display_icon");d.display_iconBackground=A("div","display_iconBackground");d.display.appendChild(d.display_image);d.display_iconBackground.appendChild(d.display_icon);d.display.appendChild(d.display_iconBackground)}_css=b.utils.css;_hide=function(n){_css(n,{display:"none"})};function c(n){_imageWidth=d.display_image.naturalWidth;_imageHeight=d.display_image.naturalHeight;C()}function C(){b.utils.stretch(b.utils.stretching.UNIFORM,d.display_image,z,w,_imageWidth,_imageHeight)}d.display_image.onerror=function(n){_hide(d.display_image)};d.display_image.onload=c;m.parentNode.replaceChild(d.display,m);var f=(a.plugins&&a.plugins.logo)?a.plugins.logo:{};d.display.appendChild(new b.embed.logo(a.components.logo,"download",m.id));j.container=document.getElementById(j.id);j.setPlayer(d.display,"download")};this.supportsConfig=function(){if(a){var c=b.utils.getFirstPlaylistItemFromConfig(a);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true}else{if(c.file){return k(c.file,c.provider,c.playlistfile)}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&k(c.levels[d].file,c.provider,c.playlistfile)){return true}}}}}}else{return true}};function k(g,d,n){if(n){return false}var f=["image","sound","youtube","http"];if(d&&(f.toString().indexOf(d)>-1)){return true}if(!d||(d&&d=="video")){var c=b.utils.extension(g);if(c&&b.utils.extensionmap[c]){return true}}return false}}})(jwplayer);(function(b){b.embed.flash=function(s,r,n,t,p){function a(f,g,d){var c=document.createElement("param");c.setAttribute("name",g);c.setAttribute("value",d);f.appendChild(c)}function o(d,c,f){return function(j){if(f){document.getElementById(p.id+"_wrapper").appendChild(c)}var g=document.getElementById(p.id).getPluginConfig("display");d.resize(g.width,g.height);var h={left:g.x,top:g.y};b.utils.css(c,h)}}function u(f){if(!f){return{}}var c={};for(var g in f){var h=f[g];for(var d in h){c[g+"."+d]=h[d]}}return c}function q(f,g){if(f[g]){var c=f[g];for(var h in c){var j=c[h];if(typeof j=="string"){if(!f[h]){f[h]=j}}else{for(var d in j){if(!f[h+"."+d]){f[h+"."+d]=j[d]}}}}delete f[g]}}function w(g){if(!g){return{}}var c={},d=[];for(var k in g){var h=b.utils.getPluginName(k);var j=g[k];d.push(k);for(var f in j){c[h+"."+f]=j[f]}}c.plugins=d.join(",");return c}function v(c){var f=c.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&";for(var d in c){if(typeof(c[d])=="object"){f+=d+"="+encodeURIComponent("[[JSON]]"+b.utils.strings.jsonToString(c[d]))+"&"}else{f+=d+"="+encodeURIComponent(c[d])+"&"}}return f.substring(0,f.length-1)}this.embed=function(){n.id=p.id;var h;var c=b.utils.extend({},n);var g=c.width;var l=c.height;if(s.id+"_wrapper"==s.parentNode.id){h=document.getElementById(s.id+"_wrapper")}else{h=document.createElement("div");h.id=s.id+"_wrapper";b.utils.wrap(s,h);b.utils.css(h,{position:"relative",width:g,height:l})}var f=t.setupPlugins(p,c,o);if(f.length>0){b.utils.extend(c,w(f.plugins))}else{delete c.plugins}var F=["height","width","modes","events"];for(var C=0;C<F.length;C++){delete c[F[C]]}var d="opaque";if(c.wmode){d=c.wmode}q(c,"components");q(c,"providers");if(typeof c["dock.position"]!="undefined"){if(c["dock.position"].toString().toLowerCase()=="false"){c.dock=c["dock.position"];delete c["dock.position"]}}var m=b.utils.getCookies();for(var j in m){if(typeof(c[j])=="undefined"){c[j]=m[j]}}var k="#000000";var D;if(b.utils.isIE()){var B='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+k+'" width="100%" height="100%" id="'+s.id+'" name="'+s.id+'" tabindex=0"">';B+='<param name="movie" value="'+r.src+'">';B+='<param name="allowfullscreen" value="true">';B+='<param name="allowscriptaccess" value="always">';B+='<param name="seamlesstabbing" value="true">';B+='<param name="wmode" value="'+d+'">';B+='<param name="flashvars" value="'+v(c)+'">';B+="</object>";b.utils.setOuterHTML(s,B);D=document.getElementById(s.id)}else{var E=document.createElement("object");E.setAttribute("type","application/x-shockwave-flash");E.setAttribute("data",r.src);E.setAttribute("width","100%");E.setAttribute("height","100%");E.setAttribute("bgcolor","#000000");E.setAttribute("id",s.id);E.setAttribute("name",s.id);E.setAttribute("tabindex",0);a(E,"allowfullscreen","true");a(E,"allowscriptaccess","always");a(E,"seamlesstabbing","true");a(E,"wmode",d);a(E,"flashvars",v(c));s.parentNode.replaceChild(E,s);D=E}p.container=D;p.setPlayer(D,"flash")};this.supportsConfig=function(){if(b.utils.hasFlash()){if(n){var c=b.utils.getFirstPlaylistItemFromConfig(n);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true}else{if(c.file){return flashCanPlay(c.file,c.provider)}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&flashCanPlay(c.levels[d].file,c.provider)){return true}}}}}}else{return true}}return false};flashCanPlay=function(g,d){var f=["video","http","sound","image"];if(d&&(f.toString().indexOf(d)<0)){return true}var c=b.utils.extension(g);if(!c){return true}if(b.utils.exists(b.utils.extensionmap[c])&&!b.utils.exists(b.utils.extensionmap[c].flash)){return false}return true}}})(jwplayer);(function(b){b.embed.html5=function(m,h,a,l,j){function k(d,c,f){return function(n){var g=document.getElementById(m.id+"_displayarea");if(f){g.appendChild(c)}d.resize(g.clientWidth,g.clientHeight);c.left=g.style.left;c.top=g.style.top}}this.embed=function(){if(b.html5){l.setupPlugins(j,a,k);m.innerHTML="";var f=b.utils.extend({screencolor:"0x000000"},a);var g=["plugins","modes","events"];for(var d=0;d<g.length;d++){delete f[g[d]]}if(f.levels&&!f.sources){f.sources=a.levels}if(f.skin&&f.skin.toLowerCase().indexOf(".zip")>0){f.skin=f.skin.replace(/\.zip/i,".xml")}var c=new (b.html5(m)).setup(f);j.container=document.getElementById(j.id);j.setPlayer(c,"html5")}else{return null}};this.supportsConfig=function(){if(!!b.vid.canPlayType){if(a){var c=b.utils.getFirstPlaylistItemFromConfig(a);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true}else{if(c.file){return html5CanPlay(b.vid,c.file,c.provider,c.playlistfile)}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&html5CanPlay(b.vid,c.levels[d].file,c.provider,c.playlistfile)){return true}}}}}}else{return true}}return false};html5CanPlay=function(f,g,d,n){if(n){return false}if(d&&d=="youtube"){return true}if(d&&d!="video"&&d!="http"&&d!="sound"){return false}if(navigator.userAgent.match(/BlackBerry/i)!==null){return false}var c=b.utils.extension(g);if(!b.utils.exists(c)||!b.utils.exists(b.utils.extensionmap[c])){return true}if(!b.utils.exists(b.utils.extensionmap[c].html5)){return false}if(b.utils.isLegacyAndroid()&&c.match(/m4v|mp4/)){return true}return browserCanPlay(f,b.utils.extensionmap[c].html5)};browserCanPlay=function(c,d){if(!d){return true}if(c.canPlayType(d)){return true}else{if(d=="audio/mp3"&&navigator.userAgent.match(/safari/i)){return c.canPlayType("audio/mpeg")}else{return false}}}}})(jwplayer);(function(b){b.embed.logo=function(s,t,A){var v={prefix:"http://l.longtailvideo.com/"+t+"/",file:"",link:"",linktarget:"_top",margin:8,out:0.5,over:1,timeout:5,hide:false,position:"bottom-left"};_css=b.utils.css;var C;var w;u();function u(){q();B();y()}function q(){if(v.prefix){var c=b.version.split(/\W/).splice(0,2).join("/");if(v.prefix.indexOf(c)<0){v.prefix+=c+"/"}}w=b.utils.extend({},v,s)}function a(){var c={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10};c.display=w.hide?"none":"block";var d=w.position.toLowerCase().split("-");for(var f in d){c[d[f]]=w.margin}return c}function B(){C=document.createElement("img");C.id=A+"_jwplayer_logo";C.style.display="none";C.onload=function(c){_css(C,a());z()};if(!w.file){return}if(w.file.indexOf("http://")===0){C.src=w.file}else{C.src=w.prefix+w.file}}if(!w.file){return}function y(){if(w.link){C.onmouseover=x;C.onmouseout=z;C.onclick=r}else{this.mouseEnabled=false}}function r(c){if(typeof c!="undefined"){c.preventDefault();c.stopPropagation()}if(w.link){window.open(w.link,w.linktarget)}return}function z(c){if(w.link){C.style.opacity=w.out}return}function x(c){if(w.hide){C.style.opacity=w.over}return}return C}})(jwplayer);(function(b){b.html5=function(a){var d=a;this.setup=function(c){b.utils.extend(this,new b.html5.api(d,c));return this};return this}})(jwplayer);(function(g){var h=g.utils;var f=h.css;var j=h.isIOS();g.html5.view=function(ax,ac,aC){var ay=ax;var al=ac;var aB=aC;var c;var aD;var aq;var aw;var ae;var U;var V;var af=false;var am=false;var aj,W;var aE,b,ap;function Y(){c=document.createElement("div");c.id=al.id;c.className=al.className;_videowrapper=document.createElement("div");_videowrapper.id=c.id+"_video_wrapper";al.id=c.id+"_video";f(c,{position:"relative",height:aB.height,width:aB.width,padding:0,backgroundColor:k(),zIndex:0});function k(){if(ay.skin.getComponentSettings("display")&&ay.skin.getComponentSettings("display").backgroundcolor){return ay.skin.getComponentSettings("display").backgroundcolor}return parseInt("000000",16)}f(al,{width:"100%",height:"100%",top:0,left:0,zIndex:1,margin:"auto",display:"block"});f(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0});h.wrap(al,c);h.wrap(al,_videowrapper);aw=document.createElement("div");aw.id=c.id+"_displayarea";c.appendChild(aw);_instreamArea=document.createElement("div");_instreamArea.id=c.id+"_instreamarea";f(_instreamArea,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:100,background:"000000",display:"none"});c.appendChild(_instreamArea)}function Z(){for(var l=0;l<aB.plugins.order.length;l++){var k=aB.plugins.order[l];if(h.exists(aB.plugins.object[k].getDisplayElement)){aB.plugins.object[k].height=h.parseDimension(aB.plugins.object[k].getDisplayElement().style.height);aB.plugins.object[k].width=h.parseDimension(aB.plugins.object[k].getDisplayElement().style.width);aB.plugins.config[k].currentPosition=aB.plugins.config[k].position}}ao()}function ar(k){am=aB.fullscreen}function av(k){if(b){return}switch(k.newstate){case g.api.events.state.PLAYING:if(aB.getMedia()&&aB.getMedia().hasChrome()){aw.style.display="none"}break;default:aw.style.display="block";break}az()}function ao(l){var n=aB.getMedia()?aB.getMedia().getDisplayElement():null;if(h.exists(n)){if(V!=n){if(V&&V.parentNode){V.parentNode.replaceChild(n,V)}V=n}for(var m=0;m<aB.plugins.order.length;m++){var k=aB.plugins.order[m];if(h.exists(aB.plugins.object[k].getDisplayElement)){aB.plugins.config[k].currentPosition=aB.plugins.config[k].position}}}ad(aB.width,aB.height)}this.setup=function(){if(aB&&aB.getMedia()){al=aB.getMedia().getDisplayElement()}Y();Z();ay.jwAddEventListener(g.api.events.JWPLAYER_PLAYER_STATE,av);ay.jwAddEventListener(g.api.events.JWPLAYER_MEDIA_LOADED,ao);ay.jwAddEventListener(g.api.events.JWPLAYER_MEDIA_BEFOREPLAY,ar);ay.jwAddEventListener(g.api.events.JWPLAYER_MEDIA_META,function(l){az()});var k;if(h.exists(window.onresize)){k=window.onresize}window.onresize=function(m){if(h.exists(k)){try{k(m)}catch(n){}}if(ay.jwGetFullscreen()){if(!ai()){var l=h.getBoundingClientRect(document.body);aB.width=Math.abs(l.left)+Math.abs(l.right);aB.height=window.innerHeight;ad(aB.width,aB.height)}}else{ad(aB.width,aB.height)}}};function X(k){switch(k.keyCode){case 27:if(ay.jwGetFullscreen()){ay.jwSetFullscreen(false)}break;case 32:if(ay.jwGetState()!=g.api.events.state.IDLE&&ay.jwGetState()!=g.api.events.state.PAUSED){ay.jwPause()}else{ay.jwPlay()}break}}function ad(q,s){if(c.style.display=="none"){return}var n=[].concat(aB.plugins.order);n.reverse();ae=n.length+2;if(am&&ai()){try{if(aB.fullscreen&&!aB.getMedia().getDisplayElement().webkitDisplayingFullscreen){aB.fullscreen=false}}catch(k){}}if(!aB.fullscreen){aD=q;aq=s;if(typeof q=="string"&&q.indexOf("%")>0){aD=h.getElementWidth(h.parentNode(c))*parseInt(q.replace("%"),"")/100}else{aD=q}if(typeof s=="string"&&s.indexOf("%")>0){aq=h.getElementHeight(h.parentNode(c))*parseInt(s.replace("%"),"")/100}else{aq=s}var m={top:0,bottom:0,left:0,right:0,width:aD,height:aq,position:"absolute"};f(aw,m);var r={};var u;try{u=aB.plugins.object.display.getDisplayElement()}catch(k){}if(u){r.width=h.parseDimension(u.style.width);r.height=h.parseDimension(u.style.height)}var t=h.extend({},m,r,{zIndex:_instreamArea.style.zIndex,display:_instreamArea.style.display});f(_instreamArea,t);f(c,{height:aq,width:aD});var l=an(ab,n);if(l.length>0){ae+=l.length;var o=l.indexOf("playlist"),p=l.indexOf("controlbar");if(o>=0&&p>=0){l[o]=l.splice(p,1,l[o])[0]}an(au,l,true)}aj=h.getElementWidth(aw);W=h.getElementHeight(aw)}else{if(!ai()&&!j){an(aF,n,true)}}az()}var at;function an(s,n,m){at=0;var l=[];for(var o=0;o<n.length;o++){var k=n[o];if(h.exists(aB.plugins.object[k].getDisplayElement)){if(aB.plugins.config[k].currentPosition!=g.html5.view.positions.NONE){var q=s(k,ae--);if(!q){l.push(k)}else{var p=q.width;var r=q.height;if(m){delete q.width;delete q.height}f(aB.plugins.object[k].getDisplayElement(),q);aB.plugins.object[k].resize(p,r)}}else{f(aB.plugins.object[k].getDisplayElement(),{display:"none"})}}}return l}function ab(l,k){if(h.exists(aB.plugins.object[l].getDisplayElement)){if(aB.plugins.config[l].position&&a(aB.plugins.config[l].position)){if(!h.exists(aB.plugins.object[l].getDisplayElement().parentNode)){c.appendChild(aB.plugins.object[l].getDisplayElement())}var m=ak(l);m.zIndex=k;return m}}return false}function au(l,k){if(!h.exists(aB.plugins.object[l].getDisplayElement().parentNode)){aw.appendChild(aB.plugins.object[l].getDisplayElement())}return{position:"absolute",width:(h.getElementWidth(aw)-h.parseDimension(aw.style.right)),height:(h.getElementHeight(aw)-h.parseDimension(aw.style.bottom)),zIndex:k}}function aF(l,k){return{position:"fixed",width:aB.width,height:aB.height,zIndex:k}}var az=this.resizeMedia=function(){aw.style.position="absolute";var k=aB.getMedia()?aB.getMedia().getDisplayElement():ap;if(!k){return}if(k&&k.tagName.toLowerCase()=="video"){if(!k.videoWidth||!k.videoHeight){k.style.width=aw.style.width;k.style.height=aw.style.height;return}k.style.position="absolute";h.fadeTo(k,1,0.25);if(k.parentNode){k.parentNode.style.left=aw.style.left;k.parentNode.style.top=aw.style.top}if(aB.fullscreen&&ay.jwGetStretching()==g.utils.stretching.EXACTFIT&&!h.isMobile()){var m=document.createElement("div");h.stretch(g.utils.stretching.UNIFORM,m,h.getElementWidth(aw),h.getElementHeight(aw),aj,W);h.stretch(g.utils.stretching.EXACTFIT,k,h.parseDimension(m.style.width),h.parseDimension(m.style.height),k.videoWidth?k.videoWidth:400,k.videoHeight?k.videoHeight:300);f(k,{left:m.style.left,top:m.style.top})}else{if(!j){h.stretch(ay.jwGetStretching(),k,h.getElementWidth(aw),h.getElementHeight(aw),k.videoWidth?k.videoWidth:400,k.videoHeight?k.videoHeight:300)}}}else{var l=aB.plugins.object.display.getDisplayElement();if(l){aB.getMedia().resize(h.parseDimension(l.style.width),h.parseDimension(l.style.height))}else{aB.getMedia().resize(h.parseDimension(aw.style.width),h.parseDimension(aw.style.height))}}};var ak=this.getComponentPosition=function(l){var k={position:"absolute",margin:0,padding:0,top:null};var m=aB.plugins.config[l].currentPosition.toLowerCase();switch(m.toUpperCase()){case g.html5.view.positions.TOP:k.top=h.parseDimension(aw.style.top);k.left=h.parseDimension(aw.style.left);k.width=h.getElementWidth(aw)-h.parseDimension(aw.style.left)-h.parseDimension(aw.style.right);k.height=aB.plugins.object[l].height;aw.style[m]=h.parseDimension(aw.style[m])+aB.plugins.object[l].height+"px";aw.style.height=h.getElementHeight(aw)-k.height+"px";break;case g.html5.view.positions.RIGHT:k.top=h.parseDimension(aw.style.top);k.right=h.parseDimension(aw.style.right);k.width=aB.plugins.object[l].width;k.height=h.getElementHeight(aw)-h.parseDimension(aw.style.top)-h.parseDimension(aw.style.bottom);aw.style.width=h.getElementWidth(aw)-k.width+"px";break;case g.html5.view.positions.BOTTOM:k.left=h.parseDimension(aw.style.left);k.width=h.getElementWidth(aw)-h.parseDimension(aw.style.left)-h.parseDimension(aw.style.right);k.height=aB.plugins.object[l].height;k.bottom=h.parseDimension(aw.style.bottom+at);at+=k.height;aw.style.height=h.getElementHeight(aw)-k.height+"px";break;case g.html5.view.positions.LEFT:k.top=h.parseDimension(aw.style.top);k.left=h.parseDimension(aw.style.left);k.width=aB.plugins.object[l].width;k.height=h.getElementHeight(aw)-h.parseDimension(aw.style.top)-h.parseDimension(aw.style.bottom);aw.style[m]=h.parseDimension(aw.style[m])+aB.plugins.object[l].width+"px";aw.style.width=h.getElementWidth(aw)-k.width+"px";break;default:break}return k};this.resize=ad;var aa,aA,d;var ah=this.fullscreen=function(k){if(j){return}var p;try{p=aB.getMedia().getDisplayElement()}catch(q){}if(k){aA=aB.width;d=aB.height}var o={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483000},n={position:"relative",height:aA,width:d,zIndex:0};if(ai()&&p&&p.webkitSupportsFullscreen){if(k&&!p.webkitDisplayingFullscreen){try{f(p,o);h.transform(p);aa=aw.style.display;aw.style.display="none";p.webkitEnterFullscreen()}catch(l){}}else{if(!k){f(p,n);az();if(p.webkitDisplayingFullscreen){try{p.webkitExitFullscreen()}catch(l){}}aw.style.display=aa}}af=false}else{if(k){document.onkeydown=X;clearInterval(U);var m=h.getBoundingClientRect(document.body);aB.width=Math.abs(m.left)+Math.abs(m.right);aB.height=window.innerHeight;f(c,o);o.zIndex=1;if(aB.getMedia()&&aB.getMedia().getDisplayElement()){f(aB.getMedia().getDisplayElement(),o)}o.zIndex=2;f(aw,o);af=true}else{document.onkeydown="";aB.width=aD;aB.height=aq;f(c,n);af=false}ad(aB.width,aB.height)}};function a(k){return([g.html5.view.positions.TOP,g.html5.view.positions.RIGHT,g.html5.view.positions.BOTTOM,g.html5.view.positions.LEFT].toString().indexOf(k.toUpperCase())>-1)}function ai(){if(ay.jwGetState()!=g.api.events.state.IDLE&&!af&&(aB.getMedia()&&aB.getMedia().getDisplayElement()&&aB.getMedia().getDisplayElement().webkitSupportsFullscreen)&&h.useNativeFullscreen()){return true}return false}this.setupInstream=function(l,k){h.css(_instreamArea,{display:"block",position:"absolute"});aw.style.display="none";_instreamArea.appendChild(l);ap=k;b=true};var ag=this.destroyInstream=function(){_instreamArea.style.display="none";_instreamArea.innerHTML="";aw.style.display="block";ap=null;b=false;ad(aB.width,aB.height)}};g.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"}})(jwplayer);(function(d){var c={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("000000",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:d.html5.view.positions.BOTTOM,idlehide:false,hideplaylistcontrols:false,forcenextprev:false,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_utils=d.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"})};_show=function(a){_css(a,{display:"block"})};d.html5.controlbar=function(bc,b){window.controlbar=this;var bd=bc;var aR=_utils.extend({},c,bd.skin.getComponentSettings("controlbar"),b);if(aR.position==d.html5.view.positions.NONE||typeof d.html5.view.positions[aR.position]=="undefined"){return}if(_utils.mapLength(bd.skin.getComponentLayout("controlbar"))>0){aR.layout=bd.skin.getComponentLayout("controlbar")}var aN;var au;var aO;var aP;var a2="none";var bg;var be;var aK;var bh;var bi;var aZ;var at={};var a8=false;var bl={};var av=-1;var aV;var bf=false;var a9;var bk;var ap=false;var aL=false;var aJ;var aY=new d.html5.eventdispatcher();_utils.extend(this,aY);function aD(){if(!aV){aV=bd.skin.getSkinElement("controlbar","background");if(!aV){aV={width:0,height:0,src:null}}}return aV}function ax(){aO=0;aP=0;au=0;if(!a8){var f={height:aD().height,backgroundColor:aR.backgroundcolor};aN=document.createElement("div");aN.id=bd.id+"_jwplayer_controlbar";_css(aN,f)}var g=(bd.skin.getSkinElement("controlbar","capLeft"));var h=(bd.skin.getSkinElement("controlbar","capRight"));if(g){a0("capLeft","left",false,aN)}aT("background",aN,{position:"absolute",height:aD().height,left:(g?g.width:0),zIndex:0},"img");if(aD().src){at.background.src=aD().src}aT("elements",aN,{position:"relative",height:aD().height,zIndex:1});if(h){a0("capRight","right",false,aN)}}this.getDisplayElement=function(){return aN};this.resize=function(f,h){ar();_utils.cancelAnimation(aN);bi=f;aZ=h;if(aL!=bd.jwGetFullscreen()){aL=bd.jwGetFullscreen();if(!aL){a()}bk=undefined}var g=a1();aE({id:bd.id,duration:aK,position:be});a3({id:bd.id,bufferPercent:bh});return g};this.show=function(){if(bf){bf=false;_show(aN);ao()}};this.hide=function(){if(!bf){bf=true;_hide(aN);aQ()}};function a7(){var g=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"];for(var f in g){var h=g[f];if(typeof at[h]!="undefined"){bl[h]=_utils.getBoundingClientRect(at[h])}}}var bj;function a(f){if(bf){return}clearTimeout(a9);if(aR.position==d.html5.view.positions.OVER||bd.jwGetFullscreen()){switch(bd.jwGetState()){case d.api.events.state.PAUSED:case d.api.events.state.IDLE:if(aN&&aN.style.opacity<1&&(!aR.idlehide||_utils.exists(f))){bj=false;setTimeout(function(){if(!bj){an()}},100)}if(aR.idlehide){a9=setTimeout(function(){aX()},2000)}break;default:bj=true;if(f){an()}a9=setTimeout(function(){aX()},2000);break}}else{an()}}function aX(){if(!bf){aQ();if(aN.style.opacity==1){_utils.cancelAnimation(aN);_utils.fadeTo(aN,0,0.1,1,0)}}}function an(){if(!bf){ao();if(aN.style.opacity==0){_utils.cancelAnimation(aN);_utils.fadeTo(aN,1,0.1,0,0)}}}function aH(f){return function(){if(ap&&bk!=f){bk=f;aY.sendEvent(f,{component:"controlbar",boundingRect:aw()})}}}var ao=aH(d.api.events.JWPLAYER_COMPONENT_SHOW);var aQ=aH(d.api.events.JWPLAYER_COMPONENT_HIDE);function aw(){if(aR.position==d.html5.view.positions.OVER||bd.jwGetFullscreen()){return _utils.getDimensions(aN)}else{return{x:0,y:0,width:0,height:0}}}function aT(f,g,h,k){var j;if(!a8){if(!k){k="div"}j=document.createElement(k);at[f]=j;j.id=aN.id+"_"+f;g.appendChild(j)}else{j=document.getElementById(aN.id+"_"+f)}if(_utils.exists(h)){_css(j,h)}return j}function ay(){if(bd.jwGetHeight()<=40){aR.layout=_utils.clone(aR.layout);for(var f=0;f<aR.layout.left.elements.length;f++){if(aR.layout.left.elements[f].name=="fullscreen"){aR.layout.left.elements.splice(f,1)}}for(f=0;f<aR.layout.right.elements.length;f++){if(aR.layout.right.elements[f].name=="fullscreen"){aR.layout.right.elements.splice(f,1)}}ba()}aB(aR.layout.left);aB(aR.layout.center);aB(aR.layout.right)}function aB(g,k){var f=g.position=="right"?"right":"left";var h=_utils.extend([],g.elements);if(_utils.exists(k)){h.reverse()}var g=aT(g.position+"Group",at.elements,{"float":"left",styleFloat:"left",cssFloat:"left",height:"100%"});for(var j=0;j<h.length;j++){aS(h[j],f,g)}}function aA(){return au++}function aS(l,j,g){var m,o,n,p,f;if(!g){g=at.elements}if(l.type=="divider"){a0("divider"+aA(),j,true,g,undefined,l.width,l.element);return}switch(l.name){case"play":a0("playButton",j,false,g);a0("pauseButton",j,true,g);aq("playButton","jwPlay");aq("pauseButton","jwPause");break;case"prev":a0("prevButton",j,true,g);aq("prevButton","jwPlaylistPrev");break;case"stop":a0("stopButton",j,true,g);aq("stopButton","jwStop");break;case"next":a0("nextButton",j,true,g);aq("nextButton","jwPlaylistNext");break;case"elapsed":a0("elapsedText",j,true,g,null,null,bd.skin.getSkinElement("controlbar","elapsedBackground"));break;case"time":o=!_utils.exists(bd.skin.getSkinElement("controlbar","timeSliderCapLeft"))?0:bd.skin.getSkinElement("controlbar","timeSliderCapLeft").width;n=!_utils.exists(bd.skin.getSkinElement("controlbar","timeSliderCapRight"))?0:bd.skin.getSkinElement("controlbar","timeSliderCapRight").width;m=j=="left"?o:n;f={height:aD().height,position:"relative","float":"left",styleFloat:"left",cssFloat:"left"};var k=aT("timeSlider",g,f);a0("timeSliderCapLeft",j,true,k,"relative");a0("timeSliderRail",j,false,k,"relative");a0("timeSliderBuffer",j,false,k,"absolute");a0("timeSliderProgress",j,false,k,"absolute");a0("timeSliderThumb",j,false,k,"absolute");a0("timeSliderCapRight",j,true,k,"relative");aW("time");break;case"fullscreen":a0("fullscreenButton",j,false,g);a0("normalscreenButton",j,true,g);aq("fullscreenButton","jwSetFullscreen",true);aq("normalscreenButton","jwSetFullscreen",false);break;case"volume":o=!_utils.exists(bd.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?0:bd.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;n=!_utils.exists(bd.skin.getSkinElement("controlbar","volumeSliderCapRight"))?0:bd.skin.getSkinElement("controlbar","volumeSliderCapRight").width;m=j=="left"?o:n;p=bd.skin.getSkinElement("controlbar","volumeSliderRail").width+o+n;f={height:aD().height,position:"relative",width:p,"float":"left",styleFloat:"left",cssFloat:"left"};var h=aT("volumeSlider",g,f);a0("volumeSliderCapLeft",j,false,h,"relative");a0("volumeSliderRail",j,false,h,"relative");a0("volumeSliderProgress",j,false,h,"absolute");a0("volumeSliderThumb",j,false,h,"absolute");a0("volumeSliderCapRight",j,false,h,"relative");aW("volume");break;case"mute":a0("muteButton",j,false,g);a0("unmuteButton",j,true,g);aq("muteButton","jwSetMute",true);aq("unmuteButton","jwSetMute",false);break;case"duration":a0("durationText",j,true,g,null,null,bd.skin.getSkinElement("controlbar","durationBackground"));break}}function a0(m,j,o,f,l,p,n){if(_utils.exists(bd.skin.getSkinElement("controlbar",m))||m.indexOf("Text")>0||m.indexOf("divider")===0){var k={height:"100%",position:l?l:"relative",display:"block","float":"left",styleFloat:"left",cssFloat:"left"};if((m.indexOf("next")===0||m.indexOf("prev")===0)&&(bd.jwGetPlaylist().length<2||aR.hideplaylistcontrols.toString()=="true")){if(aR.forcenextprev.toString()!="true"){o=false;k.display="none"}}var q;if(m.indexOf("Text")>0){m.innerhtml="00:00";k.font=aR.fontsize+"px/"+(aD().height+1)+"px "+aR.font;k.color=aR.fontcolor;k.textAlign="center";k.fontWeight=aR.fontweight;k.fontStyle=aR.fontstyle;k.cursor="default";if(n){k.background="url("+n.src+") no-repeat center";k.backgroundSize="100% "+aD().height+"px"}k.padding="0 5px"}else{if(m.indexOf("divider")===0){if(p){if(!isNaN(parseInt(p))){q=parseInt(p)}}else{if(n){var h=bd.skin.getSkinElement("controlbar",n);if(h){k.background="url("+h.src+") repeat-x center left";q=h.width}}else{k.background="url("+bd.skin.getSkinElement("controlbar","divider").src+") repeat-x center left";q=bd.skin.getSkinElement("controlbar","divider").width}}}else{k.background="url("+bd.skin.getSkinElement("controlbar",m).src+") repeat-x center left";q=bd.skin.getSkinElement("controlbar",m).width}}if(j=="left"){if(o){aO+=q}}else{if(j=="right"){if(o){aP+=q}}}if(_utils.typeOf(f)=="undefined"){f=at.elements}k.width=q;if(a8){_css(at[m],k)}else{var g=aT(m,f,k);if(_utils.exists(bd.skin.getSkinElement("controlbar",m+"Over"))){g.onmouseover=function(r){g.style.backgroundImage=["url(",bd.skin.getSkinElement("controlbar",m+"Over").src,")"].join("")};g.onmouseout=function(r){g.style.backgroundImage=["url(",bd.skin.getSkinElement("controlbar",m).src,")"].join("")}}if(m.indexOf("divider")==0){g.setAttribute("class","divider")}g.innerHTML="&nbsp;"}}}function aM(){bd.jwAddEventListener(d.api.events.JWPLAYER_PLAYLIST_LOADED,aU);bd.jwAddEventListener(d.api.events.JWPLAYER_PLAYLIST_ITEM,a5);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER,a3);bd.jwAddEventListener(d.api.events.JWPLAYER_PLAYER_STATE,a6);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_TIME,aE);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_MUTE,aC);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_VOLUME,bb);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,az)}function aU(){if(!aR.hideplaylistcontrols){if(bd.jwGetPlaylist().length>1||aR.forcenextprev.toString()=="true"){_show(at.nextButton);_show(at.prevButton)}else{_hide(at.nextButton);_hide(at.prevButton)}a1();aI()}}function a5(f){aK=bd.jwGetPlaylist()[f.index].duration;av=-1;aE({id:bd.id,duration:aK,position:0});a3({id:bd.id,bufferProgress:0})}function aI(){aE({id:bd.id,duration:bd.jwGetDuration(),position:0});a3({id:bd.id,bufferProgress:0});aC({id:bd.id,mute:bd.jwGetMute()});a6({id:bd.id,newstate:d.api.events.state.IDLE});bb({id:bd.id,volume:bd.jwGetVolume()})}function aq(g,f,h){if(a8){return}if(_utils.exists(bd.skin.getSkinElement("controlbar",g))){var j=at[g];if(_utils.exists(j)){_css(j,{cursor:"pointer"});if(f=="fullscreen"){j.onmouseup=function(k){k.stopPropagation();bd.jwSetFullscreen(!bd.jwGetFullscreen())}}else{j.onmouseup=function(k){k.stopPropagation();if(_utils.exists(h)){bd[f](h)}else{bd[f]()}}}}}}function aW(g){if(a8){return}var f=at[g+"Slider"];_css(at.elements,{cursor:"pointer"});_css(f,{cursor:"pointer"});f.onmousedown=function(h){a2=g};f.onmouseup=function(h){h.stopPropagation();aF(h.pageX)};f.onmousemove=function(j){if(a2=="time"){bg=true;var h=j.pageX-bl[g+"Slider"].left-window.pageXOffset;_css(at[a2+"SliderThumb"],{left:h})}}}function aF(h){bg=false;var j;if(a2=="time"){j=h-bl.timeSliderRail.left+window.pageXOffset;var f=j/bl.timeSliderRail.width*aK;if(f<0){f=0}else{if(f>aK){f=aK-3}}if(bd.jwGetState()==d.api.events.state.PAUSED||bd.jwGetState()==d.api.events.state.IDLE){bd.jwPlay()}bd.jwSeek(f)}else{if(a2=="volume"){j=h-bl.volumeSliderRail.left-window.pageXOffset;var g=Math.round(j/bl.volumeSliderRail.width*100);if(g<10){g=0}else{if(g>100){g=100}}if(bd.jwGetMute()){bd.jwSetMute(false)}bd.jwSetVolume(g)}}a2="none"}function a3(h){if(_utils.exists(h.bufferPercent)){bh=h.bufferPercent}if(bl.timeSliderRail){var f=bd.skin.getSkinElement("controlbar","timeSliderCapLeft");var g=bl.timeSliderRail.width;var j=isNaN(Math.round(g*bh/100))?0:Math.round(g*bh/100);_css(at.timeSliderBuffer,{width:j,left:f?f.width:0})}}function aC(f){if(f.mute){_hide(at.muteButton);_show(at.unmuteButton);_hide(at.volumeSliderProgress)}else{_show(at.muteButton);_hide(at.unmuteButton);_show(at.volumeSliderProgress)}}function a6(f){if(f.newstate==d.api.events.state.BUFFERING||f.newstate==d.api.events.state.PLAYING){_show(at.pauseButton);_hide(at.playButton)}else{_hide(at.pauseButton);_show(at.playButton)}a();if(f.newstate==d.api.events.state.IDLE){_hide(at.timeSliderBuffer);_hide(at.timeSliderProgress);_hide(at.timeSliderThumb);aE({id:bd.id,duration:bd.jwGetDuration(),position:0})}else{_show(at.timeSliderBuffer);if(f.newstate!=d.api.events.state.BUFFERING){_show(at.timeSliderProgress);_show(at.timeSliderThumb)}}}function az(f){a3({bufferPercent:0});aE(_utils.extend(f,{position:0,duration:aK}))}function aE(f){if(_utils.exists(f.position)){be=f.position}var k=false;if(_utils.exists(f.duration)&&f.duration!=aK){aK=f.duration;k=true}var h=(be===aK===0)?0:be/aK;var m=bl.timeSliderRail;if(m){var j=isNaN(Math.round(m.width*h))?0:Math.round(m.width*h);var n=bd.skin.getSkinElement("controlbar","timeSliderCapLeft");var g=j+(n?n.width:0);if(at.timeSliderProgress){_css(at.timeSliderProgress,{width:j,left:n?n.width:0});if(!bg){if(at.timeSliderThumb){at.timeSliderThumb.style.left=g+"px"}}}}if(at.durationText){at.durationText.innerHTML=_utils.timeFormat(aK)}if(at.elapsedText){var l=_utils.timeFormat(be);at.elapsedText.innerHTML=l;if(av!=l.length){k=true;av=l.length}}if(k){a1()}}function ba(){var l=at.elements.childNodes;var f,h;for(var j=0;j<l.length;j++){var g=l[j].childNodes;for(var k in g){if(isNaN(parseInt(k,10))){continue}if(g[k].id.indexOf(aN.id+"_divider")===0&&h&&h.id.indexOf(aN.id+"_divider")===0&&g[k].style.backgroundImage==h.style.backgroundImage){g[k].style.display="none"}else{if(g[k].id.indexOf(aN.id+"_divider")===0&&f&&f.style.display!="none"){g[k].style.display="block"}}if(g[k].style.display!="none"){h=g[k]}f=g[k]}}}function aG(){if(bd.jwGetFullscreen()){_show(at.normalscreenButton);_hide(at.fullscreenButton)}else{_hide(at.normalscreenButton);_show(at.fullscreenButton)}if(bd.jwGetState()==d.api.events.state.BUFFERING||bd.jwGetState()==d.api.events.state.PLAYING){_show(at.pauseButton);_hide(at.playButton)}else{_hide(at.pauseButton);_show(at.playButton)}if(bd.jwGetMute()==true){_hide(at.muteButton);_show(at.unmuteButton);_hide(at.volumeSliderProgress)}else{_show(at.muteButton);_hide(at.unmuteButton);_show(at.volumeSliderProgress)}}function a1(){ba();aG();var n={width:bi};var f={"float":"left",styleFloat:"left",cssFloat:"left"};if(aR.position==d.html5.view.positions.OVER||bd.jwGetFullscreen()){n.left=aR.margin;n.width-=2*aR.margin;n.top=aZ-aD().height-aR.margin;n.height=aD().height}var l=bd.skin.getSkinElement("controlbar","capLeft");var h=bd.skin.getSkinElement("controlbar","capRight");f.width=n.width-(l?l.width:0)-(h?h.width:0);var m=_utils.getBoundingClientRect(at.leftGroup).width;var j=_utils.getBoundingClientRect(at.rightGroup).width;var k=f.width-m-j-1;var o=k;var p=bd.skin.getSkinElement("controlbar","timeSliderCapLeft");var g=bd.skin.getSkinElement("controlbar","timeSliderCapRight");if(_utils.exists(p)){o-=p.width}if(_utils.exists(g)){o-=g.width}at.timeSlider.style.width=k+"px";at.timeSliderRail.style.width=o+"px";_css(aN,n);_css(at.elements,f);_css(at.background,f);a7();return n}function bb(f){if(_utils.exists(at.volumeSliderRail)){var j=isNaN(f.volume/100)?1:f.volume/100;var h=_utils.parseDimension(at.volumeSliderRail.style.width);var l=isNaN(Math.round(h*j))?0:Math.round(h*j);var m=_utils.parseDimension(at.volumeSliderRail.style.right);var k=(!_utils.exists(bd.skin.getSkinElement("controlbar","volumeSliderCapLeft")))?0:bd.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;_css(at.volumeSliderProgress,{width:l,left:k});if(at.volumeSliderThumb){var g=(l-Math.round(_utils.parseDimension(at.volumeSliderThumb.style.width)/2));g=Math.min(Math.max(g,0),h-_utils.parseDimension(at.volumeSliderThumb.style.width));_css(at.volumeSliderThumb,{left:g})}if(_utils.exists(at.volumeSliderCapLeft)){_css(at.volumeSliderCapLeft,{left:0})}}}function ar(){try{var f=(bd.id.indexOf("_instream")>0?bd.id.replace("_instream",""):bd.id);aJ=document.getElementById(f);aJ.addEventListener("mousemove",a)}catch(g){_utils.log("Could not add mouse listeners to controlbar: "+g)}}function a4(){ax();ay();a7();a8=true;aM();aR.idlehide=(aR.idlehide.toString().toLowerCase()=="true");if(aR.position==d.html5.view.positions.OVER&&aR.idlehide){aN.style.opacity=0;ap=true}else{aN.style.opacity=1;setTimeout((function(){ap=true;ao()}),1)}ar();aI()}a4();return this}})(jwplayer);(function(d){var f=["width","height","state","playlist","item","position","buffer","duration","volume","mute","fullscreen"];var g=d.utils;d.html5.controller=function(av,Y,aD,aB){var aw=av,ax=aD,aA=aB,ak=Y,W=true,ac=-1,ai=false,aF=false,T,ag=[],at=false;var af=(g.exists(ax.config.debug)&&(ax.config.debug.toString().toLowerCase()=="console")),V=new d.html5.eventdispatcher(ak.id,af);g.extend(this,V);function X(h){if(at){V.sendEvent(h.type,h)}else{ag.push(h)}}function aq(k){if(!at){at=true;V.sendEvent(d.api.events.JWPLAYER_READY,k);if(d.utils.exists(window.playerReady)){playerReady(k)}if(d.utils.exists(window[aD.config.playerReady])){window[aD.config.playerReady](k)}while(ag.length>0){var h=ag.shift();V.sendEvent(h.type,h)}if(aD.config.autostart&&!d.utils.isIOS()){U()}while(al.length>0){var j=al.shift();ah(j.method,j.arguments)}}}ax.addGlobalListener(X);ax.addEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){ax.getMedia().play()});ax.addEventListener(d.api.events.JWPLAYER_MEDIA_TIME,function(h){if(h.position>=ax.playlist[ax.item].start&&ac>=0){ax.playlist[ax.item].start=ac;ac=-1}});ax.addEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,function(h){setTimeout(ae,25)});ax.addEventListener(d.api.events.JWPLAYER_PLAYLIST_LOADED,U);ax.addEventListener(d.api.events.JWPLAYER_FULLSCREEN,au);function ad(){try{T=ad;if(!ai){ai=true;V.sendEvent(d.api.events.JWPLAYER_MEDIA_BEFOREPLAY);ai=false;if(aF){aF=false;T=null;return}}an(ax.item);if(ax.playlist[ax.item].levels[0].file.length>0){if(W||ax.state==d.api.events.state.IDLE){ax.getMedia().load(ax.playlist[ax.item]);W=false}else{if(ax.state==d.api.events.state.PAUSED){ax.getMedia().play()}}}return true}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h);T=null}return false}function aE(){try{if(ax.playlist[ax.item].levels[0].file.length>0){switch(ax.state){case d.api.events.state.PLAYING:case d.api.events.state.BUFFERING:if(ax.getMedia()){ax.getMedia().pause()}break;default:if(ai){aF=true}}}return true}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h)}return false}function aj(j){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(typeof j!="number"){j=parseFloat(j)}switch(ax.state){case d.api.events.state.IDLE:if(ac<0){ac=ax.playlist[ax.item].start;ax.playlist[ax.item].start=j}if(!ai){ad()}break;case d.api.events.state.PLAYING:case d.api.events.state.PAUSED:case d.api.events.state.BUFFERING:ax.seek(j);break}}return true}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h)}return false}function am(j){T=null;if(!g.exists(j)){j=true}try{if((ax.state!=d.api.events.state.IDLE||j)&&ax.getMedia()){ax.getMedia().stop(j)}if(ai){aF=true}return true}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h)}return false}function az(){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(ax.config.shuffle){an(a())}else{if(ax.item+1==ax.playlist.length){an(0)}else{an(ax.item+1)}}}if(ax.state!=d.api.events.state.IDLE){var h=ax.state;ax.state=d.api.events.state.IDLE;V.sendEvent(d.api.events.JWPLAYER_PLAYER_STATE,{oldstate:h,newstate:d.api.events.state.IDLE})}ad();return true}catch(j){V.sendEvent(d.api.events.JWPLAYER_ERROR,j)}return false}function aa(){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(ax.config.shuffle){an(a())}else{if(ax.item===0){an(ax.playlist.length-1)}else{an(ax.item-1)}}}if(ax.state!=d.api.events.state.IDLE){var h=ax.state;ax.state=d.api.events.state.IDLE;V.sendEvent(d.api.events.JWPLAYER_PLAYER_STATE,{oldstate:h,newstate:d.api.events.state.IDLE})}ad();return true}catch(j){V.sendEvent(d.api.events.JWPLAYER_ERROR,j)}return false}function a(){var h=null;if(ax.playlist.length>1){while(!g.exists(h)){h=Math.floor(Math.random()*ax.playlist.length);if(h==ax.item){h=null}}}else{h=0}return h}function ab(j){if(!ax.playlist||!ax.playlist[j]){return false}try{if(ax.playlist[j].levels[0].file.length>0){var h=ax.state;if(h!==d.api.events.state.IDLE){if(ax.playlist[ax.item]&&ax.playlist[ax.item].provider==ax.playlist[j].provider){am(false)}else{am()}}an(j);ad()}return true}catch(k){V.sendEvent(d.api.events.JWPLAYER_ERROR,k)}return false}function an(h){if(!ax.playlist[h]){return}ax.setActiveMediaProvider(ax.playlist[h]);if(ax.item!=h){ax.item=h;W=true;V.sendEvent(d.api.events.JWPLAYER_PLAYLIST_ITEM,{index:h})}}function aC(j){try{an(ax.item);var h=ax.getMedia();switch(typeof(j)){case"number":h.volume(j);break;case"string":h.volume(parseInt(j,10));break}ax.setVolume(j);return true}catch(k){V.sendEvent(d.api.events.JWPLAYER_ERROR,k)}return false}function ar(j){try{an(ax.item);var h=ax.getMedia();if(typeof j=="undefined"){h.mute(!ax.mute);ax.setMute(!ax.mute)}else{if(j.toString().toLowerCase()=="true"){h.mute(true);ax.setMute(true)}else{h.mute(false);ax.setMute(false)}}return true}catch(k){V.sendEvent(d.api.events.JWPLAYER_ERROR,k)}return false}function Z(j,k){try{ax.width=j;ax.height=k;aA.resize(j,k);V.sendEvent(d.api.events.JWPLAYER_RESIZE,{width:ax.width,height:ax.height});return true}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h)}return false}function ao(j,h){try{if(typeof j=="undefined"){j=!ax.fullscreen}if(typeof h=="undefined"){h=true}if(j!=ax.fullscreen){ax.fullscreen=(j.toString().toLowerCase()=="true");aA.fullscreen(ax.fullscreen);if(h){V.sendEvent(d.api.events.JWPLAYER_FULLSCREEN,{fullscreen:ax.fullscreen})}V.sendEvent(d.api.events.JWPLAYER_RESIZE,{width:ax.width,height:ax.height})}return true}catch(k){V.sendEvent(d.api.events.JWPLAYER_ERROR,k)}return false}function b(j){try{am();if(ai){aF=false}ax.loadPlaylist(j);if(ax.playlist[ax.item].provider){an(ax.item);if(ax.config.autostart.toString().toLowerCase()=="true"&&!g.isIOS()&&!ai){ad()}return true}else{return false}}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h)}return false}function U(h){if(!g.isIOS()){an(ax.item);if(ax.config.autostart.toString().toLowerCase()=="true"&&!g.isIOS()){ad()}}}function au(h){ao(h.fullscreen,false)}function ap(){try{return ax.getMedia().detachMedia()}catch(h){return null}}function ay(){try{var j=ax.getMedia().attachMedia();if(typeof T=="function"){T()}}catch(h){return null}}d.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"};function ae(){if(ax.state!=d.api.events.state.IDLE){return}T=ae;switch(ax.config.repeat.toUpperCase()){case d.html5.controller.repeatoptions.SINGLE:ad();break;case d.html5.controller.repeatoptions.ALWAYS:if(ax.item==ax.playlist.length-1&&!ax.config.shuffle){ab(0)}else{az()}break;case d.html5.controller.repeatoptions.LIST:if(ax.item==ax.playlist.length-1&&!ax.config.shuffle){am();an(0)}else{az()}break;default:am();break}}var al=[];function c(h){return function(){if(at){ah(h,arguments)}else{al.push({method:h,arguments:arguments})}}}function ah(h,j){var k=[];for(i=0;i<j.length;i++){k.push(j[i])}h.apply(this,k)}this.play=c(ad);this.pause=c(aE);this.seek=c(aj);this.stop=c(am);this.next=c(az);this.prev=c(aa);this.item=c(ab);this.setVolume=c(aC);this.setMute=c(ar);this.resize=c(Z);this.setFullscreen=c(ao);this.load=c(b);this.playerReady=aq;this.detachMedia=ap;this.attachMedia=ay;this.beforePlay=function(){return ai};this.destroy=function(){if(ax.getMedia()){ax.getMedia().destroy()}}}})(jwplayer);(function(b){b.html5.defaultSkin=function(){this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.1"><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/><setting name="fontcolor" value="0x000000"/></settings><layout><group position="left"><button name="play"/><divider name="divider"/><button name="prev"/><divider name="divider"/><button name="next"/><divider name="divider"/><text name="elapsed"/></group><group position="center"><slider name="time"/></group><group position="right"><text name="duration"/><divider name="divider"/><button name="blank"/><divider name="divider"/><button name="mute"/><slider name="volume"/><divider name="divider"/><button name="fullscreen"/></group></layout><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUOI3t1LERACAMQlFgGvcfxNIhHMK4gsUvUviOmgtNsiAZkBSEKxKEnCYkkQrJn/YwbUNiSDDYRZaQRDaShv+oX9GBZEIuK+8hXVLs+/YAAAAASUVORK5CYII="/><element name="blankButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUCB0FwcENgEAAw7Aq+893g8APUILNOQcbFRktVGqUVFRkWNz3xTa2sUaLNUosKlRUvvf5AdbWOTtzmzyWAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAANUlEQVR42u2RsQkAAAjD/NTTPaW6dXLrINJA1kBpGPMAjDWmOgp1HFQXx+b1KOefO4oxY57R73YnVYCQUCQAAAAASUVORK5CYII="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAIUlEQVQ4jWNgGAWjYOiD/0gYG3/U0FFDB4Oho2AUDAYAAEwiL9HrpdMVAAAAAElFTkSuQmCC"/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQklEQVQ4y2NgGAWjYOiD/1AMA/JAfB5NjCJD/YH4PRaLyDa0H4lNNUP/DxlD59PCUBCIp3ZEwYA+NZLUKBgFgwEAAN+HLX9sB8u8AAAAAElFTkSuQmCC"/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQElEQVQ4y2NgGAWjYOiD/0B8Hojl0cT+U2ooCL8HYn9qGwrD/bQw9P+QMXQ+tSMqnpoRBUpS+tRMUqNgFAwGAADxZy1/mHvFnAAAAABJRU5ErkJggg=="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAOElEQVRIDe3BwQkAIRADwAhhw/nU/kWwUK+KPITMABFh19Y+F0acY8CJvX9wYpXgRElwolSIiMf9ZWEDhtwurFsAAAAASUVORK5CYII="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIDe3BwQkAMQwDMBcc55mRe9zi7RR+FCwBEWG39vcfGHFm4MTuhhMlwYlVBSdKhYh43AW/LQMKm1spzwAAAABJRU5ErkJggg=="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAIElEQVRIiWNgGAWjYBTQBfynMR61YCRYMApGwSigMQAAiVWPcbq6UkIAAAAASUVORK5CYII="/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAYCAYAAAA/OUfnAAAAO0lEQVQYlWP4//8/Awwz0JgDBP/BeN6Cxf/hnI2btiI4u/fsQ3AOHjqK4Jw4eQbBOX/hEoKDYjSd/AMA4cS4mfLsorgAAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAJklEQVQ4y2NgGAUjDcwH4v/kaPxPikZkxcNVI9mBQ5XoGAWDFwAAsKAXKQQmfbUAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAMklEQVQ4y2NgGAWDHPyntub5xBr6Hwv/Pzk2/yfVG/8psRFE25Oq8T+tQnsIaB4FVAcAi2YVysVY52AAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAACmpqampqbBXAu8AAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAAAAAAAAACDY+nAAAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderCapRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAQklEQVRIiWNgGAWjYMiD/0iYFDmSLbDHImdPLQtgBpEiR7Zl2NijAA5oEkT/0Whi5UiyAJ8BVMsHNMtoo2AUDAIAAGdcIN3IDNXoAAAAAElFTkSuQmCC"/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAP0lEQVRIx2NgGAWjYMiD/1RSQ5QB/wmIUWzJfzx8qhj+n4DYCAY0DyJ7PBbYU8sHMEvwiZFtODXUjIJRMJgBACpWIN2ZxdPTAAAAAElFTkSuQmCC"/></elements></component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAiUlEQVR42u3XSw2AMBREURwgAQlIQAISKgUpSEFKJeCg5b0E0kWBTVcD9ySTsL0Jn9IBAAAA+K2UUrBlW/Rr5ZDoIeeuoFkxJD9ss03aIXXQqB9SttoG7ZA6qNcOKdttiwcJh9RB+iFl4SshkRBuLR72+9cvH0SOKI2HRo7x/Fi1/uoCAAAAwLsD8ki99IlO2dQAAAAASUVORK5CYII="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAVUlEQVR42u3WMQrAIAxAUW/g/SdvGmvpoOBeSHgPsjj5QTANAACARCJilIhYM0tEvJM+Ik3Id9E957kQIb+F3OdCPC0hPkQriqWx9hp/x/QGAABQyAPLB22VGrpLDgAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA/0lEQVR42u2U0QmEMBAF7cASLMESUoIlpARLSCkpwRJSgiWkhOvAXD4WsgRkyaG5DbyB+Yvg8KITAAAAAAAYk+u61mwk15EjPtlEfihmqIiZR1Qx80ghjgdUuiHXGHSVsoag0x6x8DUoyjD5KovmEJ9NTDMRPIT0mtdIUkjlonuNohO+Ha99DTmkuGgKCTcvebAzx82ZoCWC3/3aIMWSRucaxcjORSFY4xpFdjYJGp1rFGcyCYZ/RVh6AUnfcNZ2zih3/mGj1jVCdiNDwyrq1rA/xMdeEXvDVdnYc1vDc3uPkDObXrlaxbNHSOohQhr/WOeLEWfWTgAAAAAAADzNF9sHJ7PJ57MlAAAAAElFTkSuQmCC"/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACBklEQVR42u3Zv0sCYRzH8USTzOsHHEWGkC1HgaDgkktGDjUYtDQ01RDSljQ1BLU02+rk1NTm2NLq4Nx/0L/h9fnCd3j4cnZe1/U8xiO8h3uurufF0/3COd/3/0UWYiEWYiEWYiGJQ+J8xuPxKhXjEMZANinjIZhkGuVRNioE4wVURo4JkHm0xKWmhRAc1bh1EyCUw5BcBIjHiApKa4CErko6DEJwuRo6IRKzyJD8FJAyI3Zp2zRImiBcRhlfo5RtlxCcE3CcDNpGrhYIT2IhAJKilO0VRmzJ32fAMTpBTS0QMfGwlcuKMRftE0DJ0wCJdcOsCkBdXP3Mh9CEFUBTPS9mDZJBG6io4aqVzMdCokCw9H3kT6j/C/9iDdSeUMNC7DkyyxAs/Rk6Qss8FPWRZgdVtUH4DjxEn1zxh+/zj1wHlf4MQhNGrwqA6sY40U8JonRJwEQh+AO3AvCG6gHv4U7IY4krxkroWoAOkoQMGfCBrgIm+YBGqPENpIJ66CJg3x66Y0gnSUidAEEnNr9jjLiWMn5DiWP0OC/oAsCgkq43xBdGDMQr7YASP/vEkHvdl1+JOCcEV5sC4hGEOzTlPuKgd0b0xD4JkRcOgnRRTjdErkYhAsQVq6IdUuPJtmk7BCL3t/h88cx91pKQkI/pkDx6pmYTIjEoxiHsN1YWYiEWYiEWknhflZ5IErA5nr8AAAAASUVORK5CYII="/></elements></component><component name="dock"><settings><setting name="fontcolor" value="0xffffff"/></settings><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/></elements></component><component name="playlist"><settings><setting name="backgroundcolor" value="0xe8e8e8"/></settings><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUaN7t2MENwCAMBEEe9N8wSKYC/D8YV7CyJoRkVtVImxkZPQInMxoP0XiIxkM0HsGbjjSNBx544IEHHnjggUe/6UQeey0PIh7XTftGxKPj4eXCtLsHHh+ZxkO0Iw8PR55Ni8ZD9Hu/EAoP0dc5RRg9qeRjVF8AAAAASUVORK5CYII="/><element name="sliderCapTop" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAKElEQVQ4y2P4//8/Az68bNmy/+iYkB6GUUNHDR01dNTQUUNHDaXcUABUDOKhcxnsSwAAAABJRU5ErkJggg=="/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAJUlEQVQ4T2P4//8/Ay4MBP9xYbz6Rg0dNXTU0FFDRw0dNZRyQwHH4NBa7GJsXAAAAABJRU5ErkJggg=="/><element name="sliderCapBottom" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/></elements></component></components></skin>';this.xml=null;if(window.DOMParser){parser=new DOMParser();this.xml=parser.parseFromString(this.text,"text/xml")}else{this.xml=new ActiveXObject("Microsoft.XMLDOM");this.xml.async="false";this.xml.loadXML(this.text)}return this}})(jwplayer);(function(b){_utils=b.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"})};_show=function(a){_css(a,{display:"block"})};b.html5.display=function(aL,ak){var aM={icons:true,showmute:false};var a=_utils.extend({},aM,ak);var aN=aL;var Y={};var aQ;var az;var aw;var ab;var aB;var ai;var aq;var ah=!_utils.exists(aN.skin.getComponentSettings("display").bufferrotation)?15:parseInt(aN.skin.getComponentSettings("display").bufferrotation,10);var aD=!_utils.exists(aN.skin.getComponentSettings("display").bufferinterval)?100:parseInt(aN.skin.getComponentSettings("display").bufferinterval,10);var ar=-1;var aA=b.api.events.state.IDLE;var ag=true;var aR;var at=false,Z=true;var aG="";var aO=false;var aH=false;var aJ;var ax,ad;var aj=new b.html5.eventdispatcher();_utils.extend(this,aj);var an={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:aI},display_icon:{style:{cursor:"pointer",position:"absolute",top:((aN.skin.getSkinElement("display","background").height-aN.skin.getSkinElement("display","playIcon").height)/2),left:((aN.skin.getSkinElement("display","background").width-aN.skin.getSkinElement("display","playIcon").width)/2),border:0,margin:0,padding:0,zIndex:3,display:"none"}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:((az-aN.skin.getSkinElement("display","background").height)/2),left:((aQ-aN.skin.getSkinElement("display","background").width)/2),border:0,backgroundImage:(["url(",aN.skin.getSkinElement("display","background").src,")"]).join(""),width:aN.skin.getSkinElement("display","background").width,height:aN.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2,display:"none"}},display_image:{style:{display:"none",width:aQ,height:az,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:0.8,backgroundColor:parseInt("000000",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}};aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYER_STATE,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_MEDIA_MUTE,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,af);aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_ERROR,aE);ae();function ae(){Y.display=ao("div","display");Y.display_text=ao("div","display_text");Y.display.appendChild(Y.display_text);Y.display_image=ao("img","display_image");Y.display_image.onerror=function(c){_hide(Y.display_image)};Y.display_image.onload=au;Y.display_icon=ao("div","display_icon");Y.display_iconBackground=ao("div","display_iconBackground");Y.display.appendChild(Y.display_image);Y.display_iconBackground.appendChild(Y.display_icon);Y.display.appendChild(Y.display_iconBackground);aP();setTimeout((function(){aH=true;if(a.icons.toString()=="true"){al()}}),1)}this.getDisplayElement=function(){return Y.display};this.resize=function(c,d){if(aN.jwGetFullscreen()&&_utils.isMobile()){return}_css(Y.display,{width:c,height:d});_css(Y.display_text,{width:(c-10),top:((d-_utils.getBoundingClientRect(Y.display_text).height)/2)});_css(Y.display_iconBackground,{top:((d-aN.skin.getSkinElement("display","background").height)/2),left:((c-aN.skin.getSkinElement("display","background").width)/2)});if(aQ!=c||az!=d){aQ=c;az=d;aR=undefined;al()}if(!aN.jwGetFullscreen()){ax=c;ad=d}aS();aF({})};this.show=function(){if(aO){aO=false;aC(aN.jwGetState())}};this.hide=function(){if(!aO){ap();aO=true}};function au(c){aw=Y.display_image.naturalWidth;ab=Y.display_image.naturalHeight;aS();if(aN.jwGetState()==b.api.events.state.IDLE||aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){_css(Y.display_image,{display:"block",opacity:0});_utils.fadeTo(Y.display_image,1,0.1)}at=false}function aS(){if(aN.jwGetFullscreen()&&aN.jwGetStretching()==b.utils.stretching.EXACTFIT){var c=document.createElement("div");_utils.stretch(b.utils.stretching.UNIFORM,c,aQ,az,ax,ad);_utils.stretch(b.utils.stretching.EXACTFIT,Y.display_image,_utils.parseDimension(c.style.width),_utils.parseDimension(c.style.height),aw,ab);_css(Y.display_image,{left:c.style.left,top:c.style.top})}else{_utils.stretch(aN.jwGetStretching(),Y.display_image,aQ,az,aw,ab)}}function ao(f,d){var c=document.createElement(f);c.id=aN.id+"_jwplayer_"+d;_css(c,an[d].style);return c}function aP(){for(var c in Y){if(_utils.exists(an[c].click)){Y[c].onclick=an[c].click}}}function aI(c){if(typeof c.preventDefault!="undefined"){c.preventDefault()}else{c.returnValue=false}if(typeof aJ=="function"){aJ(c);return}else{if(aN.jwGetState()!=b.api.events.state.PLAYING){aN.jwPlay()}else{aN.jwPause()}}}function aa(c){if(aq){ap();return}Y.display_icon.style.backgroundImage=(["url(",aN.skin.getSkinElement("display",c).src,")"]).join("");_css(Y.display_icon,{width:aN.skin.getSkinElement("display",c).width,height:aN.skin.getSkinElement("display",c).height,top:(aN.skin.getSkinElement("display","background").height-aN.skin.getSkinElement("display",c).height)/2,left:(aN.skin.getSkinElement("display","background").width-aN.skin.getSkinElement("display",c).width)/2});aT();if(_utils.exists(aN.skin.getSkinElement("display",c+"Over"))){Y.display_icon.onmouseover=function(d){Y.display_icon.style.backgroundImage=["url(",aN.skin.getSkinElement("display",c+"Over").src,")"].join("")};Y.display_icon.onmouseout=function(d){Y.display_icon.style.backgroundImage=["url(",aN.skin.getSkinElement("display",c).src,")"].join("")}}else{Y.display_icon.onmouseover=null;Y.display_icon.onmouseout=null}}function ap(){if(a.icons.toString()=="true"){_hide(Y.display_icon);_hide(Y.display_iconBackground);ac()}}function aT(){if(!aO&&a.icons.toString()=="true"){_show(Y.display_icon);_show(Y.display_iconBackground);al()}}function aE(c){aq=true;ap();Y.display_text.innerHTML=c.message;_show(Y.display_text);Y.display_text.style.top=((az-_utils.getBoundingClientRect(Y.display_text).height)/2)+"px"}function am(){Z=false;Y.display_image.style.display="none"}function af(){aA=""}function aF(d){if((d.type==b.api.events.JWPLAYER_PLAYER_STATE||d.type==b.api.events.JWPLAYER_PLAYLIST_ITEM)&&aq){aq=false;_hide(Y.display_text)}var c=aN.jwGetState();if(c==aA){return}aA=c;if(ar>=0){clearTimeout(ar)}if(ag||aN.jwGetState()==b.api.events.state.PLAYING||aN.jwGetState()==b.api.events.state.PAUSED){aC(aN.jwGetState())}else{ar=setTimeout(aK(aN.jwGetState()),500)}}function aK(c){return(function(){aC(c)})}function aC(c){if(_utils.exists(ai)){clearInterval(ai);ai=null;_utils.animations.rotate(Y.display_icon,0)}switch(c){case b.api.events.state.BUFFERING:if(_utils.isIPod()){am();ap()}else{if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){ay()}aB=0;ai=setInterval(function(){aB+=ah;_utils.animations.rotate(Y.display_icon,aB%360)},aD);aa("bufferIcon");ag=true}break;case b.api.events.state.PAUSED:if(!_utils.isIPod()){if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider!="sound"){_css(Y.display_image,{background:"transparent no-repeat center center"})}aa("playIcon");ag=true}break;case b.api.events.state.IDLE:if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]&&aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].image){ay()}else{am()}aa("playIcon");ag=true;break;default:if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]&&aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){if(_utils.isIPod()){am();ag=false}else{ay()}}else{am();ag=false}if(aN.jwGetMute()&&a.showmute){aa("muteIcon")}else{ap()}break}ar=-1}function ay(){if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]){var c=aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].image;if(c){if(c!=aG){aG=c;at=true;Y.display_image.src=_utils.getAbsolutePath(c)}else{if(!(at||Z)){Z=true;Y.display_image.style.opacity=0;Y.display_image.style.display="block";_utils.fadeTo(Y.display_image,1,0.1)}}}}}function av(c){return function(){if(!aH){return}if(!aO&&aR!=c){aR=c;aj.sendEvent(c,{component:"display",boundingRect:_utils.getDimensions(Y.display_iconBackground)})}}}var al=av(b.api.events.JWPLAYER_COMPONENT_SHOW);var ac=av(b.api.events.JWPLAYER_COMPONENT_HIDE);this.setAlternateClickHandler=function(c){aJ=c};this.revertAlternateClickHandler=function(){aJ=undefined};return this}})(jwplayer);(function(f){var g=f.utils;var d=g.css;f.html5.dock=function(H,P){function c(){return{align:f.html5.view.positions.RIGHT}}var X=g.extend({},c(),P);if(X.align=="FALSE"){return}var ab={};var V=[];var aa;var L;var ae=false;var Q=false;var ad={x:0,y:0,width:0,height:0};var a;var W;var b;var Y=new f.html5.eventdispatcher();g.extend(this,Y);var R=document.createElement("div");R.id=H.id+"_jwplayer_dock";R.style.opacity=1;U();H.jwAddEventListener(f.api.events.JWPLAYER_PLAYER_STATE,T);this.getDisplayElement=function(){return R};this.setButton=function(h,l,k,j){if(!l&&ab[h]){g.arrays.remove(V,h);R.removeChild(ab[h].div);delete ab[h]}else{if(l){if(!ab[h]){ab[h]={}}ab[h].handler=l;ab[h].outGraphic=k;ab[h].overGraphic=j;if(!ab[h].div){V.push(h);ab[h].div=document.createElement("div");ab[h].div.style.position="absolute";R.appendChild(ab[h].div);ab[h].div.appendChild(document.createElement("div"));ab[h].div.childNodes[0].style.position="relative";ab[h].div.childNodes[0].style.width="100%";ab[h].div.childNodes[0].style.height="100%";ab[h].div.childNodes[0].style.zIndex=10;ab[h].div.childNodes[0].style.cursor="pointer";ab[h].div.appendChild(document.createElement("img"));ab[h].div.childNodes[1].style.position="absolute";ab[h].div.childNodes[1].style.left=0;ab[h].div.childNodes[1].style.top=0;if(H.skin.getSkinElement("dock","button")){ab[h].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}ab[h].div.childNodes[1].style.zIndex=9;ab[h].div.childNodes[1].style.cursor="pointer";ab[h].div.onmouseover=function(){if(ab[h].overGraphic){ab[h].div.childNodes[0].style.background=ac(ab[h].overGraphic)}if(H.skin.getSkinElement("dock","buttonOver")){ab[h].div.childNodes[1].src=H.skin.getSkinElement("dock","buttonOver").src}};ab[h].div.onmouseout=function(){if(ab[h].outGraphic){ab[h].div.childNodes[0].style.background=ac(ab[h].outGraphic)}if(H.skin.getSkinElement("dock","button")){ab[h].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}};if(H.skin.getSkinElement("dock","button")){ab[h].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}}if(ab[h].outGraphic){ab[h].div.childNodes[0].style.background=ac(ab[h].outGraphic)}else{if(ab[h].overGraphic){ab[h].div.childNodes[0].style.background=ac(ab[h].overGraphic)}}if(l){ab[h].div.onclick=function(m){m.preventDefault();f(H.id).callback(h);if(ab[h].overGraphic){ab[h].div.childNodes[0].style.background=ac(ab[h].overGraphic)}if(H.skin.getSkinElement("dock","button")){ab[h].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}}}}}Z(aa,L)};function ac(h){return"url("+h+") no-repeat center center"}function N(h){}function Z(v,j){U();if(V.length>0){var u=10;var k=u;var n=-1;var m=H.skin.getSkinElement("dock","button").height;var o=H.skin.getSkinElement("dock","button").width;var q=v-o-u;var l,r;if(X.align==f.html5.view.positions.LEFT){n=1;q=u}for(var t=0;t<V.length;t++){var h=Math.floor(k/j);if((k+m+u)>((h+1)*j)){k=((h+1)*j)+u;h=Math.floor(k/j)}var s=ab[V[t]].div;s.style.top=(k%j)+"px";s.style.left=(q+(H.skin.getSkinElement("dock","button").width+u)*h*n)+"px";var p={x:g.parseDimension(s.style.left),y:g.parseDimension(s.style.top),width:o,height:m};if(!l||(p.x<=l.x&&p.y<=l.y)){l=p}if(!r||(p.x>=r.x&&p.y>=r.y)){r=p}s.style.width=o+"px";s.style.height=m+"px";k+=H.skin.getSkinElement("dock","button").height+u}ad={x:l.x,y:l.y,width:r.x-l.x+r.width,height:l.y-r.y+r.height}}if(Q!=H.jwGetFullscreen()||aa!=v||L!=j){aa=v;L=j;Q=H.jwGetFullscreen();a=undefined;setTimeout(O,1)}}function ag(h){return function(){if(!ae&&a!=h&&V.length>0){a=h;Y.sendEvent(h,{component:"dock",boundingRect:ad})}}}function T(h){if(g.isMobile()){if(h.newstate==f.api.events.state.IDLE){I()}else{af()}}else{S()}}function S(h){if(ae){return}clearTimeout(b);if(P.position==f.html5.view.positions.OVER||H.jwGetFullscreen()){switch(H.jwGetState()){case f.api.events.state.PAUSED:case f.api.events.state.IDLE:if(R&&R.style.opacity<1&&(!P.idlehide||g.exists(h))){M()}if(P.idlehide){b=setTimeout(function(){K()},2000)}break;default:if(g.exists(h)){M()}b=setTimeout(function(){K()},2000);break}}else{M()}}var O=ag(f.api.events.JWPLAYER_COMPONENT_SHOW);var J=ag(f.api.events.JWPLAYER_COMPONENT_HIDE);this.resize=Z;var I=function(){d(R,{display:"block"});if(ae){ae=false;O()}};var af=function(){d(R,{display:"none"});if(!ae){J();ae=true}};function K(){if(!ae){J();if(R.style.opacity==1){g.cancelAnimation(R);g.fadeTo(R,0,0.1,1,0)}}}function M(){if(!ae){O();if(R.style.opacity==0){g.cancelAnimation(R);g.fadeTo(R,1,0.1,0,0)}}}function U(){try{W=document.getElementById(H.id);W.addEventListener("mousemove",S)}catch(h){g.log("Could not add mouse listeners to dock: "+h)}}this.hide=af;this.show=I;return this}})(jwplayer);(function(b){b.html5.eventdispatcher=function(f,a){var g=new b.events.eventdispatcher(a);b.utils.extend(this,g);this.sendEvent=function(d,c){if(!b.utils.exists(c)){c={}}b.utils.extend(c,{id:f,version:b.version,type:d});g.sendEvent(d,c)}}})(jwplayer);(function(d){var c=d.utils;d.html5.instream=function(K,af,M,a){var U={controlbarseekable:"always",controlbarpausable:true,controlbarstoppable:true,playlistclickable:true};var Q,ac,X=K,T=af,ai=M,O=a,Y,N,ad,P,am,al,ak,ag,aa,aj=false,ah,an,ae=this;this.load=function(h,g){ao();aj=true;ac=c.extend(U,g);Q=d.html5.playlistitem(h);S();an=document.createElement("div");an.id=ae.id+"_instream_container";O.detachMedia();Y=ak.getDisplayElement();al=T.playlist[T.item];am=X.jwGetState();if(am==d.api.events.state.BUFFERING||am==d.api.events.state.PLAYING){Y.pause()}N=Y.src?Y.src:Y.currentSrc;ad=Y.innerHTML;P=Y.currentTime;aa=new d.html5.display(ae,c.extend({},T.plugins.config.display));aa.setAlternateClickHandler(function(j){if(_fakemodel.state==d.api.events.state.PAUSED){ae.jwInstreamPlay()}else{V(d.api.events.JWPLAYER_INSTREAM_CLICK,j)}});an.appendChild(aa.getDisplayElement());if(!c.isMobile()){ag=new d.html5.controlbar(ae,c.extend({},T.plugins.config.controlbar,{}));if(T.plugins.config.controlbar.position==d.html5.view.positions.OVER){an.appendChild(ag.getDisplayElement())}else{var f=T.plugins.object.controlbar.getDisplayElement().parentNode;f.appendChild(ag.getDisplayElement())}}ai.setupInstream(an,Y);ab();ak.load(Q)};this.jwInstreamDestroy=function(g){if(!aj){return}aj=false;if(am!=d.api.events.state.IDLE){ak.load(al,false);ak.stop(false)}else{ak.stop(true)}ak.detachMedia();ai.destroyInstream();if(ag){try{ag.getDisplayElement().parentNode.removeChild(ag.getDisplayElement())}catch(f){}}V(d.api.events.JWPLAYER_INSTREAM_DESTROYED,{reason:(g?"complete":"destroyed")},true);O.attachMedia();if(am==d.api.events.state.BUFFERING||am==d.api.events.state.PLAYING){Y.play();if(T.playlist[T.item]==al){T.getMedia().seek(P)}}return};this.jwInstreamAddEventListener=function(g,f){ah.addEventListener(g,f)};this.jwInstreamRemoveEventListener=function(g,f){ah.removeEventListener(g,f)};this.jwInstreamPlay=function(){if(!aj){return}ak.play(true)};this.jwInstreamPause=function(){if(!aj){return}ak.pause(true)};this.jwInstreamSeek=function(f){if(!aj){return}ak.seek(f)};this.jwInstreamGetState=function(){if(!aj){return undefined}return _fakemodel.state};this.jwInstreamGetPosition=function(){if(!aj){return undefined}return _fakemodel.position};this.jwInstreamGetDuration=function(){if(!aj){return undefined}return _fakemodel.duration};this.playlistClickable=function(){return(!aj||ac.playlistclickable.toString().toLowerCase()=="true")};function W(){_fakemodel=new d.html5.model(this,T.getMedia()?T.getMedia().getDisplayElement():T.container,T);ah=new d.html5.eventdispatcher();X.jwAddEventListener(d.api.events.JWPLAYER_RESIZE,ab);X.jwAddEventListener(d.api.events.JWPLAYER_FULLSCREEN,ab)}function ao(){_fakemodel.setMute(T.mute);_fakemodel.setVolume(T.volume)}function S(){if(!ak){ak=new d.html5.mediavideo(_fakemodel,T.getMedia()?T.getMedia().getDisplayElement():T.container);ak.addGlobalListener(L);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_META,b);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,R);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER_FULL,Z)}ak.attachMedia()}function L(f){if(aj){V(f.type,f)}}function Z(f){if(aj){ak.play()}}function R(f){if(aj){setTimeout(function(){ae.jwInstreamDestroy(true)},10)}}function b(f){if(f.metadata.width&&f.metadata.height){ai.resizeMedia()}}function V(g,f,h){if(aj||h){ah.sendEvent(g,f)}}function ab(){var g=T.plugins.object.display.getDisplayElement().style;if(ag){var f=T.plugins.object.controlbar.getDisplayElement().style;ag.resize(c.parseDimension(g.width),c.parseDimension(g.height));_css(ag.getDisplayElement(),c.extend({},f,{zIndex:1001,opacity:1}))}if(aa){aa.resize(c.parseDimension(g.width),c.parseDimension(g.height));_css(aa.getDisplayElement(),c.extend({},g,{zIndex:1000}))}if(ai){ai.resizeMedia()}}this.jwPlay=function(f){if(ac.controlbarpausable.toString().toLowerCase()=="true"){this.jwInstreamPlay()}};this.jwPause=function(f){if(ac.controlbarpausable.toString().toLowerCase()=="true"){this.jwInstreamPause()}};this.jwStop=function(){if(ac.controlbarstoppable.toString().toLowerCase()=="true"){this.jwInstreamDestroy();X.jwStop()}};this.jwSeek=function(f){switch(ac.controlbarseekable.toLowerCase()){case"always":this.jwInstreamSeek(f);break;case"backwards":if(_fakemodel.position>f){this.jwInstreamSeek(f)}break}};this.jwGetPosition=function(){};this.jwGetDuration=function(){};this.jwGetWidth=X.jwGetWidth;this.jwGetHeight=X.jwGetHeight;this.jwGetFullscreen=X.jwGetFullscreen;this.jwSetFullscreen=X.jwSetFullscreen;this.jwGetVolume=function(){return T.volume};this.jwSetVolume=function(f){ak.volume(f);X.jwSetVolume(f)};this.jwGetMute=function(){return T.mute};this.jwSetMute=function(f){ak.mute(f);X.jwSetMute(f)};this.jwGetState=function(){return _fakemodel.state};this.jwGetPlaylist=function(){return[Q]};this.jwGetPlaylistIndex=function(){return 0};this.jwGetStretching=function(){return T.config.stretching};this.jwAddEventListener=function(f,g){ah.addEventListener(f,g)};this.jwRemoveEventListener=function(f,g){ah.removeEventListener(f,g)};this.skin=X.skin;this.id=X.id+"_instream";W();return this}})(jwplayer);(function(d){var c={prefix:"",file:"",link:"",linktarget:"_top",margin:8,out:0.5,over:1,timeout:5,hide:true,position:"bottom-left"};_css=d.utils.css;d.html5.logo=function(A,w){var x=A;var a;var J;var b;var F=false;G();function G(){z();x.jwAddEventListener(d.api.events.JWPLAYER_PLAYER_STATE,E);K();C()}function z(){if(c.prefix){var g=A.version.split(/\W/).splice(0,2).join("/");if(c.prefix.indexOf(g)<0){c.prefix+=g+"/"}}if(w.position==d.html5.view.positions.OVER){w.position=c.position}try{if(window.location.href.indexOf("https")==0){c.prefix=c.prefix.replace("http://l.longtailvideo.com","https://securel.longtailvideo.com")}}catch(f){}J=d.utils.extend({},c,w)}function K(){b=document.createElement("img");b.id=x.id+"_jwplayer_logo";b.style.display="none";b.onload=function(f){_css(b,D());y()};if(!J.file){return}if(J.file.indexOf("/")>=0){b.src=J.file}else{b.src=J.prefix+J.file}}if(!J.file){return}this.resize=function(f,g){};this.getDisplayElement=function(){return b};function C(){if(J.link){b.onmouseover=H;b.onmouseout=y;b.onclick=v}else{this.mouseEnabled=false}}function v(f){if(typeof f!="undefined"){f.stopPropagation()}if(!F){return}x.jwPause();x.jwSetFullscreen(false);if(J.link){window.open(J.link,J.linktarget)}return}function y(f){if(J.link&&F){b.style.opacity=J.out}return}function H(f){if(F){b.style.opacity=J.over}return}function D(){var f={textDecoration:"none",position:"absolute",cursor:"pointer"};f.display=(J.hide.toString()=="true"&&!F)?"none":"block";var g=J.position.toLowerCase().split("-");for(var h in g){f[g[h]]=parseInt(J.margin)}return f}function B(){if(J.hide.toString()=="true"){b.style.display="block";b.style.opacity=0;d.utils.fadeTo(b,J.out,0.1,parseFloat(b.style.opacity));a=setTimeout(function(){I()},J.timeout*1000)}F=true}function I(){F=false;if(J.hide.toString()=="true"){d.utils.fadeTo(b,0,0.1,parseFloat(b.style.opacity))}}function E(f){if(f.newstate==d.api.events.state.BUFFERING){clearTimeout(a);B()}}return this}})(jwplayer);(function(h){var n={ended:h.api.events.state.IDLE,playing:h.api.events.state.PLAYING,pause:h.api.events.state.PAUSED,buffering:h.api.events.state.BUFFERING};var l=h.utils;var j=l.isMobile();var k,m;var o={};h.html5.mediavideo=function(aE,af){var ab={abort:an,canplay:ax,canplaythrough:ax,durationchange:ar,emptied:an,ended:ax,error:ay,loadeddata:ar,loadedmetadata:ar,loadstart:ax,pause:ax,play:an,playing:ax,progress:ah,ratechange:an,seeked:ax,seeking:ax,stalled:ax,suspend:ax,timeupdate:X,volumechange:aB,waiting:ax,canshowcurrentframe:an,dataunavailable:an,empty:an,load:aF,loadedfirstframe:an,webkitfullscreenchange:aC};var aj={};var aa=new h.html5.eventdispatcher();l.extend(this,aa);var aD=aE,ak=af,aA,aG,ai,a,ag,Y,Z=false,at=false,ao=false,ac,ae,d;c();this.load=function(r,q){if(typeof q=="undefined"){q=true}if(!at){return}a=r;ao=(a.duration>0);aD.duration=a.duration;l.empty(aA);aA.style.display="block";aA.style.opacity=1;if(k&&m){aA.style.width=k;aA.style.height=m;k=_previousHieght=0}d=0;aw(r.levels);if(r.levels&&r.levels.length>0){if(r.levels.length==1||l.isIOS()){aA.src=r.levels[0].file}else{if(aA.src){aA.removeAttribute("src")}for(var s=0;s<r.levels.length;s++){var p=aA.ownerDocument.createElement("source");p.src=r.levels[s].file;aA.appendChild(p);d++}}}else{aA.src=r.file}aA.volume=aD.volume/100;aA.muted=aD.mute;if(j){f()}ac=ae=ai=false;aD.buffer=0;if(!l.exists(r.start)){r.start=0}Y=(r.start>0)?r.start:-1;au(h.api.events.JWPLAYER_MEDIA_LOADED);if((!j&&r.levels.length==1)||!Z){aA.load()}Z=false;if(q){ap(h.api.events.state.BUFFERING);au(h.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});al()}if(aA.videoWidth>0&&aA.videoHeight>0){ar()}};this.play=function(){if(!at){return}al();if(ae){ap(h.api.events.state.PLAYING)}else{aA.load();ap(h.api.events.state.BUFFERING)}aA.play()};this.pause=function(){if(!at){return}aA.pause();ap(h.api.events.state.PAUSED)};this.seek=function(p){if(!at){return}if(!ai&&aA.readyState>0){if(!(aD.duration<=0||isNaN(aD.duration))&&!(aD.position<=0||isNaN(aD.position))){aA.currentTime=p;aA.play()}}else{Y=p}};var am=this.stop=function(s){if(!at){return}if(!l.exists(s)){s=true}av();if(s){ae=false;var r=navigator.userAgent;if(aA.webkitSupportsFullscreen){try{aA.webkitExitFullscreen()}catch(q){}}aA.style.opacity=0;aq();if(l.isIE()){aA.src=""}else{aA.removeAttribute("src")}l.empty(aA);aA.load();Z=true}if(l.isIPod()){k=aA.style.width;m=aA.style.height;aA.style.width=0;aA.style.height=0}else{if(l.isIPad()){aA.style.display="none";try{aA.webkitExitFullscreen()}catch(p){}}}ap(h.api.events.state.IDLE)};this.fullscreen=function(p){if(p===true){this.resize("100%","100%")}else{this.resize(aD.config.width,aD.config.height)}};this.resize=function(p,q){};this.volume=function(p){if(!j){aA.volume=p/100;au(h.api.events.JWPLAYER_MEDIA_VOLUME,{volume:(p/100)})}};this.mute=function(p){if(!j){aA.muted=p;au(h.api.events.JWPLAYER_MEDIA_MUTE,{mute:p})}};this.getDisplayElement=function(){return aA};this.hasChrome=function(){return j&&(aG==h.api.events.state.PLAYING)};this.detachMedia=function(){at=false;return this.getDisplayElement()};this.attachMedia=function(){at=true};this.destroy=function(){if(aA&&aA.parentNode){av();for(var p in ab){aA.removeEventListener(p,ad(p,ab[p]),true)}l.empty(aA);ak=aA.parentNode;aA.parentNode.removeChild(aA);delete o[aD.id];aA=null}};function ad(p,q){if(aj[p]){return aj[p]}else{aj[p]=function(r){if(l.exists(r.target.parentNode)){q(r)}};return aj[p]}}function c(){aG=h.api.events.state.IDLE;at=true;aA=az();aA.setAttribute("x-webkit-airplay","allow");if(ak.parentNode){aA.id=ak.id;ak.parentNode.replaceChild(aA,ak)}}function az(){var q=o[aD.id];if(!q){if(ak.tagName.toLowerCase()=="video"){q=ak}else{q=document.createElement("video")}o[aD.id]=q;if(!q.id){q.id=ak.id}}for(var p in ab){q.addEventListener(p,ad(p,ab[p]),true)}return q}function ap(q){if(q==h.api.events.state.PAUSED&&aG==h.api.events.state.IDLE){return}if(j){switch(q){case h.api.events.state.PLAYING:f();break;case h.api.events.state.BUFFERING:case h.api.events.state.PAUSED:aq();break}}if(aG!=q){var p=aG;aD.state=aG=q;au(h.api.events.JWPLAYER_PLAYER_STATE,{oldstate:p,newstate:q})}}function an(p){}function aB(q){var p=Math.round(aA.volume*100);au(h.api.events.JWPLAYER_MEDIA_VOLUME,{volume:p},true);au(h.api.events.JWPLAYER_MEDIA_MUTE,{mute:aA.muted},true)}function ah(p){if(!at){return}var q;if(l.exists(p)&&p.lengthComputable&&p.total){q=p.loaded/p.total*100}else{if(l.exists(aA.buffered)&&(aA.buffered.length>0)){var r=aA.buffered.length-1;if(r>=0){q=aA.buffered.end(r)/aA.duration*100}}}if(l.useNativeFullscreen()&&l.exists(aA.webkitDisplayingFullscreen)){if(aD.fullscreen!=aA.webkitDisplayingFullscreen){au(h.api.events.JWPLAYER_FULLSCREEN,{fullscreen:aA.webkitDisplayingFullscreen},true)}}if(ae===false&&aG==h.api.events.state.BUFFERING){au(h.api.events.JWPLAYER_MEDIA_BUFFER_FULL);ae=true}if(!ac){if(q==100){ac=true}if(l.exists(q)&&(q>aD.buffer)){aD.buffer=Math.round(q);au(h.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(q)})}}}function X(p){if(!at){return}if(l.exists(p)&&l.exists(p.target)){if(ao>0){if(!isNaN(p.target.duration)&&(isNaN(aD.duration)||aD.duration<1)){if(p.target.duration==Infinity){aD.duration=0}else{aD.duration=Math.round(p.target.duration*10)/10}}}if(!ai&&aA.readyState>0){ap(h.api.events.state.PLAYING)}if(aG==h.api.events.state.PLAYING){if(aA.readyState>0&&(Y>-1||!ai)){ai=true;try{if(aA.currentTime!=Y&&Y>-1){aA.currentTime=Y;Y=-1}}catch(q){}aA.volume=aD.volume/100;aA.muted=aD.mute}aD.position=aD.duration>0?(Math.round(p.target.currentTime*10)/10):0;au(h.api.events.JWPLAYER_MEDIA_TIME,{position:aD.position,duration:aD.duration});if(aD.position>=aD.duration&&(aD.position>0||aD.duration>0)){g();return}}}ah(p)}function aF(p){}function ax(p){if(!at){return}if(k&&m){aA.style.width=k;aA.style.height=m;k=_previousHieght=0}if(n[p.type]){if(p.type=="ended"){g()}else{ap(n[p.type])}}}function ar(q){if(!at){return}var r=Math.round(aA.duration*10)/10;var p={height:aA.videoHeight,width:aA.videoWidth,duration:r};if(!ao){if((aD.duration<r||isNaN(aD.duration))&&aA.duration!=Infinity){aD.duration=r}}au(h.api.events.JWPLAYER_MEDIA_META,{metadata:p})}function ay(p){if(!at){return}if(aG==h.api.events.state.IDLE){return}var q="There was an error: ";if((p.target.error&&p.target.tagName.toLowerCase()=="video")||p.target.parentNode.error&&p.target.parentNode.tagName.toLowerCase()=="video"){var r=!l.exists(p.target.error)?p.target.parentNode.error:p.target.error;switch(r.code){case r.MEDIA_ERR_ABORTED:l.log("User aborted the video playback.");return;case r.MEDIA_ERR_NETWORK:q="A network error caused the video download to fail part-way: ";break;case r.MEDIA_ERR_DECODE:q="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case r.MEDIA_ERR_SRC_NOT_SUPPORTED:q="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:q="An unknown error occurred: ";break}}else{if(p.target.tagName.toLowerCase()=="source"){d--;if(d>0){return}if(l.userAgentMatch(/firefox/i)){l.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");am(false);return}else{q="The video could not be loaded, either because the server or network failed or because the format is not supported: "}}else{l.log("An unknown error occurred.  Continuing...");return}}am(false);q+=b();_error=true;au(h.api.events.JWPLAYER_ERROR,{message:q});return}function b(){var q="";for(var r in a.levels){var s=a.levels[r];var p=ak.ownerDocument.createElement("source");q+=h.utils.getAbsolutePath(s.file);if(r<(a.levels.length-1)){q+=", "}}return q}function al(){if(!l.exists(ag)){ag=setInterval(function(){ah()},100)}}function av(){clearInterval(ag);ag=null}function g(){if(aG==h.api.events.state.PLAYING){am(false);au(h.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE);au(h.api.events.JWPLAYER_MEDIA_COMPLETE)}}function aC(p){if(l.exists(aA.webkitDisplayingFullscreen)){if(aD.fullscreen&&!aA.webkitDisplayingFullscreen){au(h.api.events.JWPLAYER_FULLSCREEN,{fullscreen:false},true)}}}function aw(q){if(q.length>0&&l.userAgentMatch(/Safari/i)&&!l.userAgentMatch(/Chrome/i)){var s=-1;for(var r=0;r<q.length;r++){switch(l.extension(q[r].file)){case"mp4":if(s<0){s=r}break;case"webm":q.splice(r,1);break}}if(s>0){var p=q.splice(s,1)[0];q.unshift(p)}}}function f(){setTimeout(function(){aA.setAttribute("controls","controls")},100)}function aq(){setTimeout(function(){aA.removeAttribute("controls")},250)}function au(r,p,q){if(at||q){if(p){aa.sendEvent(r,p)}else{aa.sendEvent(r)}}}}})(jwplayer);(function(f){var g={ended:f.api.events.state.IDLE,playing:f.api.events.state.PLAYING,pause:f.api.events.state.PAUSED,buffering:f.api.events.state.BUFFERING};var d=f.utils.css;f.html5.mediayoutube=function(r,v){var u=new f.html5.eventdispatcher();f.utils.extend(this,u);var p=r;var s=document.getElementById(v.id);var t=f.api.events.state.IDLE;var b,c;function q(j){if(t!=j){var h=t;p.state=j;t=j;u.sendEvent(f.api.events.JWPLAYER_PLAYER_STATE,{oldstate:h,newstate:j})}}this.getDisplayElement=this.detachMedia=function(){return s};this.attachMedia=function(){};this.play=function(){if(t==f.api.events.state.IDLE){u.sendEvent(f.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100});u.sendEvent(f.api.events.JWPLAYER_MEDIA_BUFFER_FULL);q(f.api.events.state.PLAYING)}else{if(t==f.api.events.state.PAUSED){q(f.api.events.state.PLAYING)}}};this.pause=function(){q(f.api.events.state.PAUSED)};this.seek=function(h){};this.stop=function(h){if(!_utils.exists(h)){h=true}p.position=0;q(f.api.events.state.IDLE);if(h){d(s,{display:"none"})}};this.volume=function(h){p.setVolume(h);u.sendEvent(f.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(h)})};this.mute=function(h){s.muted=h;u.sendEvent(f.api.events.JWPLAYER_MEDIA_MUTE,{mute:h})};this.resize=function(h,j){if(h*j>0&&b){b.width=c.width=h;b.height=c.height=j}};this.fullscreen=function(h){if(h===true){this.resize("100%","100%")}else{this.resize(p.config.width,p.config.height)}};this.load=function(h){a(h);d(b,{display:"block"});q(f.api.events.state.BUFFERING);u.sendEvent(f.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});u.sendEvent(f.api.events.JWPLAYER_MEDIA_LOADED);this.play()};this.hasChrome=function(){return(t!=f.api.events.state.IDLE)};function a(h){var l=h.levels[0].file;l=["http://www.youtube.com/v/",w(l),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");b=document.createElement("object");b.id=s.id;b.style.position="absolute";var j={movie:l,allowfullscreen:"true",allowscriptaccess:"always"};for(var o in j){var k=document.createElement("param");k.name=o;k.value=j[o];b.appendChild(k)}c=document.createElement("embed");b.appendChild(c);var n={src:l,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",width:b.width,height:b.height};for(var m in n){c.setAttribute(m,n[m])}b.appendChild(c);b.style.zIndex=2147483000;if(s!=b&&s.parentNode){s.parentNode.replaceChild(b,s)}s=b}function w(k){var l=k.split(/\?|\#\!/);var h="";for(var j=0;j<l.length;j++){if(l[j].substr(0,2)=="v="){h=l[j].substr(2)}}if(h==""){if(k.indexOf("/v/")>=0){h=k.substr(k.indexOf("/v/")+3)}else{if(k.indexOf("youtu.be")>=0){h=k.substr(k.indexOf("youtu.be/")+9)}else{h=k}}}if(h.indexOf("?")>-1){h=h.substr(0,h.indexOf("?"))}if(h.indexOf("&")>-1){h=h.substr(0,h.indexOf("&"))}return h}this.embed=c;return this}})(jwplayer);(function(jwplayer){var _configurableStateVariables=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"];var _utils=jwplayer.utils;jwplayer.html5.model=function(api,container,options){var _api=api;var _container=container;var _cookies=_utils.getCookies();var _model={id:_container.id,playlist:[],state:jwplayer.api.events.state.IDLE,position:0,buffer:0,container:_container,config:{width:480,height:320,item:-1,skin:undefined,file:undefined,image:undefined,start:0,duration:0,bufferlength:5,volume:_cookies.volume?_cookies.volume:90,mute:_cookies.mute&&_cookies.mute.toString().toLowerCase()=="true"?true:false,fullscreen:false,repeat:"",stretching:jwplayer.utils.stretching.UNIFORM,autostart:false,debug:undefined,screencolor:undefined}};var _media;var _eventDispatcher=new jwplayer.html5.eventdispatcher();var _components=["display","logo","controlbar","playlist","dock"];jwplayer.utils.extend(_model,_eventDispatcher);for(var option in options){if(typeof options[option]=="string"){var type=/color$/.test(option)?"color":null;options[option]=jwplayer.utils.typechecker(options[option],type)}var config=_model.config;var path=option.split(".");for(var edge in path){if(edge==path.length-1){config[path[edge]]=options[option]}else{if(!jwplayer.utils.exists(config[path[edge]])){config[path[edge]]={}}config=config[path[edge]]}}}for(var index in _configurableStateVariables){var configurableStateVariable=_configurableStateVariables[index];_model[configurableStateVariable]=_model.config[configurableStateVariable]}var pluginorder=_components.concat([]);if(jwplayer.utils.exists(_model.plugins)){if(typeof _model.plugins=="string"){var userplugins=_model.plugins.split(",");for(var userplugin in userplugins){if(typeof userplugins[userplugin]=="string"){pluginorder.push(userplugins[userplugin].replace(/^\s+|\s+$/g,""))}}}}if(jwplayer.utils.isMobile()){pluginorder=["display","logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list"}}else{if(_model.config.chromeless){pluginorder=["logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list"}}}_model.plugins={order:pluginorder,config:{},object:{}};if(typeof _model.config.components!="undefined"){for(var component in _model.config.components){_model.plugins.config[component]=_model.config.components[component]}}var playlistVisible=false;for(var pluginIndex in _model.plugins.order){var pluginName=_model.plugins.order[pluginIndex];var pluginConfig=!jwplayer.utils.exists(_model.plugins.config[pluginName])?{}:_model.plugins.config[pluginName];_model.plugins.config[pluginName]=!jwplayer.utils.exists(_model.plugins.config[pluginName])?pluginConfig:jwplayer.utils.extend(_model.plugins.config[pluginName],pluginConfig);if(!jwplayer.utils.exists(_model.plugins.config[pluginName].position)){if(pluginName=="playlist"){_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.NONE}else{_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.OVER}}else{if(pluginName=="playlist"){playlistVisible=true}_model.plugins.config[pluginName].position=_model.plugins.config[pluginName].position.toString().toUpperCase()}}if(_model.plugins.config.controlbar&&playlistVisible){_model.plugins.config.controlbar.hideplaylistcontrols=true}if(typeof _model.plugins.config.dock!="undefined"){if(typeof _model.plugins.config.dock!="object"){var position=_model.plugins.config.dock.toString().toUpperCase();_model.plugins.config.dock={position:position}}if(typeof _model.plugins.config.dock.position!="undefined"){_model.plugins.config.dock.align=_model.plugins.config.dock.position;_model.plugins.config.dock.position=jwplayer.html5.view.positions.OVER}if(typeof _model.plugins.config.dock.idlehide=="undefined"){try{_model.plugins.config.dock.idlehide=_model.plugins.config.controlbar.idlehide}catch(e){}}}function _loadExternal(playlistfile){var loader=new jwplayer.html5.playlistloader();loader.addEventListener(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,function(evt){_model.playlist=new jwplayer.html5.playlist(evt);_loadComplete(true)});loader.addEventListener(jwplayer.api.events.JWPLAYER_ERROR,function(evt){_model.playlist=new jwplayer.html5.playlist({playlist:[]});_loadComplete(false)});loader.load(playlistfile)}function _loadComplete(){if(_model.config.shuffle){_model.item=_getShuffleItem()}else{if(_model.config.item>=_model.playlist.length){_model.config.item=_model.playlist.length-1}else{if(_model.config.item<0){_model.config.item=0}}_model.item=_model.config.item}_model.position=0;_model.duration=_model.playlist.length>0?_model.playlist[_model.item].duration:0;_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:_model.playlist});_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_ITEM,{index:_model.item})}_model.loadPlaylist=function(arg){var input;if(typeof arg=="string"){if(arg.indexOf("[")==0||arg.indexOf("{")=="0"){try{input=eval(arg)}catch(err){input=arg}}else{input=arg}}else{input=arg}var config;switch(jwplayer.utils.typeOf(input)){case"object":config=input;break;case"array":config={playlist:input};break;default:config={file:input};break}_model.playlist=new jwplayer.html5.playlist(config);_model.item=_model.config.item>=0?_model.config.item:0;if(!_model.playlist[0].provider&&_model.playlist[0].file){_loadExternal(_model.playlist[0].file)}else{_loadComplete()}};function _getShuffleItem(){var result=null;if(_model.playlist.length>1){while(!jwplayer.utils.exists(result)){result=Math.floor(Math.random()*_model.playlist.length);if(result==_model.item){result=null}}}else{result=0}return result}function forward(evt){switch(evt.type){case jwplayer.api.events.JWPLAYER_MEDIA_LOADED:_container=_media.getDisplayElement();break;case jwplayer.api.events.JWPLAYER_MEDIA_MUTE:this.mute=evt.mute;break;case jwplayer.api.events.JWPLAYER_MEDIA_VOLUME:this.volume=evt.volume;break}_eventDispatcher.sendEvent(evt.type,evt)}var _mediaProviders={};_model.setActiveMediaProvider=function(playlistItem){if(playlistItem.provider=="audio"){playlistItem.provider="sound"}var provider=playlistItem.provider;var current=_media?_media.getDisplayElement():null;if(provider=="sound"||provider=="http"||provider==""){provider="video"}if(!jwplayer.utils.exists(_mediaProviders[provider])){switch(provider){case"video":_media=new jwplayer.html5.mediavideo(_model,current?current:_container);break;case"youtube":_media=new jwplayer.html5.mediayoutube(_model,current?current:_container);break}if(!jwplayer.utils.exists(_media)){return false}_media.addGlobalListener(forward);_mediaProviders[provider]=_media}else{if(_media!=_mediaProviders[provider]){if(_media){_media.stop()}_media=_mediaProviders[provider]}}return true};_model.getMedia=function(){return _media};_model.seek=function(pos){_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_MEDIA_SEEK,{position:_model.position,offset:pos});return _media.seek(pos)};_model.setVolume=function(newVol){_utils.saveCookie("volume",newVol);_model.volume=newVol};_model.setMute=function(state){_utils.saveCookie("mute",state);_model.mute=state};_model.setupPlugins=function(){if(!jwplayer.utils.exists(_model.plugins)||!jwplayer.utils.exists(_model.plugins.order)||_model.plugins.order.length==0){jwplayer.utils.log("No plugins to set up");return _model}for(var i=0;i<_model.plugins.order.length;i++){try{var pluginName=_model.plugins.order[i];if(jwplayer.utils.exists(jwplayer.html5[pluginName])){if(pluginName=="playlist"){_model.plugins.object[pluginName]=new jwplayer.html5.playlistcomponent(_api,_model.plugins.config[pluginName])}else{_model.plugins.object[pluginName]=new jwplayer.html5[pluginName](_api,_model.plugins.config[pluginName])}}else{_model.plugins.order.splice(plugin,plugin+1)}if(typeof _model.plugins.object[pluginName].addGlobalListener=="function"){_model.plugins.object[pluginName].addGlobalListener(forward)}}catch(err){jwplayer.utils.log("Could not setup "+pluginName)}}};return _model}})(jwplayer);(function(b){b.html5.playlist=function(a){var f=[];if(a.playlist&&a.playlist instanceof Array&&a.playlist.length>0){for(var g in a.playlist){if(!isNaN(parseInt(g))){f.push(new b.html5.playlistitem(a.playlist[g]))}}}else{f.push(new b.html5.playlistitem(a))}return f}})(jwplayer);(function(f){var g={size:180,position:f.html5.view.positions.NONE,itemheight:60,thumbs:true,fontcolor:"#000000",overcolor:"",activecolor:"",backgroundcolor:"#f8f8f8",font:"_sans",fontsize:"",fontstyle:"",fontweight:""};var d={_sans:"Arial, Helvetica, sans-serif",_serif:"Times, Times New Roman, serif",_typewriter:"Courier New, Courier, monospace"};_utils=f.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"})};_show=function(a){_css(a,{display:"block"})};f.html5.playlistcomponent=function(L,K){var c=L;var Z=f.utils.extend({},g,c.skin.getComponentSettings("playlist"),K);if(Z.position==f.html5.view.positions.NONE||typeof f.html5.view.positions[Z.position]=="undefined"){return}var b;var T;var J;var aa;var X;var Y;var U=-1;var W={background:undefined,item:undefined,itemOver:undefined,itemImage:undefined,itemActive:undefined};this.getDisplayElement=function(){return b};this.resize=function(h,k){T=h;J=k;if(c.jwGetFullscreen()){_hide(b)}else{var j={display:"block",width:T,height:J};_css(b,j)}};this.show=function(){_show(b)};this.hide=function(){_hide(b)};function V(){b=document.createElement("div");b.id=c.id+"_jwplayer_playlistcomponent";b.style.overflow="hidden";switch(Z.position){case f.html5.view.positions.RIGHT:case f.html5.view.positions.LEFT:b.style.width=Z.size+"px";break;case f.html5.view.positions.TOP:case f.html5.view.positions.BOTTOM:b.style.height=Z.size+"px";break}M();if(W.item){Z.itemheight=W.item.height}b.style.backgroundColor="#C6C6C6";c.jwAddEventListener(f.api.events.JWPLAYER_PLAYLIST_LOADED,I);c.jwAddEventListener(f.api.events.JWPLAYER_PLAYLIST_ITEM,F);c.jwAddEventListener(f.api.events.JWPLAYER_PLAYER_STATE,S)}function P(){var h=document.createElement("ul");_css(h,{width:b.style.width,minWidth:b.style.width,height:b.style.height,backgroundColor:Z.backgroundcolor,backgroundImage:W.background?"url("+W.background.src+")":"",color:Z.fontcolor,listStyle:"none",margin:0,padding:0,fontFamily:d[Z.font]?d[Z.font]:d._sans,fontSize:(Z.fontsize?Z.fontsize:11)+"px",fontStyle:Z.fontstyle,fontWeight:Z.fontweight,overflowY:"auto"});return h}function a(h){return function(){var l=Y.getElementsByClassName("item")[h];var k=Z.fontcolor;var j=W.item?"url("+W.item.src+")":"";if(h==c.jwGetPlaylistIndex()){if(Z.activecolor!==""){k=Z.activecolor}if(W.itemActive){j="url("+W.itemActive.src+")"}}_css(l,{color:Z.overcolor!==""?Z.overcolor:k,backgroundImage:W.itemOver?"url("+W.itemOver.src+")":j})}}function Q(h){return function(){var l=Y.getElementsByClassName("item")[h];var k=Z.fontcolor;var j=W.item?"url("+W.item.src+")":"";if(h==c.jwGetPlaylistIndex()){if(Z.activecolor!==""){k=Z.activecolor}if(W.itemActive){j="url("+W.itemActive.src+")"}}_css(l,{color:k,backgroundImage:j})}}function N(p){var h=aa[p];var j=document.createElement("li");j.className="item";_css(j,{height:Z.itemheight,display:"block",cursor:"pointer",backgroundImage:W.item?"url("+W.item.src+")":"",backgroundSize:"100% "+Z.itemheight+"px"});j.onmouseover=a(p);j.onmouseout=Q(p);var o=document.createElement("div");var s=new Image();var n=0;var m=0;var l=0;if(E()&&(h.image||h["playlist.image"]||W.itemImage)){s.className="image";if(W.itemImage){n=(Z.itemheight-W.itemImage.height)/2;m=W.itemImage.width;l=W.itemImage.height}else{m=Z.itemheight*4/3;l=Z.itemheight}_css(o,{height:l,width:m,"float":"left",styleFloat:"left",cssFloat:"left",margin:"0 5px 0 0",background:"black",overflow:"hidden",margin:n+"px",position:"relative"});_css(s,{position:"relative"});o.appendChild(s);s.onload=function(){f.utils.stretch(f.utils.stretching.FILL,s,m,l,this.naturalWidth,this.naturalHeight)};if(h["playlist.image"]){s.src=h["playlist.image"]}else{if(h.image){s.src=h.image}else{if(W.itemImage){s.src=W.itemImage.src}}}j.appendChild(o)}var t=T-m-n*2;if(J<Z.itemheight*aa.length){t-=15}var u=document.createElement("div");_css(u,{position:"relative",height:"100%",overflow:"hidden"});var r=document.createElement("span");if(h.duration>0){r.className="duration";_css(r,{fontSize:(Z.fontsize?Z.fontsize:11)+"px",fontWeight:(Z.fontweight?Z.fontweight:"bold"),width:"40px",height:Z.fontsize?Z.fontsize+10:20,lineHeight:24,"float":"right",styleFloat:"right",cssFloat:"right"});r.innerHTML=_utils.timeFormat(h.duration);u.appendChild(r)}var k=document.createElement("span");k.className="title";_css(k,{padding:"5px 5px 0 "+(n?0:"5px"),height:Z.fontsize?Z.fontsize+10:20,lineHeight:Z.fontsize?Z.fontsize+10:20,overflow:"hidden","float":"left",styleFloat:"left",cssFloat:"left",width:((h.duration>0)?t-50:t)-10+"px",fontSize:(Z.fontsize?Z.fontsize:13)+"px",fontWeight:(Z.fontweight?Z.fontweight:"bold")});k.innerHTML=h?h.title:"";u.appendChild(k);if(h.description){var q=document.createElement("span");q.className="description";_css(q,{display:"block","float":"left",styleFloat:"left",cssFloat:"left",margin:0,paddingLeft:k.style.paddingLeft,paddingRight:k.style.paddingRight,lineHeight:(Z.fontsize?Z.fontsize+4:16)+"px",overflow:"hidden",position:"relative"});q.innerHTML=h.description;u.appendChild(q)}j.appendChild(u);return j}function I(k){b.innerHTML="";aa=H();if(!aa){return}items=[];Y=P();for(var j=0;j<aa.length;j++){var l=N(j);l.onclick=O(j);Y.appendChild(l);items.push(l)}U=c.jwGetPlaylistIndex();Q(U)();b.appendChild(Y);if(_utils.isIOS()&&window.iScroll){Y.style.height=Z.itemheight*aa.length+"px";var h=new iScroll(b.id)}}function H(){var j=c.jwGetPlaylist();var h=[];for(var k=0;k<j.length;k++){if(!j[k]["ova.hidden"]){h.push(j[k])}}return h}function O(h){return function(){c.jwPlaylistItem(h);c.jwPlay(true)}}function R(){Y.scrollTop=c.jwGetPlaylistIndex()*Z.itemheight}function E(){return Z.thumbs.toString().toLowerCase()=="true"}function F(h){if(U>=0){Q(U)();U=h.index}Q(h.index)();R()}function S(){if(Z.position==f.html5.view.positions.OVER){switch(c.jwGetState()){case f.api.events.state.IDLE:_show(b);break;default:_hide(b);break}}}function M(){for(var h in W){W[h]=G(h)}}function G(h){return c.skin.getSkinElement("playlist",h)}V();return this}})(jwplayer);(function(c){c.html5.playlistitem=function(b){var a={author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]};var f=c.utils.extend({},a,b);if(f.type){f.provider=f.type;delete f.type}if(f.levels.length===0){f.levels[0]=new c.html5.playlistitemlevel(f)}if(!f.provider){f.provider=d(f.levels[0])}else{f.provider=f.provider.toLowerCase()}return f};function d(b){if(c.utils.isYouTube(b.file)){return"youtube"}else{var a=c.utils.extension(b.file);var h;if(a&&c.utils.extensionmap[a]){if(a=="m3u8"){return"video"}h=c.utils.extensionmap[a].html5}else{if(b.type){h=b.type}}if(h){var g=h.split("/")[0];if(g=="audio"){return"sound"}else{if(g=="video"){return g}}}}return""}})(jwplayer);(function(b){b.html5.playlistitemlevel=function(a){var f={file:"",streamer:"",bitrate:0,width:0};for(var g in f){if(b.utils.exists(a[g])){f[g]=a[g]}}return f}})(jwplayer);(function(b){b.html5.playlistloader=function(){var g=new b.html5.eventdispatcher();b.utils.extend(this,g);this.load=function(c){b.utils.ajax(c,f,a)};function f(d){var j=[];try{var j=b.utils.parsers.rssparser.parse(d.responseXML.firstChild);g.sendEvent(b.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:new b.html5.playlist({playlist:j})})}catch(c){a("Could not parse the playlist")}}function a(c){g.sendEvent(b.api.events.JWPLAYER_ERROR,{message:c?c:"Could not load playlist an unknown reason."})}}})(jwplayer);(function(b){b.html5.skin=function(){var a={};var d=false;this.load=function(f,c){new b.html5.skinloader(f,function(g){d=true;a=g;c()},function(){new b.html5.skinloader("",function(g){d=true;a=g;c()})})};this.getSkinElement=function(h,g){if(d){try{return a[h].elements[g]}catch(c){b.utils.log("No such skin component / element: ",[h,g])}}return null};this.getComponentSettings=function(c){if(d&&a&&a[c]){return a[c].settings}return null};this.getComponentLayout=function(c){if(d){return a[c].layout}return null}}})(jwplayer);(function(b){b.html5.skinloader=function(D,u,z){var v={};var G=u;var y=z;var E=true;var A;var w=D;var I=false;function x(){if(typeof w!="string"||w===""){F(b.html5.defaultSkin().xml)}else{b.utils.ajax(b.utils.getAbsolutePath(w),function(d){try{if(b.utils.exists(d.responseXML)){F(d.responseXML);return}}catch(c){B()}F(b.html5.defaultSkin().xml)},function(c){F(b.html5.defaultSkin().xml)})}}function F(n){var V=n.getElementsByTagName("component");if(V.length===0){return}for(var q=0;q<V.length;q++){var X=V[q].getAttribute("name");var Y={settings:{},elements:{},layout:{}};v[X]=Y;var R=V[q].getElementsByTagName("elements")[0].getElementsByTagName("element");for(var T=0;T<R.length;T++){H(R[T],X)}var l=V[q].getElementsByTagName("settings")[0];if(l&&l.childNodes.length>0){var k=l.getElementsByTagName("setting");for(var d=0;d<k.length;d++){var c=k[d].getAttribute("name");var o=k[d].getAttribute("value");var p=/color$/.test(c)?"color":null;v[X].settings[c]=b.utils.typechecker(o,p)}}var j=V[q].getElementsByTagName("layout")[0];if(j&&j.childNodes.length>0){var h=j.getElementsByTagName("group");for(var r=0;r<h.length;r++){var Z=h[r];v[X].layout[Z.getAttribute("position")]={elements:[]};for(var f=0;f<Z.attributes.length;f++){var W=Z.attributes[f];v[X].layout[Z.getAttribute("position")][W.name]=W.value}var g=Z.getElementsByTagName("*");for(var s=0;s<g.length;s++){var U=g[s];v[X].layout[Z.getAttribute("position")].elements.push({type:U.tagName});for(var S=0;S<U.attributes.length;S++){var m=U.attributes[S];v[X].layout[Z.getAttribute("position")].elements[s][m.name]=m.value}if(!b.utils.exists(v[X].layout[Z.getAttribute("position")].elements[s].name)){v[X].layout[Z.getAttribute("position")].elements[s].name=U.tagName}}}}E=false;a()}}function a(){clearInterval(A);if(!I){A=setInterval(function(){t()},100)}}function H(l,d){var f=new Image();var j=l.getAttribute("name");var g=l.getAttribute("src");var c;if(g.indexOf("data:image/png;base64,")===0){c=g}else{var h=b.utils.getAbsolutePath(w);var k=h.substr(0,h.lastIndexOf("/"));c=[k,d,g].join("/")}v[d].elements[j]={height:0,width:0,src:"",ready:false,image:f};f.onload=function(m){C(f,j,d)};f.onerror=function(m){I=true;a();y()};f.src=c}function B(){for(var g in v){var d=v[g];for(var h in d.elements){var c=d.elements[h];var f=c.image;f.onload=null;f.onerror=null;delete c.image;delete d.elements[h]}delete v[g]}}function t(){for(var d in v){if(d!="properties"){for(var c in v[d].elements){if(!v[d].elements[c].ready){return}}}}if(E===false){clearInterval(A);G(v)}}function C(f,c,d){if(v[d]&&v[d].elements[c]){v[d].elements[c].height=f.height;v[d].elements[c].width=f.width;v[d].elements[c].src=f.src;v[d].elements[c].ready=true;a()}else{b.utils.log("Loaded an image for a missing element: "+d+"."+c)}}x()}})(jwplayer);(function(b){b.html5.api=function(B,a){var r={};var x=document.createElement("div");B.parentNode.replaceChild(x,B);x.id=B.id;r.version=b.version;r.id=x.id;var s=new b.html5.model(r,x,a);var u=new b.html5.view(r,x,s);var t=new b.html5.controller(r,x,s,u);r.skin=new b.html5.skin();r.jwPlay=function(c){if(typeof c=="undefined"){y()}else{if(c.toString().toLowerCase()=="true"){t.play()}else{t.pause()}}};r.jwPause=function(c){if(typeof c=="undefined"){y()}else{if(c.toString().toLowerCase()=="true"){t.pause()}else{t.play()}}};function y(){if(s.state==b.api.events.state.PLAYING||s.state==b.api.events.state.BUFFERING){t.pause()}else{t.play()}}r.jwStop=t.stop;r.jwSeek=t.seek;r.jwPlaylistItem=function(c){if(A){if(A.playlistClickable()){A.jwInstreamDestroy();return t.item(c)}}else{return t.item(c)}};r.jwPlaylistNext=t.next;r.jwPlaylistPrev=t.prev;r.jwResize=t.resize;r.jwLoad=t.load;r.jwDetachMedia=t.detachMedia;r.jwAttachMedia=t.attachMedia;function v(c){return function(){return s[c]}}function z(f,c,d){return function(){var g=s.plugins.object[f];if(g&&g[c]&&typeof g[c]=="function"){g[c].apply(g,d)}}}r.jwGetPlaylistIndex=v("item");r.jwGetPosition=v("position");r.jwGetDuration=v("duration");r.jwGetBuffer=v("buffer");r.jwGetWidth=v("width");r.jwGetHeight=v("height");r.jwGetFullscreen=v("fullscreen");r.jwSetFullscreen=t.setFullscreen;r.jwGetVolume=v("volume");r.jwSetVolume=t.setVolume;r.jwGetMute=v("mute");r.jwSetMute=t.setMute;r.jwGetStretching=function(){return s.stretching.toUpperCase()};r.jwGetState=v("state");r.jwGetVersion=function(){return r.version};r.jwGetPlaylist=function(){return s.playlist};r.jwAddEventListener=t.addEventListener;r.jwRemoveEventListener=t.removeEventListener;r.jwSendEvent=t.sendEvent;r.jwDockSetButton=function(c,g,f,d){if(s.plugins.object.dock&&s.plugins.object.dock.setButton){s.plugins.object.dock.setButton(c,g,f,d)}};r.jwControlbarShow=z("controlbar","show");r.jwControlbarHide=z("controlbar","hide");r.jwDockShow=z("dock","show");r.jwDockHide=z("dock","hide");r.jwDisplayShow=z("display","show");r.jwDisplayHide=z("display","hide");var A;r.jwLoadInstream=function(c,d){if(!A){A=new b.html5.instream(r,s,u,t)}setTimeout(function(){A.load(c,d)},10)};r.jwInstreamDestroy=function(){if(A){A.jwInstreamDestroy()}};r.jwInstreamAddEventListener=q("jwInstreamAddEventListener");r.jwInstreamRemoveEventListener=q("jwInstreamRemoveEventListener");r.jwInstreamGetState=q("jwInstreamGetState");r.jwInstreamGetDuration=q("jwInstreamGetDuration");r.jwInstreamGetPosition=q("jwInstreamGetPosition");r.jwInstreamPlay=q("jwInstreamPlay");r.jwInstreamPause=q("jwInstreamPause");r.jwInstreamSeek=q("jwInstreamSeek");function q(c){return function(){if(A&&typeof A[c]=="function"){return A[c].apply(this,arguments)}else{_utils.log("Could not call instream method - instream API not initialized")}}}r.jwDestroy=function(){t.destroy()};r.jwGetLevel=function(){};r.jwGetBandwidth=function(){};r.jwGetLockState=function(){};r.jwLock=function(){};r.jwUnlock=function(){};function C(){if(s.config.playlistfile){s.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,w);s.loadPlaylist(s.config.playlistfile)}else{if(typeof s.config.playlist=="string"){s.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,w);s.loadPlaylist(s.config.playlist)}else{s.loadPlaylist(s.config);setTimeout(w,25)}}}function w(c){s.removeEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,w);s.setupPlugins();u.setup();var c={id:r.id,version:r.version};t.playerReady(c)}if(s.config.chromeless&&!b.utils.isIOS()){C()}else{r.skin.load(s.config.skin,C)}return r}})(jwplayer)}
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.9
 *
 * Requires: jQuery 1.2.2+
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a}else{a(jQuery)}}}(function(c){var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],j=Array.prototype.slice,k,b;if(c.event.fixHooks){for(var f=d.length;f;){c.event.fixHooks[d[--f]]=c.event.mouseHooks}}var g=c.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener){for(var n=l.length;n;){this.addEventListener(l[--n],m,false)}}else{this.onmousewheel=m}c.data(this,"mousewheel-line-height",g.getLineHeight(this));c.data(this,"mousewheel-page-height",g.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var n=l.length;n;){this.removeEventListener(l[--n],m,false)}}else{this.onmousewheel=null}},getLineHeight:function(n){return parseInt(c(n)["offsetParent" in c.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(n){return c(n).height()},settings:{adjustOldDeltas:true}};c.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}});function m(n){var p=n||window.event,t=j.call(arguments,1),v=0,r=0,q=0,s=0;n=c.event.fix(p);n.type="mousewheel";if("detail" in p){q=p.detail*-1}if("wheelDelta" in p){q=p.wheelDelta}if("wheelDeltaY" in p){q=p.wheelDeltaY}if("wheelDeltaX" in p){r=p.wheelDeltaX*-1}if("axis" in p&&p.axis===p.HORIZONTAL_AXIS){r=q*-1;q=0}v=q===0?r:q;if("deltaY" in p){q=p.deltaY*-1;v=q}if("deltaX" in p){r=p.deltaX;if(q===0){v=r*-1}}if(q===0&&r===0){return}if(p.deltaMode===1){var u=c.data(this,"mousewheel-line-height");v*=u;q*=u;r*=u}else{if(p.deltaMode===2){var o=c.data(this,"mousewheel-page-height");v*=o;q*=o;r*=o}}s=Math.max(Math.abs(q),Math.abs(r));if(!b||s<b){b=s;if(a(p,s)){b/=40}}if(a(p,s)){v/=40;r/=40;q/=40}v=Math[v>=1?"floor":"ceil"](v/b);r=Math[r>=1?"floor":"ceil"](r/b);q=Math[q>=1?"floor":"ceil"](q/b);n.deltaX=r;n.deltaY=q;n.deltaFactor=b;n.deltaMode=0;t.unshift(n,v,r,q);if(k){clearTimeout(k)}k=setTimeout(h,200);return(c.event.dispatch||c.event.handle).apply(this,t)}function h(){b=null}function a(o,n){return g.settings.adjustOldDeltas&&o.type==="mousewheel"&&n%120===0}}));(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(b){var a={wheelSpeed:10,wheelPropagation:false,minScrollbarLength:null,useBothWheelAxes:false,useKeyboard:true,suppressScrollX:false,suppressScrollY:false,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:false};var c=(function(){var d=0;return function(){var f=d;d+=1;return".perfect-scrollbar-"+f}}());b.fn.perfectScrollbar=function(d,f){return this.each(function(){var P=b.extend(true,{},a),q=b(this);if(typeof d==="object"){b.extend(true,P,d)}else{f=d}if(f==="update"){if(q.data("perfect-scrollbar-update")){q.data("perfect-scrollbar-update")()}return q}else{if(f==="destroy"){if(q.data("perfect-scrollbar-destroy")){q.data("perfect-scrollbar-destroy")()}return q}}if(q.data("perfect-scrollbar")){return q.data("perfect-scrollbar")}q.addClass("ps-container");var y=b("<div class='ps-scrollbar-x-rail'></div>").appendTo(q),k=b("<div class='ps-scrollbar-y-rail'></div>").appendTo(q),h=b("<div class='ps-scrollbar-x'></div>").appendTo(y),g=b("<div class='ps-scrollbar-y'></div>").appendTo(k),D,C,t,N,O,L,F,r,G=parseInt(y.css("bottom"),10),I,K,Q=parseInt(k.css("right"),10),n=c();var m=function(T,R){var S=T+R,V=N-I;if(S<0){K=0}else{if(S>V){K=V}else{K=S}}var U=parseInt(K*(L-N)/(N-I),10);q.scrollTop(U);y.css({bottom:G-U})};var A=function(U,R){var T=U+R,S=t-F;if(T<0){r=0}else{if(T>S){r=S}else{r=T}}var V=parseInt(r*(O-t)/(t-F),10);q.scrollLeft(V);k.css({right:Q-V})};var B=function(R){if(P.minScrollbarLength){R=Math.max(R,P.minScrollbarLength)}return R};var x=function(){y.css({left:q.scrollLeft(),bottom:G-q.scrollTop(),width:t,display:D?"inherit":"none"});k.css({top:q.scrollTop(),right:Q-q.scrollLeft(),height:N,display:C?"inherit":"none"});h.css({left:r,width:F});g.css({top:K,height:I})};var E=function(){t=P.includePadding?q.outerWidth():q.width();N=P.includePadding?q.outerHeight():q.height();O=q.prop("scrollWidth");L=q.prop("scrollHeight");if(!P.suppressScrollX&&t+P.scrollXMarginOffset<O){D=true;F=B(parseInt(t*t/O,10));r=parseInt(q.scrollLeft()*(t-F)/(O-t),10)}else{D=false;F=0;r=0;q.scrollLeft(0)}if(!P.suppressScrollY&&N+P.scrollYMarginOffset<L){C=true;I=B(parseInt(N*N/L,10));K=parseInt(q.scrollTop()*(N-I)/(L-N),10)}else{C=false;I=0;K=0;q.scrollTop(0)}if(K>=N-I){K=N-I}if(r>=t-F){r=t-F}x()};var o=function(){var S,R;h.bind("mousedown"+n,function(T){R=T.pageX;S=h.position().left;y.addClass("in-scrolling");T.stopPropagation();T.preventDefault()});b(document).bind("mousemove"+n,function(T){if(y.hasClass("in-scrolling")){A(S,T.pageX-R);T.stopPropagation();T.preventDefault()}});b(document).bind("mouseup"+n,function(T){if(y.hasClass("in-scrolling")){y.removeClass("in-scrolling")}});S=R=null};var v=function(){var S,R;g.bind("mousedown"+n,function(T){R=T.pageY;S=g.position().top;k.addClass("in-scrolling");T.stopPropagation();T.preventDefault()});b(document).bind("mousemove"+n,function(T){if(k.hasClass("in-scrolling")){m(S,T.pageY-R);T.stopPropagation();T.preventDefault()}});b(document).bind("mouseup"+n,function(T){if(k.hasClass("in-scrolling")){k.removeClass("in-scrolling")}});S=R=null};var w=function(S,R){var T=q.scrollTop();if(S===0){if(!C){return false}if((T===0&&R>0)||(T>=L-N&&R<0)){return !P.wheelPropagation}}var U=q.scrollLeft();if(R===0){if(!D){return false}if((U===0&&S<0)||(U>=O-t&&S>0)){return !P.wheelPropagation}}return true};var z=function(){var R=false;q.bind("mousewheel"+n,function(X,W,V,U){var T=X.deltaX||V,S=X.deltaY||U;if(!P.useBothWheelAxes){q.scrollTop(q.scrollTop()-(S*P.wheelSpeed));q.scrollLeft(q.scrollLeft()+(T*P.wheelSpeed))}else{if(C&&!D){if(S){q.scrollTop(q.scrollTop()-(S*P.wheelSpeed))}else{q.scrollTop(q.scrollTop()+(T*P.wheelSpeed))}}else{if(D&&!C){if(T){q.scrollLeft(q.scrollLeft()+(T*P.wheelSpeed))}else{q.scrollLeft(q.scrollLeft()-(S*P.wheelSpeed))}}}}E();R=w(T,S);if(R){X.stopPropagation();X.preventDefault()}});q.bind("MozMousePixelScroll"+n,function(S){if(R){S.preventDefault()}})};var j=function(){var S=false;q.bind("mouseenter"+n,function(T){S=true});q.bind("mouseleave"+n,function(T){S=false});var R=false;b(document).bind("keydown"+n,function(V){if(!S||b(document.activeElement).is(":input,[contenteditable]")){return}var U=0,T=0;switch(V.which){case 37:U=-3;break;case 38:T=3;break;case 39:U=3;break;case 40:T=-3;break;case 33:T=9;break;case 32:case 34:T=-9;break;case 35:T=-N;break;case 36:T=N;break;default:return}q.scrollTop(q.scrollTop()-(T*P.wheelSpeed));q.scrollLeft(q.scrollLeft()+(U*P.wheelSpeed));R=w(U,T);if(R){V.preventDefault()}})};var p=function(){var R=function(S){S.stopPropagation()};g.bind("click"+n,R);k.bind("click"+n,function(W){var S=parseInt(I/2,10),U=W.pageY-k.offset().top-S,V=N-I,T=U/V;if(T<0){T=0}else{if(T>1){T=1}}q.scrollTop((L-N)*T)});h.bind("click"+n,R);y.bind("click"+n,function(W){var S=parseInt(F/2,10),T=W.pageX-y.offset().left-S,V=t-F,U=T/V;if(U<0){U=0}else{if(U>1){U=1}}q.scrollLeft((O-t)*U)})};var H=function(){var W=function(Y,X){q.scrollTop(q.scrollTop()-X);q.scrollLeft(q.scrollLeft()-Y);E()};var V={},S=0,U={},T=null,R=false;b(window).bind("touchstart"+n,function(X){R=true});b(window).bind("touchend"+n,function(X){R=false});q.bind("touchstart"+n,function(X){var Y=X.originalEvent.targetTouches[0];V.pageX=Y.pageX;V.pageY=Y.pageY;S=(new Date()).getTime();if(T!==null){clearInterval(T)}X.stopPropagation()});q.bind("touchmove"+n,function(ab){if(!R&&ab.originalEvent.targetTouches.length===1){var ad=ab.originalEvent.targetTouches[0];var Z={};Z.pageX=ad.pageX;Z.pageY=ad.pageY;var Y=Z.pageX-V.pageX,X=Z.pageY-V.pageY;W(Y,X);V=Z;var aa=(new Date()).getTime();var ac=aa-S;if(ac>0){U.x=Y/ac;U.y=X/ac;S=aa}ab.preventDefault()}});q.bind("touchend"+n,function(X){clearInterval(T);T=setInterval(function(){if(Math.abs(U.x)<0.01&&Math.abs(U.y)<0.01){clearInterval(T);return}W(U.x*30,U.y*30);U.x*=0.8;U.y*=0.8},10)})};var J=function(){q.bind("scroll"+n,function(R){E()})};var M=function(){q.unbind(n);b(window).unbind(n);b(document).unbind(n);q.data("perfect-scrollbar",null);q.data("perfect-scrollbar-update",null);q.data("perfect-scrollbar-destroy",null);h.remove();g.remove();y.remove();k.remove();h=g=t=N=O=L=F=r=G=I=K=Q=null};var s=function(S){q.addClass("ie").addClass("ie"+S);var R=function(){var V=function(){b(this).addClass("hover")};var U=function(){b(this).removeClass("hover")};q.bind("mouseenter"+n,V).bind("mouseleave"+n,U);y.bind("mouseenter"+n,V).bind("mouseleave"+n,U);k.bind("mouseenter"+n,V).bind("mouseleave"+n,U);h.bind("mouseenter"+n,V).bind("mouseleave"+n,U);g.bind("mouseenter"+n,V).bind("mouseleave"+n,U)};var T=function(){x=function(){h.css({left:r+q.scrollLeft(),bottom:G,width:F});g.css({top:K+q.scrollTop(),right:Q,height:I});h.hide().show();g.hide().show()}};if(S===6){R();T()}};var u=(("ontouchstart" in window)||window.DocumentTouch&&document instanceof window.DocumentTouch);var l=function(){var R=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);if(R&&R[1]==="msie"){s(parseInt(R[2],10))}E();J();o();v();p();if(u){H()}if(q.mousewheel){z()}if(P.useKeyboard){j()}q.data("perfect-scrollbar",q);q.data("perfect-scrollbar-update",E);q.data("perfect-scrollbar-destroy",M)};l();return q})}}));
/*! http://mths.be/smoothscroll v1.5.2 by @mathias */
;(function(a,c){var b=(function(){var d=c(a.documentElement),g=c(a.body),f;if(d.scrollTop()){return d}else{f=g.scrollTop();if(g.scrollTop(f+1).scrollTop()==f){return d}else{return g.scrollTop(f)}}}());c.fn.smoothScroll=function(d){d=~~d||400;return this.find('a[href*="#"]').click(function(g){var h=this.hash,f=c(h);if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){if(f.length){g.preventDefault();b.stop().animate({scrollTop:f.offset().top},d,function(){location.hash=h})}}}).end()}}(document,jQuery));$.extend(true,$.fn.dataTable.defaults,{sDom:"<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_ records per page"}});$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline"});$.fn.dataTableExt.oApi.fnPagingInfo=function(a){return{iStart:a._iDisplayStart,iEnd:a.fnDisplayEnd(),iLength:a._iDisplayLength,iTotal:a.fnRecordsTotal(),iFilteredTotal:a.fnRecordsDisplay(),iPage:a._iDisplayLength===-1?0:Math.ceil(a._iDisplayStart/a._iDisplayLength),iTotalPages:a._iDisplayLength===-1?0:Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength)}};$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(f,b,d){var a=f.oLanguage.oPaginate;var g=function(h){h.preventDefault();if(f.oApi._fnPageChange(f,h.data.action)){d(f)}};$(b).addClass("pagination").append('<ul><li class="prev disabled"><a href="#">&larr; '+a.sPrevious+'</a></li><li class="next disabled"><a href="#">'+a.sNext+" &rarr; </a></li></ul>");var c=$("a",b);$(c[0]).bind("click.DT",{action:"previous"},g);$(c[1]).bind("click.DT",{action:"next"},g)},fnUpdate:function(c,l){var m=5;var f=c.oInstance.fnPagingInfo();var k=c.aanFeatures.p;var h,n,g,d,a,o,b=Math.floor(m/2);if(f.iTotalPages<m){a=1;o=f.iTotalPages}else{if(f.iPage<=b){a=1;o=m}else{if(f.iPage>=(f.iTotalPages-b)){a=f.iTotalPages-m+1;o=f.iTotalPages}else{a=f.iPage-b+1;o=a+m-1}}}for(h=0,n=k.length;h<n;h++){$("li:gt(0)",k[h]).filter(":not(:last)").remove();for(g=a;g<=o;g++){d=(g==f.iPage+1)?'class="active"':"";$("<li "+d+'><a href="#">'+g+"</a></li>").insertBefore($("li:last",k[h])[0]).bind("click",function(j){j.preventDefault();c._iDisplayStart=(parseInt($("a",this).text(),10)-1)*f.iLength;l(c)})}if(f.iPage===0){$("li:first",k[h]).addClass("disabled")}else{$("li:first",k[h]).removeClass("disabled")}if(f.iPage===f.iTotalPages-1||f.iTotalPages===0){$("li:last",k[h]).addClass("disabled")}else{$("li:last",k[h]).removeClass("disabled")}}}}});if($.fn.DataTable.TableTools){$.extend(true,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}});$.extend(true,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})}(function(){this.VStackedBar=(function(){function a(d,b){var c;this.raw_data=d;c={margin:{top:10,right:10,bottom:10,left:10},max_width:400,max_height:600,container:"body",show_y_axis:false,max_x_value:null,colors:{new_words:"#6f98e3",restudied:"#ffa78b",correct:"#c1dba4"}};this.options=$.extend(c,b);this.margin=this.options.margin;this.width=this.options.max_width-this.margin.left-this.margin.right;this.height=this.options.max_height-this.margin.top-this.margin.bottom;this.max_x_value=this.options.max_x_value;this.svg=d3.select(this.options.container).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.y_scale=d3.scale.ordinal().rangeRoundBands([0,this.height],0.1);this.x_scale=d3.scale.linear().rangeRound([0,this.width]);this.show_y_axis=this.options.show_y_axis;this.data=this.read_data(this.raw_data);this.draw()}a.prototype.read_data=function(h){var b,f,d,c,g;f=d3.values(h)[0];b=d3.keys(f);if(this.options.colors){this.color_scale=d3.scale.ordinal().range(d3.values(this.options.colors));this.color_scale.domain(d3.keys(this.options.colors))}else{this.color_scale=d3.scale.ordinal().range(this.options.colors);this.color_scale.domain(b)}g=d3.keys(h);this.y_scale.domain(g);for(d in h){f=h[d];c=0;f.data=this.color_scale.domain().map(function(j){return{category:j,x0:c,x1:c+=+f[j]}});f.total=f.data[f.data.length-1].x1}this.max_x_value||(this.max_x_value=d3.max(d3.values(h),function(j){return j.total}));this.x_scale.domain([0,this.max_x_value]);return h};a.prototype.draw=function(){var b,c;if(this.show_y_axis){c=d3.svg.axis().scale(this.y_scale).orient("left");this.svg.append("g").call(c)}b=this.svg.selectAll(".stack").data(d3.keys(this.data)).enter().append("g").attr("class","stack").attr("transform",(function(d){return function(f){return"translate(0, "+(d.y_scale(f))+" )"}})(this));return b.selectAll("rect").data((function(d){return function(f){return d.data[f].data}})(this)).enter().append("rect").attr("width",(function(d){return function(f){return d.x_scale(f.x1)-d.x_scale(f.x0)}})(this)).attr("x",(function(d){return function(f){return d.x_scale(f.x0)}})(this)).attr("height",this.y_scale.rangeBand()).attr("title",function(f){return""+(f.x1-f.x0)+" "+f.category}).style("fill",(function(d){return function(f){return d.color_scale(f.category)}})(this))};return a})()}).call(this);(function(){var a=function(b,c){return function(){return b.apply(c,arguments)}};this.CalendarBoxViz=(function(){function b(f,c){var d;this.raw_data=f;this.update_warnings=a(this.update_warnings,this);d={z:18,ncol:7,scheme:"YlGnBu",container:"body",annotate:false,rootclass:"",margin:{top:5,right:5,bottom:0,left:5}};this.student=this.raw_data.student;this.data=this.raw_data.details;this.warning_data=this.raw_data.warnings;this.orig_warning_data=this.warning_data;this.options=$.extend(d,c);this.z=this.options.z;this.ncol=this.options.ncol;this.margin=this.options.margin;this.width=this.z*this.ncol;this.height=this.z*(Math.ceil(d3.keys(this.data).length/this.ncol));if(this.options.annotate){this.height+=50}this.svg=d3.select(this.options.container).append("svg").attr("class",""+this.options.rootclass+" "+this.options.scheme).attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.color_scale=d3.scale.quantile().domain([0,60]).range([3,4,5,6,7,8]);this.date_format=d3.time.format("%b %d, %y");this.days=d3.keys(this.data).map(this.date_format.parse).sort(d3.ascending);this.days_string=this.days.map(this.date_format);if(this.options.annotate){this.draw_with_annotate()}else{this.draw()}}b.prototype.update_warnings=function(f){var c,h,d,g;this.warning_data={};g=this.orig_warning_data;for(c in g){d=g[c];h=_.difference(this.orig_warning_data[c],f);this.warning_data[c]=h}if(this.options.annotate){return this.draw_with_annotate()}else{return this.draw()}};b.prototype.draw_with_annotate=function(){var j,h,g,d,c,f;j=this.svg.selectAll(".day").data(this.days_string,(function(k){return function(l){return l+k.data[l]+k.warning_data[l]}})(this));d=j.enter().append("g").attr("transform",(function(k){return function(m,l){return"translate("+(k.z*(l%k.ncol))+", "+(k.z*Math.floor(l/k.ncol))+")"}})(this)).attr("class",(function(k){return function(n){var l,m;m=k.data[n];l=m>0?"day":"empty day";if(k.warning_data[n].length>0){l+=" suboptimal"}return l}})(this));g=d.append("a").attr("xlink:href",(function(k){return function(l){if(k.data[l]===0){return null}else{return k.url(l)}}})(this)).attr("target","_blank");f=g.append("rect").attr("width",this.z).attr("height",this.z).attr("class",(function(k){return function(n){var l,m;m=k.data[n];l=m>0?"q"+(k.color_scale(m))+"-9":null;return l}})(this));f.append("title").text((function(k){return function(l){return""+l+": "+k.data[l]+" minutes"}})(this));d.append("circle").attr("cx",this.z/2).attr("cy",this.z/2).attr("r",(function(k){return function(l){return 0}})(this));j.selectAll("circle").attr("r",(function(k){return function(l){if(k.warning_data[l].length>0){return k.z/4}else{return 0}}})(this));h=d.append("text").attr("text-anchor","middle").attr("x",(function(k){return function(m,l){return k.z/2.1}})(this)).attr("y",(function(k){return function(m,l){return k.z/1.6}})(this)).text((function(k){return function(m){var l;l=k.data[m];if(l===0){if(k.warning_data[m].length>0){return 0}else{return""}}else{return l}}})(this)).append("title").text((function(k){return function(l){return""+l+": "+k.data[l]+" minutes"}})(this));c=this.days_string.map(function(k){return k.split(/\s*,/)[0]});return this.svg.selectAll("text.calendar-label").data(c).enter().append("text").attr("class","calendar-label").attr("x",(function(k){return function(m,l){return k.z*(l%k.ncol)-30}})(this)).attr("y",(function(k){return function(m,l){return k.z*Math.floor(l/k.ncol)+k.z/1.6}})(this)).text((function(k){return function(m,l){if(l%k.ncol===0){return m}else{return null}}})(this))};b.prototype.draw=function(){var d,c;d=this.svg.selectAll(".day").data(this.days_string,(function(f){return function(g){return g+f.data[g]+f.warning_data[g]}})(this));c=d.enter().append("g").attr("transform",(function(f){return function(h,g){return"translate("+(f.z*(g%f.ncol))+", "+(f.z*Math.floor(g/f.ncol))+")"}})(this)).attr("class",(function(f){return function(j){var g,h;h=f.data[j];g=h>0?"day":"empty day";if(f.warning_data[j].length>0){g+=" suboptimal"}return g}})(this));c.append("rect").attr("width",this.z).attr("height",this.z).attr("class",(function(f){return function(j){var g,h;h=f.data[j];g=h>0?"q"+(f.color_scale(h))+"-9":null;return g}})(this));c.append("circle").attr("cx",this.z/2).attr("cy",this.z/2).attr("r",(function(f){return function(g){return 0}})(this));return d.selectAll("circle").transition().duration(1000).attr("r",(function(f){return function(g){if(f.warning_data[g].length>0){return f.z/5}else{return 0}}})(this))};b.prototype.url=function(c){var f;f=encodeURIComponent(c);return"/training_histories/"+this.student+"?date="+f};return b})()}).call(this);(function(){var a=function(b,c){return function(){return b.apply(c,arguments)}};this.LollipopViz=(function(){function b(g,f){var h,c,d;this.activity_data=g;this.play=a(this.play,this);this.addSlider=a(this.addSlider,this);this.brushed=a(this.brushed,this);h={container:"body",slideContainer:"body",z:20,gap:5,height:400,margin:{top:5,right:5,bottom:30,left:5}};this.options=$.extend(h,f);this.z=this.options.z;this.gap=this.options.gap;this.margin=this.options.margin;this.history=this.activity_data.history;this.width=this.activity_data.history.length*this.z+2*this.gap;this.elapsed=this.activity_data.elapsed;this.height=this.options.height;this.viewport_width=$(this.options.container).width();this.sliderWidth=Math.min(this.viewport_width/1.5,this.elapsed*30);this.sliderBarHeight=5;this.sliderHandleHeight=10;this.sliderTimeBoxHeight=40;this.sliderHeight=Math.max(this.sliderBarHeight,this.sliderHandleHeight)+this.sliderTimeBoxHeight+40;d=(this.viewport_width-this.sliderWidth)/2;this.svgSlider=d3.select(this.options.sliderContainer).append("svg").attr("width","100%").attr("height",this.sliderHeight).append("g").attr("transform","translate("+d+","+this.margin.top+")");this.vizHeight=this.height-this.sliderHeight;this.viz=d3.select(this.options.container).append("svg").attr("class",this.options.scheme).attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.vizHeight+this.margin.bottom+10).append("g").attr("transform","translate("+this.margin.left+","+10+")").attr("class","lollipopviz");this.timeDomain=[0,6];c=[this.vizHeight,0];this.yScale=d3.scale.pow().exponent(0.7).domain(this.timeDomain).range(c);this.xScale=d3.scale.linear().domain([0,this.history.length-1]).range([this.gap/2,this.z*this.history.length]);this.draw()}b.prototype.drawBands=function(){var c;return;c=[["good band",0.5,3],["bad band",0,0.5],["waste band",3,this.timeDomain[1]]];return this.viz.selectAll(".band").data(c).enter().append("rect").attr("x",(function(d){return function(f){return 0}})(this)).attr("y",(function(d){return function(f){return d.yScale(f[2])}})(this)).attr("width",(function(d){return function(){return d.width}})(this)).attr("height",(function(d){return function(f){return d.yScale(f[1])-d.yScale(f[2])}})(this)).attr("class",(function(d){return function(f){return f[0]}})(this))};b.prototype.draw=function(){var k,f,g,j,c,h;this.drawBands();g=null;h=this.history;for(f=j=0,c=h.length;j<c;f=++j){k=h[f];if(f===0){k.cum=0}else{k.cum=g.cum+k.time}g=k}this.items=this.viz.selectAll(".whi").data(this.history).enter().append("g").attr("transform",(function(d){return function(m,l){return"translate( "+(d.xScale(l))+", 0 )"}})(this)).attr("class",(function(d){return function(l){return d.itemToClass(l)}})(this));this.items.append("title").text((function(d){return function(o){var l,m,n;m=Math.floor(o.time/60);n=o.time-60*m;l="";if(m>0){l=""+m+" minutes"}return l+=" "+n+" seconds"}})(this));this.items.append("line").attr("x1",(function(d){return function(m,l){return d.z/2}})(this)).attr("x2",(function(d){return function(m,l){return d.z/2}})(this)).attr("y1",this.vizHeight).attr("y2",(function(d){return function(m,l){return d.yScale(m.time/60)}})(this));this.items.append("path");this.items.append("line").attr("x1",(function(d){return function(m,l){return 0}})(this)).attr("x2",(function(d){return function(m,l){return d.z}})(this)).attr("y1",(function(d){return function(m,l){return d.yScale(m.time/60)}})(this)).attr("y2",(function(d){return function(m,l){return d.yScale(m.time/60)}})(this));this.itemTypeToIcon={Question:"\uf059",Word:"\uf022"};this.items.append("text").attr("x",this.z/2).attr("y",(function(d){return function(m,l){return d.yScale(m.time/60)}})(this)).text((function(d){return function(l){return d.itemTypeToIcon[l.type]}})(this)).attr("text-anchor","middle").attr("class","type-icon");this.items.filter(function(l){return l.restudy===false}).append("text").text((function(d){return function(l){return l.wf}})(this)).style("text-anchor","start").attr("class","wf-label").attr("transform",(function(d){return function(m,l){return"translate( "+(d.z/2+5)+", "+(d.yScale(m.time/60)-20)+" ) rotate(-90)"}})(this));this.addSlider();this.yAxis=d3.svg.axis().scale(this.yScale).orient("left").tickFormat(function(l){return""+l+" min."});this.viz.append("g").attr("class","y axis").call(this.yAxis).append("text").attr("transform","rotate(-90)").attr("y",6).attr("x",-5).style("text-anchor","end");return this.linkDrills()};b.prototype.itemToClass=function(d){var c;c="whi "+d.type.toLowerCase();if(d.type==="Question"){c+=" "+d.subtype}if(d.restudy){c+=" restudy"}if(d.type==="Question"&&d.answer===false){c+=" incorrect"}return c};b.prototype.linkDrills=function(){var c;c=this.items.append("g").filter((function(d){return function(f){return f.type==="Question"&&f.answer===false}})(this)).attr("class","drill-link");return c.append("line").attr("x1",(function(d){return function(g,f){return d.z/2}})(this)).attr("x2",(function(d){return function(g,f){return d.z/2+d.z}})(this)).attr("y1",(function(d){return function(g,f){return d.vizHeight-5}})(this)).attr("y2",(function(d){return function(g,f){return d.vizHeight-5}})(this))};b.prototype.brushed=function(){var f,c,d,j,h,g;f=this.slider[0][0];g=this.brush.extent()[0];if(d3.event.sourceEvent){g=this.sliderScale.invert(d3.mouse(f)[0]);this.brush.extent([g,g])}h=Math.round(g*60);d=Math.floor(g);j=h-d*60;if(d<10){d="0"+d}if(j<10){j="0"+j}this.sliderTimerText.text(""+d+"m:"+j+"s");this.items.each(function(k){return k.selected=false});this.items.each(function(k){if(k.cum<h){return k.selected=true}});this.items.classed("selected",function(k){return k.selected});this.handle.attr("cx",this.sliderScale(g));c=Math.max(0,this.sliderToXScale(g)-70);$(this.options.container).scrollLeft(c);return $(this.options.container).perfectScrollbar("update")};b.prototype.addSlider=function(){var c;this.sliderScale=d3.scale.linear().domain([0,this.elapsed]).range([0,this.sliderWidth]).clamp(true);this.sliderToXScale=d3.scale.linear().domain([0,this.elapsed]).range(this.xScale.range());this.brush=d3.svg.brush().x(this.sliderScale).extent([0,0]).on("brush",this.brushed);this.slider=this.svgSlider.append("g").attr("class","slider").call(this.brush);this.slider.selectAll(".extent,.resize").remove();this.slider.append("text").attr("x",0).attr("y",70).text(this.activity_data.start.replace(/.*at/,"")).attr("class","slider-extent-label");if(!(this.elapsed<2)){this.slider.append("text").attr("x",this.sliderWidth-40).attr("y",70).text(this.activity_data.finish.replace(/.*at/,"")).attr("class","slider-extent-label")}this.sliderBar=this.slider.append("rect").attr("class","slider-bar").attr("height",this.sliderBarHeight).attr("width",this.sliderWidth).attr("y",this.sliderHeight/2);c=90;this.sliderTimeBox=this.slider.append("g").attr("transform","translate("+(this.sliderWidth/2-c/2)+", -10)").attr("class","current-time");this.sliderTimeBox.append("rect").attr("width",c).attr("height",this.sliderTimeBoxHeight);this.sliderTimerText=this.sliderTimeBox.append("text").text("00m:00s").attr("y",40).attr("x",c/2-35);this.slider.select(".background").attr("height",100).attr("width",this.sliderWidth+40).attr("x",-20).attr("y",-20);this.handle=this.slider.append("circle").attr("class","handle").attr("r",this.sliderHandleHeight).attr("cy",this.sliderHeight/2+this.sliderBarHeight/2);return this.play()};b.prototype.play=function(){return;return this.slider.call(this.brush.event).transition().ease("linear").duration(750*this.elapsed).delay(500).call(this.brush.extent([this.elapsed,this.elapsed])).call(this.brush.event)};return b})()}).call(this);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(f,g,a,j,h){return jQuery.easing[jQuery.easing.def](f,g,a,j,h)},easeInQuad:function(f,g,a,j,h){return j*(g/=h)*g+a},easeOutQuad:function(f,g,a,j,h){return -j*(g/=h)*(g-2)+a},easeInOutQuad:function(f,g,a,j,h){if((g/=h/2)<1){return j/2*g*g+a}return -j/2*((--g)*(g-2)-1)+a},easeInCubic:function(f,g,a,j,h){return j*(g/=h)*g*g+a},easeOutCubic:function(f,g,a,j,h){return j*((g=g/h-1)*g*g+1)+a},easeInOutCubic:function(f,g,a,j,h){if((g/=h/2)<1){return j/2*g*g*g+a}return j/2*((g-=2)*g*g+2)+a},easeInQuart:function(f,g,a,j,h){return j*(g/=h)*g*g*g+a},easeOutQuart:function(f,g,a,j,h){return -j*((g=g/h-1)*g*g*g-1)+a},easeInOutQuart:function(f,g,a,j,h){if((g/=h/2)<1){return j/2*g*g*g*g+a}return -j/2*((g-=2)*g*g*g-2)+a},easeInQuint:function(f,g,a,j,h){return j*(g/=h)*g*g*g*g+a},easeOutQuint:function(f,g,a,j,h){return j*((g=g/h-1)*g*g*g*g+1)+a},easeInOutQuint:function(f,g,a,j,h){if((g/=h/2)<1){return j/2*g*g*g*g*g+a}return j/2*((g-=2)*g*g*g*g+2)+a},easeInSine:function(f,g,a,j,h){return -j*Math.cos(g/h*(Math.PI/2))+j+a},easeOutSine:function(f,g,a,j,h){return j*Math.sin(g/h*(Math.PI/2))+a},easeInOutSine:function(f,g,a,j,h){return -j/2*(Math.cos(Math.PI*g/h)-1)+a},easeInExpo:function(f,g,a,j,h){return(g==0)?a:j*Math.pow(2,10*(g/h-1))+a},easeOutExpo:function(f,g,a,j,h){return(g==h)?a+j:j*(-Math.pow(2,-10*g/h)+1)+a},easeInOutExpo:function(f,g,a,j,h){if(g==0){return a}if(g==h){return a+j}if((g/=h/2)<1){return j/2*Math.pow(2,10*(g-1))+a}return j/2*(-Math.pow(2,-10*--g)+2)+a},easeInCirc:function(f,g,a,j,h){return -j*(Math.sqrt(1-(g/=h)*g)-1)+a},easeOutCirc:function(f,g,a,j,h){return j*Math.sqrt(1-(g=g/h-1)*g)+a},easeInOutCirc:function(f,g,a,j,h){if((g/=h/2)<1){return -j/2*(Math.sqrt(1-g*g)-1)+a}return j/2*(Math.sqrt(1-(g-=2)*g)+1)+a},easeInElastic:function(g,j,f,n,m){var k=1.70158;var l=0;var h=n;if(j==0){return f}if((j/=m)==1){return f+n}if(!l){l=m*0.3}if(h<Math.abs(n)){h=n;var k=l/4}else{var k=l/(2*Math.PI)*Math.asin(n/h)}return -(h*Math.pow(2,10*(j-=1))*Math.sin((j*m-k)*(2*Math.PI)/l))+f},easeOutElastic:function(g,j,f,n,m){var k=1.70158;var l=0;var h=n;if(j==0){return f}if((j/=m)==1){return f+n}if(!l){l=m*0.3}if(h<Math.abs(n)){h=n;var k=l/4}else{var k=l/(2*Math.PI)*Math.asin(n/h)}return h*Math.pow(2,-10*j)*Math.sin((j*m-k)*(2*Math.PI)/l)+n+f},easeInOutElastic:function(g,j,f,n,m){var k=1.70158;var l=0;var h=n;if(j==0){return f}if((j/=m/2)==2){return f+n}if(!l){l=m*(0.3*1.5)}if(h<Math.abs(n)){h=n;var k=l/4}else{var k=l/(2*Math.PI)*Math.asin(n/h)}if(j<1){return -0.5*(h*Math.pow(2,10*(j-=1))*Math.sin((j*m-k)*(2*Math.PI)/l))+f}return h*Math.pow(2,-10*(j-=1))*Math.sin((j*m-k)*(2*Math.PI)/l)*0.5+n+f},easeInBack:function(f,g,a,k,j,h){if(h==undefined){h=1.70158}return k*(g/=j)*g*((h+1)*g-h)+a},easeOutBack:function(f,g,a,k,j,h){if(h==undefined){h=1.70158}return k*((g=g/j-1)*g*((h+1)*g+h)+1)+a},easeInOutBack:function(f,g,a,k,j,h){if(h==undefined){h=1.70158}if((g/=j/2)<1){return k/2*(g*g*(((h*=(1.525))+1)*g-h))+a}return k/2*((g-=2)*g*(((h*=(1.525))+1)*g+h)+2)+a},easeInBounce:function(f,g,a,j,h){return j-jQuery.easing.easeOutBounce(f,h-g,0,j,h)+a},easeOutBounce:function(f,g,a,j,h){if((g/=h)<(1/2.75)){return j*(7.5625*g*g)+a}else{if(g<(2/2.75)){return j*(7.5625*(g-=(1.5/2.75))*g+0.75)+a}else{if(g<(2.5/2.75)){return j*(7.5625*(g-=(2.25/2.75))*g+0.9375)+a}else{return j*(7.5625*(g-=(2.625/2.75))*g+0.984375)+a}}}},easeInOutBounce:function(f,g,a,j,h){if(g<h/2){return jQuery.easing.easeInBounce(f,g*2,0,j,h)*0.5+a}return jQuery.easing.easeOutBounce(f,g*2-h,0,j,h)*0.5+j*0.5+a}});(function(){(function(b){var d,c,a;a="counter";c={autoStart:true,duration:1500,countFrom:void 0,countTo:void 0,runOnce:false,placeholder:void 0,easing:"easeOutQuad",onStart:function(){},onComplete:function(){}};d=(function(){function f(h,g){this.element=h;this.options=b.extend(true,{},c,g);this.init()}return f})();d.prototype.init=function(){var f;f=parseInt(this.element.innerHTML);if((f!=null)&&!isNaN(f)){if(this.options.countFrom<f){this.options.countTo=f}else{this.options.countFrom=f}}if(this.options.countFrom===void 0){this.options.countFrom=0}if(this.options.countTo===void 0){this.options.countTo=0}if(this.options.placeholder!=null){this.element.innerHTML=this.options.placeholder}if(this.options.autoStart){return this.start()}};d.prototype.start=function(){var f;if(this.options.runOnce&&this.runCount()>=1){return false}if(!this.running){this.running=true;this.updateRunCount();this.options.onStart();f=this;return jQuery({count:this.options.countFrom}).animate({count:this.options.countTo},{duration:this.options.duration,easing:this.options.easing,step:function(){return f.setNumber(this.count)},complete:function(){f.setNumber(f.options.countTo);f.running=false;return f.options.onComplete()}})}};d.prototype.updateRunCount=function(){return b(this.element).data("counterRunCount",(this.runCount()||0)+1)};d.prototype.runCount=function(){return b(this.element).data("counterRunCount")};d.prototype.setNumber=function(f){return this.element.innerHTML=Math.round(f)};return b.fn.counter=function(g){var f;f=this;return this.each(function(){var h;if(h=b(this).data("plugin_"+a)){if(typeof g==="string"){switch(g){case"start":return h.start()}}}else{return b(this).data("plugin_"+a,new d(this,g))}})}})(jQuery)}).call(this);(function(){var a,b=[].slice;a=function(j,c,f){var m,k,g,l,h,d;if(arguments.length<3){h=[(typeof exports!=="undefined"?exports:window)].concat(b.call(arguments)),j=h[0],c=h[1],f=h[2]}k=j;d=c.split(".");for(g=0,l=d.length;g<l;g++){m=d[g];j=j[m]||(j[m]={})}return f(j,k)};a("MB",function(c){c.activateDataTables=function(){return $("table.data-table").each(function(k,l){var j,h,g,m,d,f;j=$(l);h=[];m={restore:"Restore Defaults",showAll:"Show All",aiExclude:[]};d="rtip";if(j.hasClass("table-hidden-columns")){d='C<"clear">'+d;m.sAlign="right"}$(l).find("tr:first th").each(function(p,o){var r,n,q;r={};if($(o).hasClass("sortable")){$(o).append("<span class='icon sort-icon'/>");n=$(o).attr("class").match(/js-sort-(.*)/);q=n?n[1]:null;r.sType=q}else{r.bSortable=false}if($(o).hasClass("js-start-hidden")){r.bVisible=false}h.push(r);if($(o).hasClass("js-hidden-exclude")){return m.aiExclude.push(p)}});if($(l).data("colvis-text")){m.buttonText=$(l).data("colvis-text")}f={};if(j.hasClass("table-downloadable")){d=d+'<"pull-right mts"T>';g=[];j.find(">thead th").each(function(o,n){if(!$(n).hasClass("js-not-downloadable")){g.push(o)}});f={sSwfPath:"http://cdn.datatables.net/tabletools/2.2.2/swf/copy_csv_xls_pdf.swf",aButtons:[{sExtends:"csv",mColumns:g},{sExtends:"xls",mColumns:g}]}}return $(l).dataTable({iDisplayLength:j.hasClass("all")?10000:50,sDom:d,aoColumns:h,oColVis:m,tableTools:f,fnDrawCallback:function(n){if(n._iDisplayLength>n.fnRecordsDisplay()){$(n.nTableWrapper).find(".dataTables_paginate").hide();return $(n.nTableWrapper).find(".dataTables_length").hide()}}})})};c.embedJwPlayer=function(g){var d,f,h,k,j;if(g==null){g={}}if(!(g.container&&(g.videopath||g.playlistfile||g.fullurl))){return}if(g.fullurl){k=g.fullurl}else{k="http://cdn0.membean.com/video/"+g.videopath+".mp4"}f={width:g.width||480,height:g.height||360,logo:"/images/membean-logo-tiny.png",frontcolor:"cccccc",backcolor:"111111",file:k,autostart:g.autostart||false,modes:[{type:"flash",src:"/flash/player5.10.swf"},{type:"html5"}]};if(g.responsive){h=$("#"+g.container).closest(".js-resp").width();d=g.wide?16/9:f.width/f.height;j=[h,h/d],f.width=j[0],f.height=j[1]}if(g.image){_.extend(f,{image:g.image})}return jwplayer(g.container).setup(f)};c.activateLightBoxVids=function(){return $("body").on("click",".lightbox-video-link",(function(d){return function(m){var h,l,k,g,f,j;m.preventDefault();l=$(m.currentTarget);f=l.data("videopath");k=l.data("fullurl");$("body").append("<div id='lb-wrapper'><div id='lb-inner' style='display:none'/></div>");j=Math.min($(window).width(),$(window).height());g=j*(10/13);h={container:"lb-inner",videopath:f,fullurl:k,autostart:true,width:j,height:g};MB.embedJwPlayer(h);return $("#lb-wrapper").lightbox_me({centered:true,destroyOnClose:true})}})(this))};c.intersect=function(g,f){var d,j,h;j=g.position();h=f.position();j.right=j.left+g.width();h.right=h.left+f.width();j.bottom=j.top+g.height();h.bottom=h.top+f.height();d=j.left<=h.right&&h.left<=j.right&&j.top<=h.bottom&&h.top<=j.bottom;return d};c.activateCounters=function(){return $(".counter").each(function(g,h){var f,j,d;f=$(h);j=f.data("start");d=f.data("stop");return f.counter({autoStart:true,duration:7000,countTo:d,placeholder:j})})};c.delay=function(d,f){return setTimeout(f,d)};return c.fullheight=function(){if($("html").hasClass("fullheight")){return $("#content-wrapper").height($("html").height()-$("header").outerHeight())}}});$(function(){$.ajaxSetup({cache:false,timeout:10000});MB.activateDataTables();$("[rel~=tooltip]").tooltip();$(".collapse").collapse();MB.activateLightBoxVids();return MB.activateCounters()});$(window).load(function(){MB.fullheight();$(".embed-video").each(function(c,d){return MB.embedJwPlayer($(d).data())});return $("body").on("click",'*[rel="popover"]',function(c){c.preventDefault();return $(this).popover({animation:true})})})}).call(this);(function(){$.blockUI.defaults.message="wait ..";$.blockUI.defaults.css={cursor:"pointer",border:"1 px solid #efefef"};$.blockUI.defaults.overlayCSS.backgroundColor="#ccc";$.blockUI.defaults.overlayCSS.opacity=0.2;$.ajaxPrefilter(function(a,c,b){a.maxTries=c.maxTries||1;if(a.tries!=null){a.tries++}else{a.tries=1}b.pipe(null,function(f,g,d){if(a.tries<a.maxTries&&(g==="error"&&a.retryCodes&&a.retryCodes.indexOf(f.status)!==-1||g==="timeout")){if(typeof console!=="undefined"&&console!==null){console.log("Retrying.."+a.tries+"/"+a.maxTries)}return $.ajax(a)}else{if(typeof console!=="undefined"&&console!==null){console.log("Rejecting ... "+g)}return $.Deferred().reject(f,g,d)}}).promise(b);b.success=b.done;return b.error=b.fail});$.ajaxPrefilter(function(a,g,b){var d,f,c;if(a.spinner){f=$(a.spinner)[0];d=new Spinner();if(f){c=setTimeout(function(){$(f).block({message:a.message});return d.spin(f)},500);return b.always(function(){clearTimeout(c);d.stop();return $(f).unblock()})}else{return typeof console!=="undefined"&&console!==null?console.log("Found spinner parameter, but couldn't find the specified element."):void 0}}});$.ajaxGenericErrorMessage=function(a,d,c){var b;if(d==="timeout"){b="Sorry we couldn't complete your request because it timed out. Are having trouble with your internet connection? Please try again after a while."}else{b="Sorry we couldn't complete your request. Please try again. If this message occurs repeatedly, please contact us."}return bootbox.alert(b)}}).call(this);(function(){$(function(){var a;$("#js-school-index-submit").on("click",(function(b){return function(d){var c;d.preventDefault();c=$.ajax({url:"/schools",dataType:"json",maxTries:2,type:"GET",spinner:"#js-form",data:{start:$("#js-start-date input").val(),finish:$("#js-end-date input").val()}});c.done((function(j){var h,f,k,g;f=0;h="";for(g in j){k=j[g];f+=1;h+="<tr>";h+="<td>"+f+"</td>";h+="<td>"+k.name+"</td>";h+="<td>"+g+"</td>";h+="<td>";h+="<a href='schools/"+g+"/engagement'><span class='circle q"+k.qp+"'/></a>";h+="<a href='schools/"+g+"/engagement'><span class='circle q"+k.q+"'/></a>";h+="</td>";h+="<td><a href='/school/"+g+"/users'><i class='icon-table'></i></a></td>";h+="</tr>"}return $("#js-school-engagement tbody").html(h)}));return c.fail($.ajaxGenericErrorMessage)}})(this));$(".date").datetimepicker({pickTime:false});return a=$("#js-school-engagement").dataTable({iDisplayLength:50})})}).call(this);(function(){var c,d,f,b=function(g,h){return function(){return g.apply(h,arguments)}},a={}.hasOwnProperty;c=(function(){function g(h,j){this.$table=h;this.$info=j;this.computeProgressTowardsGoals=b(this.computeProgressTowardsGoals,this);this.postFilter=b(this.postFilter,this);this.goalWeights=b(this.goalWeights,this);this.updateRollupInfoBox();this.$table.on("report.filtered",this.postFilter);this.rows=this.$table.find("tbody tr")}g.prototype.clear=function(){return this.$table.find("tr").removeClass("fail-filter").removeClass("pass-filter")};g.prototype.goalWeights=function(j,l,k){var h;h=Math.min(k,1)+2*Math.min(l,1)+4*Math.min(j,1);return[[0,0,0],[0,0,0],[0,1,0],[0,0.5,0.5],[1,0,0],[1,0,0],[0.5,0.5,0],[0.5,0.3,0.2]][h]};g.prototype.totalTimeSpent=function(j){var h;h=$(this.rows[j]).data("total_time");return parseInt(h,10)};g.prototype.totalDaysTrained=function(j){var h;h=$(this.rows[j]).data("num_days_trained");return parseInt(h,10)};g.prototype.totalGoodDays=function(j,l){var n,h,k,m;n=$(this.rows[j]).find("td[data-training_day_box]").data("training_day_box").details;k=(function(){var o;o=[];for(h in n){m=n[h];if(m>=l){o.push(h)}}return o})();return k.length};g.prototype.filter=function(j,l,k){var h;this.goal_time=j;this.goal_days=l;this.goal_time_per_day=k;h={};if(this.goal_time>0){this.rows.each((function(m){return function(n,o){var p;p=m.totalTimeSpent(n);if(p<m.goal_time){return h[n]=$(o)}}})(this))}if(this.goal_days>0){this.rows.each((function(m){return function(n,o){var p;p=m.totalDaysTrained(n);if(p<m.goal_days){return h[n]=$(o)}}})(this))}if(this.goal_time_per_day>0){this.rows.each((function(m){return function(o,p){var n;n=m.totalGoodDays(o,m.goal_time_per_day);if(n<m.goal_days){return h[o]=$(p)}}})(this))}return this.$table.trigger("report.filtered",[h,this.rows])};g.prototype.validFilter=function(){return this.goal_time>0||this.goal_days>0||this.goal_time_per_day>0};g.prototype.postFilter=function(s,l,v){var r,j,q,n,t,p,o,m,u,h;this.clear();j=(function(){var k;k=[];for(n in l){if(!a.call(l,n)){continue}k.push(n)}return k})();if(j.length>0){p=[];for(o=0,u=j.length;o<u;o++){q=j[o];r=l[q];p.push({name:r.find("td:first").text(),login:r.data("login")})}for(m=0,h=v.length;m<h;m++){t=v[m];$(t).addClass("pass-filter")}for(q in l){t=l[q];$(t).removeClass("pass-filter").addClass("fail-filter")}}this.computeProgressTowardsGoals(l,v);return this.updateRollupInfoBox(p)};g.prototype.updateRollupInfoBox=function(l){var o,m,n,h,p,k,j;if(l==null){l=[]}o=this.$info.find(".violators");this.$info.removeClass("success danger neutral");o.empty();if(!this.validFilter()){this.$info.addClass("neutral");return o.html("Please apply filters by dragging the green circle ( <span class='circle'></span> ) above.")}else{if(l.length>0){this.$info.addClass("danger");o.html("<h4> The following students did not meet assigned time goals: </h4>");j=[];for(p=0,k=l.length;p<k;p++){h=l[p];m=h.login;n=h.name;j.push(o.append("<a href='#"+m+"'>"+n+"</a>"))}return j}else{this.$info.addClass("success");return o.html("All students met goals specified.")}}};g.prototype.computeProgressTowardsGoals=function(k,v){var j,u,s,r,o,q,h,w,m,t,n,l;this.goal_time_weight=0;this.goal_time_per_day_weight=0;this.goal_days_weight=0;this.filter_set=this.goal_time>0||this.goal_time_per_day>0||this.goal_days>0;if(this.filter_set){n=this.goalWeights(this.goal_time,this.goal_days,this.goal_time_per_day),this.goal_time_weight=n[0],this.goal_days_weight=n[1],this.goal_time_per_day_weight=n[2];o=0;u=0;s=0;r=0;l=[];for(m=0,t=v.length;m<t;m++){w=v[m];if(this.goal_time){u=(Math.min(this.totalTimeSpent(o)/this.goal_time,1))*this.goal_time_weight}if(this.goal_days){s=(Math.min(this.totalDaysTrained(o)/this.goal_days,1))*this.goal_days_weight}if(this.goal_days){r=(Math.min(this.totalGoodDays(o,this.goal_time_per_day)/this.goal_days,1))*this.goal_time_per_day_weight}h=Math.round((u+s+r)*100);j=$(w).find(".goal-progress .bar");q="bar-danger";if((70<=h&&h<100)){q="bar-warning"}if(h===100){q="bar-success"}if(h===0){q="bar-empty"}j.removeClass("bar-danger bar-warning bar-success");j.html(""+h+"%").css("width",""+h+"%").addClass(q);l.push(o+=1)}return l}};return g})();d=function(g){var h;h=[];$("td[data-training_day_box]").each((function(j){return function(k,l){var m;m=$(l).data("training_day_box");return h.push(new CalendarBoxViz(m,{container:l,z:10,ncol:14,rootclass:"boxviz-thumbnail"}))}})(this));$(".filter-warnings input").on("change",function(o){var p,m,j,n,l,k;p=$(this).closest(".filter-warnings").find("input");m=[];p.each(function(q,r){if(!r.checked){return m.push(r.id)}});k=[];for(n=0,l=h.length;n<l;n++){j=h[n];k.push(j.update_warnings(m))}return k});$(".svg-expand").on("click",function(p){var j,t,r,m,q,v,l,s,o,n,u,k;p.preventDefault();t=$(this);j=t.closest("td");s=t.html();k=s.substring(0,4);if(k!=="hide"){t.html("hide<br>"+s);t.addClass("link-alt");l=j.find("svg.boxviz");o=t.data("popover");if(!o){m=j.data("training_day_box");h.push(new CalendarBoxViz(m,{container:j.find(".large-svg-popup").first().get(0),z:40,ncol:7,annotate:true,rootclass:"boxviz",margin:{top:0,right:10,left:30,bottom:0}}));q=""+(g.data("start"))+" - "+(g.data("end"));n=m.name;u=("<strong>"+n+":</strong>")+(" Minutes trained each day<br>"+q)+" (<span class='small'>Click on any box below for details</span>)";v="Click on any box to see details for that day.";r=j.find(".large-svg-popup .boxviz");t.popover({html:true,trigger:"click",placement:"left",content:function(){return r},title:u}).on("hide",function(w){return j.find(".large-svg-popup").append(j.find(".boxviz"))});o=t.data("popover");o.show()}}else{t.html(s.replace("hide<br>",""));t.removeClass("link-alt")}return $(".filter-warnings input").trigger("change")});return $("svg.boxviz-thumbnail").on("click ",function(j){var k;k=$(this).closest("td").find("a.svg-expand");return k.click()})};f=function(){return $("td[data-performance]").each(function(g,h){var j;j=+$(h).closest("table").data("max_items");return new VStackedBar($(h).data("performance"),{max_width:175,container:h,max_height:25,max_x_value:j,margin:{top:0,right:10,left:10,bottom:0}})})};$(function(){var g,q,j,p,k,h,n,m,l,o;q=$("#js-student-training-report.table");if(q.length<1){return}if(!Modernizr.svg){h=window.location.href;h=h.replace(/_new/,"");window.location.href=h;return}k=q.dataTable();f();d(q);o=+$("#goal-time").val();l=+$("#goal-discrete-days").val();m=+$("#goal-discrete-days-time").val();g=$("#violations-summary");n=new c(q,g);j={lineCap:"round",cursor:1,displayPrevious:true,borderWidth:3,bgColor:"#eee",fgColor:"#a0ca75",thickness:0.3};p=$.extend(j,{release:function(r){o=+r;return n.filter(o,l,m)}});$("#goal-time").knob(p);p=$.extend(j,{release:function(r){l=+r;return n.filter(o,l,m)}});$("#goal-discrete-days").knob(p);p=$.extend(j,{release:function(r){m=+r;if(l===0&&m!==0){return $("#goal-discrete-days").addClass("animated shake")}else{$("#goal-discrete-days").removeClass("animated shake");return n.filter(o,l,m)}}});$("#goal-discrete-days-time").knob(p);$("#js-reset-filter").on("click",function(r){r.preventDefault();return $("#goal-time, #goal-discrete-days, #goal-discrete-days-time").each(function(){return $(this).val(0).trigger("change")})});$("#goal-time").each(function(){var r;r=+$(this).val();$(this).val(0).trigger("change");return $(this).val(r).trigger("change")});q.on("report.filtered",function(r){return g.smoothScroll()});$("body").on("click",":checked",function(r){if(/Goal\s*Progress/i.test($(this).parent().text())){return n.filter(o,l,m)}});return $("body").on("click",":checked",function(r){if(/Training\s*Summary/i.test($(this).parent().text())){return f()}})})}).call(this);(function(){$(function(){var d,c,b,a;if($("#polar_continuas").length<1){return}a=$("#polcon-wordbox-container").width();c=$("#polcon-wordbox-container").height();$("#polcon-wordbox-container").css("min-height",c);$("#polcon-wordbox-container").css("min-width",a);b=$(".polcon-answer-holder").length;d=$("#polcon-answer-section").width()-40;$(".polcon-corner-word").each((function(f){return function(g,h){return d-=$(h).width()}})(this));$(".polcon-answer-holder").css("width",d/b+"px");$(".polcon-wordbox").draggable({containment:"#question-wrapper",cursor:"move",revert:"invalid",helper:"clone",zIndex:9999,start:function(g,f){$(this).addClass("shell");return $(this).children().addClass("invisible")},stop:function(f,g){$(this).removeClass("shell");return $(this).children().removeClass("invisible")}});$("#polcon-answer-section").removeClass("invisible");return $(".polcon-answerbox").droppable({accept:".polcon-wordbox",activeClass:"brighten",hoverClass:"invite",drop:function(m,l){var k,h,j,g,f;$(this).find(".placeholder").remove();l.draggable.find(".icon").remove();l.draggable.appendTo($(this));l.draggable.css("top","");l.draggable.css("left","");g=$(this).closest(".polcon-answer-holder").find(".vline");j=$(this).closest(".polcon-answer-holder").prev(".polcon-answer-holder").find(".polcon-answerbox");h=$(this).closest(".polcon-answer-holder").next(".polcon-answer-holder").find(".polcon-answerbox");if(h.length>0){while(MB.intersect($(this),h)){k=g.height();g.css("height",k+25)}}if(j.length>0){f=[];while(MB.intersect($(this),j)){k=g.height();f.push(g.css("height",k+25))}return f}}})})}).call(this);(function(){$(function(){if($(".training-day-viz").length>0){$(".training-day-viz").each(function(b,c){var a,d;a="#training-day-viz-"+b;d=$(a).data("activity");new LollipopViz(d,{container:a,sliderContainer:"#training-day-viz-slider-"+b,margin:{top:20,right:5,bottom:20,left:60},gap:10});return $(a).perfectScrollbar()});return $(".alert").popover({html:true,trigger:"hover",placement:"top"})}})}).call(this);